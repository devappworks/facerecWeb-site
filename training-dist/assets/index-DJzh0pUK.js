(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(u){if(u.ep)return;u.ep=!0;const f=o(u);fetch(u.href,f)}})();var Bc={exports:{}},Rs={};var uh;function ey(){if(uh)return Rs;uh=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(c,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var b in u)b!=="key"&&(f[b]=u[b])}else f=u;return u=f.ref,{$$typeof:s,type:c,key:h,ref:u!==void 0?u:null,props:f}}return Rs.Fragment=r,Rs.jsx=o,Rs.jsxs=o,Rs}var fh;function ty(){return fh||(fh=1,Bc.exports=ey()),Bc.exports}var n=ty(),Oc={exports:{}},_e={};var mh;function ny(){if(mh)return _e;mh=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function N(A){return A===null||typeof A!="object"?null:(A=w&&A[w]||A["@@iterator"],typeof A=="function"?A:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function T(A,L,Z){this.props=A,this.context=L,this.refs=_,this.updater=Z||j}T.prototype.isReactComponent={},T.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},T.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function O(){}O.prototype=T.prototype;function D(A,L,Z){this.props=A,this.context=L,this.refs=_,this.updater=Z||j}var z=D.prototype=new O;z.constructor=D,C(z,T.prototype),z.isPureReactComponent=!0;var R=Array.isArray;function q(){}var B={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function te(A,L,Z){var I=Z.ref;return{$$typeof:s,type:A,key:L,ref:I!==void 0?I:null,props:Z}}function W(A,L){return te(A.type,L,A.props)}function H(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function ue(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Z){return L[Z]})}var ge=/\/+/g;function Ee(A,L){return typeof A=="object"&&A!==null&&A.key!=null?ue(""+A.key):L.toString(36)}function Oe(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(q,q):(A.status="pending",A.then(function(L){A.status==="pending"&&(A.status="fulfilled",A.value=L)},function(L){A.status==="pending"&&(A.status="rejected",A.reason=L)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function Q(A,L,Z,I,oe){var ye=typeof A;(ye==="undefined"||ye==="boolean")&&(A=null);var de=!1;if(A===null)de=!0;else switch(ye){case"bigint":case"string":case"number":de=!0;break;case"object":switch(A.$$typeof){case s:case r:de=!0;break;case v:return de=A._init,Q(de(A._payload),L,Z,I,oe)}}if(de)return oe=oe(A),de=I===""?"."+Ee(A,0):I,R(oe)?(Z="",de!=null&&(Z=de.replace(ge,"$&/")+"/"),Q(oe,L,Z,"",function(zt){return zt})):oe!=null&&(H(oe)&&(oe=W(oe,Z+(oe.key==null||A&&A.key===oe.key?"":(""+oe.key).replace(ge,"$&/")+"/")+de)),L.push(oe)),1;de=0;var Me=I===""?".":I+":";if(R(A))for(var Qe=0;Qe<A.length;Qe++)I=A[Qe],ye=Me+Ee(I,Qe),de+=Q(I,L,Z,ye,oe);else if(Qe=N(A),typeof Qe=="function")for(A=Qe.call(A),Qe=0;!(I=A.next()).done;)I=I.value,ye=Me+Ee(I,Qe++),de+=Q(I,L,Z,ye,oe);else if(ye==="object"){if(typeof A.then=="function")return Q(Oe(A),L,Z,I,oe);throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return de}function le(A,L,Z){if(A==null)return A;var I=[],oe=0;return Q(A,I,"","",function(ye){return L.call(Z,ye,oe++)}),I}function J(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(Z){(A._status===0||A._status===-1)&&(A._status=1,A._result=Z)},function(Z){(A._status===0||A._status===-1)&&(A._status=2,A._result=Z)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var be=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},je={map:le,forEach:function(A,L,Z){le(A,function(){L.apply(this,arguments)},Z)},count:function(A){var L=0;return le(A,function(){L++}),L},toArray:function(A){return le(A,function(L){return L})||[]},only:function(A){if(!H(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return _e.Activity=x,_e.Children=je,_e.Component=T,_e.Fragment=o,_e.Profiler=u,_e.PureComponent=D,_e.StrictMode=c,_e.Suspense=y,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,_e.__COMPILER_RUNTIME={__proto__:null,c:function(A){return B.H.useMemoCache(A)}},_e.cache=function(A){return function(){return A.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(A,L,Z){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var I=C({},A.props),oe=A.key;if(L!=null)for(ye in L.key!==void 0&&(oe=""+L.key),L)!X.call(L,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&L.ref===void 0||(I[ye]=L[ye]);var ye=arguments.length-2;if(ye===1)I.children=Z;else if(1<ye){for(var de=Array(ye),Me=0;Me<ye;Me++)de[Me]=arguments[Me+2];I.children=de}return te(A.type,oe,I)},_e.createContext=function(A){return A={$$typeof:h,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:f,_context:A},A},_e.createElement=function(A,L,Z){var I,oe={},ye=null;if(L!=null)for(I in L.key!==void 0&&(ye=""+L.key),L)X.call(L,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(oe[I]=L[I]);var de=arguments.length-2;if(de===1)oe.children=Z;else if(1<de){for(var Me=Array(de),Qe=0;Qe<de;Qe++)Me[Qe]=arguments[Qe+2];oe.children=Me}if(A&&A.defaultProps)for(I in de=A.defaultProps,de)oe[I]===void 0&&(oe[I]=de[I]);return te(A,ye,oe)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(A){return{$$typeof:b,render:A}},_e.isValidElement=H,_e.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:J}},_e.memo=function(A,L){return{$$typeof:p,type:A,compare:L===void 0?null:L}},_e.startTransition=function(A){var L=B.T,Z={};B.T=Z;try{var I=A(),oe=B.S;oe!==null&&oe(Z,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(q,be)}catch(ye){be(ye)}finally{L!==null&&Z.types!==null&&(L.types=Z.types),B.T=L}},_e.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},_e.use=function(A){return B.H.use(A)},_e.useActionState=function(A,L,Z){return B.H.useActionState(A,L,Z)},_e.useCallback=function(A,L){return B.H.useCallback(A,L)},_e.useContext=function(A){return B.H.useContext(A)},_e.useDebugValue=function(){},_e.useDeferredValue=function(A,L){return B.H.useDeferredValue(A,L)},_e.useEffect=function(A,L){return B.H.useEffect(A,L)},_e.useEffectEvent=function(A){return B.H.useEffectEvent(A)},_e.useId=function(){return B.H.useId()},_e.useImperativeHandle=function(A,L,Z){return B.H.useImperativeHandle(A,L,Z)},_e.useInsertionEffect=function(A,L){return B.H.useInsertionEffect(A,L)},_e.useLayoutEffect=function(A,L){return B.H.useLayoutEffect(A,L)},_e.useMemo=function(A,L){return B.H.useMemo(A,L)},_e.useOptimistic=function(A,L){return B.H.useOptimistic(A,L)},_e.useReducer=function(A,L,Z){return B.H.useReducer(A,L,Z)},_e.useRef=function(A){return B.H.useRef(A)},_e.useState=function(A){return B.H.useState(A)},_e.useSyncExternalStore=function(A,L,Z){return B.H.useSyncExternalStore(A,L,Z)},_e.useTransition=function(){return B.H.useTransition()},_e.version="19.2.0",_e}var hh;function nd(){return hh||(hh=1,Oc.exports=ny()),Oc.exports}var g=nd(),Mc={exports:{}},Es={},Uc={exports:{}},Lc={};var ph;function ay(){return ph||(ph=1,(function(s){function r(Q,le){var J=Q.length;Q.push(le);e:for(;0<J;){var be=J-1>>>1,je=Q[be];if(0<u(je,le))Q[be]=le,Q[J]=je,J=be;else break e}}function o(Q){return Q.length===0?null:Q[0]}function c(Q){if(Q.length===0)return null;var le=Q[0],J=Q.pop();if(J!==le){Q[0]=J;e:for(var be=0,je=Q.length,A=je>>>1;be<A;){var L=2*(be+1)-1,Z=Q[L],I=L+1,oe=Q[I];if(0>u(Z,J))I<je&&0>u(oe,Z)?(Q[be]=oe,Q[I]=J,be=I):(Q[be]=Z,Q[L]=J,be=L);else if(I<je&&0>u(oe,J))Q[be]=oe,Q[I]=J,be=I;else break e}}return le}function u(Q,le){var J=Q.sortIndex-le.sortIndex;return J!==0?J:Q.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,b=h.now();s.unstable_now=function(){return h.now()-b}}var y=[],p=[],v=1,x=null,w=3,N=!1,j=!1,C=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function z(Q){for(var le=o(p);le!==null;){if(le.callback===null)c(p);else if(le.startTime<=Q)c(p),le.sortIndex=le.expirationTime,r(y,le);else break;le=o(p)}}function R(Q){if(C=!1,z(Q),!j)if(o(y)!==null)j=!0,q||(q=!0,ue());else{var le=o(p);le!==null&&Oe(R,le.startTime-Q)}}var q=!1,B=-1,X=5,te=-1;function W(){return _?!0:!(s.unstable_now()-te<X)}function H(){if(_=!1,q){var Q=s.unstable_now();te=Q;var le=!0;try{e:{j=!1,C&&(C=!1,O(B),B=-1),N=!0;var J=w;try{t:{for(z(Q),x=o(y);x!==null&&!(x.expirationTime>Q&&W());){var be=x.callback;if(typeof be=="function"){x.callback=null,w=x.priorityLevel;var je=be(x.expirationTime<=Q);if(Q=s.unstable_now(),typeof je=="function"){x.callback=je,z(Q),le=!0;break t}x===o(y)&&c(y),z(Q)}else c(y);x=o(y)}if(x!==null)le=!0;else{var A=o(p);A!==null&&Oe(R,A.startTime-Q),le=!1}}break e}finally{x=null,w=J,N=!1}le=void 0}}finally{le?ue():q=!1}}}var ue;if(typeof D=="function")ue=function(){D(H)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ee=ge.port2;ge.port1.onmessage=H,ue=function(){Ee.postMessage(null)}}else ue=function(){T(H,0)};function Oe(Q,le){B=T(function(){Q(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var J=w;w=le;try{return Q()}finally{w=J}},s.unstable_requestPaint=function(){_=!0},s.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var J=w;w=Q;try{return le()}finally{w=J}},s.unstable_scheduleCallback=function(Q,le,J){var be=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?be+J:be):J=be,Q){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=J+je,Q={id:v++,callback:le,priorityLevel:Q,startTime:J,expirationTime:je,sortIndex:-1},J>be?(Q.sortIndex=J,r(p,Q),o(y)===null&&Q===o(p)&&(C?(O(B),B=-1):C=!0,Oe(R,J-be))):(Q.sortIndex=je,r(y,Q),j||N||(j=!0,q||(q=!0,ue()))),Q},s.unstable_shouldYield=W,s.unstable_wrapCallback=function(Q){var le=w;return function(){var J=w;w=le;try{return Q.apply(this,arguments)}finally{w=J}}}})(Lc)),Lc}var gh;function ly(){return gh||(gh=1,Uc.exports=ay()),Uc.exports}var qc={exports:{}},Tt={};var xh;function sy(){if(xh)return Tt;xh=1;var s=nd();function r(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var c={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:y,containerInfo:p,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Tt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(y,p,null,v)},Tt.flushSync=function(y){var p=h.T,v=c.p;try{if(h.T=null,c.p=2,y)return y()}finally{h.T=p,c.p=v,c.d.f()}},Tt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,c.d.C(y,p))},Tt.prefetchDNS=function(y){typeof y=="string"&&c.d.D(y)},Tt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,x=b(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?c.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:N}):v==="script"&&c.d.X(y,{crossOrigin:x,integrity:w,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Tt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=b(p.as,p.crossOrigin);c.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&c.d.M(y)},Tt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=b(v,p.crossOrigin);c.d.L(y,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Tt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=b(p.as,p.crossOrigin);c.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else c.d.m(y)},Tt.requestFormReset=function(y){c.d.r(y)},Tt.unstable_batchedUpdates=function(y,p){return y(p)},Tt.useFormState=function(y,p,v){return h.H.useFormState(y,p,v)},Tt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Tt.version="19.2.0",Tt}var yh;function iy(){if(yh)return qc.exports;yh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),qc.exports=sy(),qc.exports}var bh;function ry(){if(bh)return Es;bh=1;var s=ly(),r=nd(),o=iy();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(c(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,l=t;;){var i=a.return;if(i===null)break;var d=i.alternate;if(d===null){if(l=i.return,l!==null){a=l;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===a)return y(i),e;if(d===l)return y(i),t;d=d.sibling}throw Error(c(188))}if(a.return!==l.return)a=i,l=d;else{for(var m=!1,S=i.child;S;){if(S===a){m=!0,a=i,l=d;break}if(S===l){m=!0,l=i,a=d;break}S=S.sibling}if(!m){for(S=d.child;S;){if(S===a){m=!0,a=d,l=i;break}if(S===l){m=!0,l=d,a=i;break}S=S.sibling}if(!m)throw Error(c(189))}}if(a.alternate!==l)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),D=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ge?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case T:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case q:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case D:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case X:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}var Oe=Array.isArray,Q=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},be=[],je=-1;function A(e){return{current:e}}function L(e){0>je||(e.current=be[je],be[je]=null,je--)}function Z(e,t){je++,be[je]=e.current,e.current=t}var I=A(null),oe=A(null),ye=A(null),de=A(null);function Me(e,t){switch(Z(ye,t),Z(oe,e),Z(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bm(t),e=Om(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(I),Z(I,e)}function Qe(){L(I),L(oe),L(ye)}function zt(e){e.memoizedState!==null&&Z(de,e);var t=I.current,a=Om(t,e.type);t!==a&&(Z(oe,e),Z(I,a))}function jn(e){oe.current===e&&(L(I),L(oe)),de.current===e&&(L(de),ws._currentValue=J)}var Et,Sn;function kt(e){if(Et===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Et=t&&t[1]||"",Sn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Et+e+Sn}var se=!1;function M(e,t){if(!e||se)return"";se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(P){var G=P}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(P){G=P}e.call(ee.prototype)}}else{try{throw Error()}catch(P){G=P}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(P){if(P&&G&&typeof P.stack=="string")return[P.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),m=d[0],S=d[1];if(m&&S){var E=m.split(`
`),V=S.split(`
`);for(i=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;i<V.length&&!V[i].includes("DetermineComponentFrameRoot");)i++;if(l===E.length||i===V.length)for(l=E.length-1,i=V.length-1;1<=l&&0<=i&&E[l]!==V[i];)i--;for(;1<=l&&0<=i;l--,i--)if(E[l]!==V[i]){if(l!==1||i!==1)do if(l--,i--,0>i||E[l]!==V[i]){var $=`
`+E[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=i);break}}}finally{se=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?kt(a):""}function ie(e,t){switch(e.tag){case 26:case 27:case 5:return kt(e.type);case 16:return kt("Lazy");case 13:return e.child!==t&&t!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return M(e.type,!1);case 11:return M(e.type.render,!1);case 1:return M(e.type,!0);case 31:return kt("Activity");default:return""}}function Se(e){try{var t="",a=null;do t+=ie(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var we=Object.prototype.hasOwnProperty,at=s.unstable_scheduleCallback,ne=s.unstable_cancelCallback,pe=s.unstable_shouldYield,Ye=s.unstable_requestPaint,rt=s.unstable_now,Qa=s.unstable_getCurrentPriorityLevel,$n=s.unstable_ImmediatePriority,mn=s.unstable_UserBlockingPriority,ja=s.unstable_NormalPriority,lt=s.unstable_LowPriority,ae=s.unstable_IdlePriority,re=s.log,qe=s.unstable_setDisableYieldValue,Pe=null,Te=null;function jt(e){if(typeof re=="function"&&qe(e),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(Pe,e)}catch{}}var Gt=Math.clz32?Math.clz32:Hp,Lp=Math.log,qp=Math.LN2;function Hp(e){return e>>>=0,e===0?32:31-(Lp(e)/qp|0)|0}var Hs=256,Fs=262144,Vs=4194304;function Sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var i=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?i=Sa(l):(m&=S,m!==0?i=Sa(m):a||(a=S&~e,a!==0&&(i=Sa(a))))):(S=l&~d,S!==0?i=Sa(S):m!==0?i=Sa(m):a||(a=l&~e,a!==0&&(i=Sa(a)))),i===0?0:t!==0&&t!==i&&(t&d)===0&&(d=i&-i,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:i}function Ul(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hd(){var e=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),e}function jr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ll(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vp(e,t,a,l,i,d){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,E=e.expirationTimes,V=e.hiddenUpdates;for(a=m&~a;0<a;){var $=31-Gt(a),ee=1<<$;S[$]=0,E[$]=-1;var G=V[$];if(G!==null)for(V[$]=null,$=0;$<G.length;$++){var P=G[$];P!==null&&(P.lane&=-536870913)}a&=~ee}l!==0&&pd(e,l,0),d!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function pd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Gt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function gd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Gt(a),i=1<<l;i&t|e[l]&t&&(e[l]|=t),a&=~i}}function xd(e,t){var a=t&-t;return a=(a&42)!==0?1:Sr(a),(a&(e.suspendedLanes|t))!==0?0:a}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _r(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yd(){var e=le.p;return e!==0?e:(e=window.event,e===void 0?32:lh(e.type))}function bd(e,t){var a=le.p;try{return le.p=e,t()}finally{le.p=a}}var Zn=Math.random().toString(36).slice(2),St="__reactFiber$"+Zn,Dt="__reactProps$"+Zn,Ya="__reactContainer$"+Zn,wr="__reactEvents$"+Zn,Gp="__reactListeners$"+Zn,Qp="__reactHandles$"+Zn,vd="__reactResources$"+Zn,ql="__reactMarker$"+Zn;function Nr(e){delete e[St],delete e[Dt],delete e[wr],delete e[Gp],delete e[Qp]}function Pa(e){var t=e[St];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ya]||a[St]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Vm(e);e!==null;){if(a=e[St])return a;e=Vm(e)}return t}e=a,a=e.parentNode}return null}function Xa(e){if(e=e[St]||e[Ya]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Wa(e){var t=e[vd];return t||(t=e[vd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function xt(e){e[ql]=!0}var jd=new Set,Sd={};function _a(e,t){$a(e,t),$a(e+"Capture",t)}function $a(e,t){for(Sd[e]=t,e=0;e<t.length;e++)jd.add(t[e])}var Yp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_d={},wd={};function Pp(e){return we.call(wd,e)?!0:we.call(_d,e)?!1:Yp.test(e)?wd[e]=!0:(_d[e]=!0,!1)}function Qs(e,t,a){if(Pp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Rn(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xp(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var i=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(m){a=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cr(e){if(!e._valueTracker){var t=Nd(e)?"checked":"value";e._valueTracker=Xp(e,t,""+e[t])}}function Cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Nd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wp=/[\n"\\]/g;function tn(e){return e.replace(Wp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tr(e,t,a,l,i,d,m,S){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Rr(e,m,en(t)):a!=null?Rr(e,m,en(a)):l!=null&&e.removeAttribute("value"),i==null&&d!=null&&(e.defaultChecked=!!d),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+en(S):e.removeAttribute("name")}function Td(e,t,a,l,i,d,m,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Cr(e);return}a=a!=null?""+en(a):"",t=t!=null?""+en(t):a,S||t===e.value||(e.value=t),e.defaultValue=t}l=l??i,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Cr(e)}function Rr(e,t,a){t==="number"&&Ps(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Za(e,t,a,l){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&l&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,l&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rd(e,t,a){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+en(a):""}function Ed(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(c(92));if(Oe(l)){if(1<l.length)throw Error(c(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=en(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Cr(e)}function Ka(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var $p=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ad(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||$p.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function zd(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var i in t)l=t[i],t.hasOwnProperty(i)&&a[i]!==l&&Ad(e,i,l)}else for(var d in t)t.hasOwnProperty(d)&&Ad(e,d,t[d])}function Er(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return Kp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var Ar=null;function zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,Ia=null;function kd(e){var t=Xa(e);if(t&&(e=t.stateNode)){var a=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var i=l[Dt]||null;if(!i)throw Error(c(90));Tr(l,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Cd(l)}break e;case"textarea":Rd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Za(e,!!a.multiple,t,!1)}}}var kr=!1;function Dd(e,t,a){if(kr)return e(t,a);kr=!0;try{var l=e(t);return l}finally{if(kr=!1,(Ja!==null||Ia!==null)&&(Bi(),Ja&&(t=Ja,e=Ia,Ia=Ja=null,kd(t),e)))for(t=0;t<e.length;t++)kd(e[t])}}function Fl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(An)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Dr=!1}var Kn=null,Br=null,Ws=null;function Bd(){if(Ws)return Ws;var e,t=Br,a=t.length,l,i="value"in Kn?Kn.value:Kn.textContent,d=i.length;for(e=0;e<a&&t[e]===i[e];e++);var m=a-e;for(l=1;l<=m&&t[a-l]===i[d-l];l++);return Ws=i.slice(e,1<l?1-l:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function Od(){return!1}function Bt(e){function t(a,l,i,d,m){this._reactName=a,this._targetInst=i,this.type=l,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zs:Od,this.isPropagationStopped=Od,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Bt(wa),Gl=x({},wa,{view:0,detail:0}),Jp=Bt(Gl),Or,Mr,Ql,Js=x({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?(Or=e.screenX-Ql.screenX,Mr=e.screenY-Ql.screenY):Mr=Or=0,Ql=e),Or)},movementY:function(e){return"movementY"in e?e.movementY:Mr}}),Md=Bt(Js),Ip=x({},Js,{dataTransfer:0}),eg=Bt(Ip),tg=x({},Gl,{relatedTarget:0}),Ur=Bt(tg),ng=x({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),ag=Bt(ng),lg=x({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sg=Bt(lg),ig=x({},wa,{data:0}),Ud=Bt(ig),rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cg[e])?!!t[e]:!1}function Lr(){return dg}var ug=x({},Gl,{key:function(e){if(e.key){var t=rg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fg=Bt(ug),mg=x({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=Bt(mg),hg=x({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),pg=Bt(hg),gg=x({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xg=Bt(gg),yg=x({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bg=Bt(yg),vg=x({},wa,{newState:0,oldState:0}),jg=Bt(vg),Sg=[9,13,27,32],qr=An&&"CompositionEvent"in window,Yl=null;An&&"documentMode"in document&&(Yl=document.documentMode);var _g=An&&"TextEvent"in window&&!Yl,qd=An&&(!qr||Yl&&8<Yl&&11>=Yl),Hd=" ",Fd=!1;function Vd(e,t){switch(e){case"keyup":return Sg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function wg(e,t){switch(e){case"compositionend":return Gd(t);case"keypress":return t.which!==32?null:(Fd=!0,Hd);case"textInput":return e=t.data,e===Hd&&Fd?null:e;default:return null}}function Ng(e,t){if(el)return e==="compositionend"||!qr&&Vd(e,t)?(e=Bd(),Ws=Br=Kn=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qd&&t.locale!=="ko"?null:t.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cg[e.type]:t==="textarea"}function Yd(e,t,a,l){Ja?Ia?Ia.push(l):Ia=[l]:Ja=l,t=Fi(t,"onChange"),0<t.length&&(a=new Ks("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Pl=null,Xl=null;function Tg(e){Rm(e,0)}function Is(e){var t=Hl(e);if(Cd(t))return e}function Pd(e,t){if(e==="change")return t}var Xd=!1;if(An){var Hr;if(An){var Fr="oninput"in document;if(!Fr){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Fr=typeof Wd.oninput=="function"}Hr=Fr}else Hr=!1;Xd=Hr&&(!document.documentMode||9<document.documentMode)}function $d(){Pl&&(Pl.detachEvent("onpropertychange",Zd),Xl=Pl=null)}function Zd(e){if(e.propertyName==="value"&&Is(Xl)){var t=[];Yd(t,Xl,e,zr(e)),Dd(Tg,t)}}function Rg(e,t,a){e==="focusin"?($d(),Pl=t,Xl=a,Pl.attachEvent("onpropertychange",Zd)):e==="focusout"&&$d()}function Eg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(Xl)}function Ag(e,t){if(e==="click")return Is(t)}function zg(e,t){if(e==="input"||e==="change")return Is(t)}function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:kg;function Wl(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var i=a[l];if(!we.call(t,i)||!Qt(e[i],t[i]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jd(e,t){var a=Kd(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kd(a)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ps(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Dg=An&&"documentMode"in document&&11>=document.documentMode,tl=null,Gr=null,$l=null,Qr=!1;function tu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qr||tl==null||tl!==Ps(l)||(l=tl,"selectionStart"in l&&Vr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$l&&Wl($l,l)||($l=l,l=Fi(Gr,"onSelect"),0<l.length&&(t=new Ks("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=tl)))}function Na(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var nl={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Yr={},nu={};An&&(nu=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function Ca(e){if(Yr[e])return Yr[e];if(!nl[e])return e;var t=nl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in nu)return Yr[e]=t[a];return e}var au=Ca("animationend"),lu=Ca("animationiteration"),su=Ca("animationstart"),Bg=Ca("transitionrun"),Og=Ca("transitionstart"),Mg=Ca("transitioncancel"),iu=Ca("transitionend"),ru=new Map,Pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pr.push("scrollEnd");function hn(e,t){ru.set(e,t),_a(t,[e])}var ei=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],al=0,Xr=0;function ti(){for(var e=al,t=Xr=al=0;t<e;){var a=nn[t];nn[t++]=null;var l=nn[t];nn[t++]=null;var i=nn[t];nn[t++]=null;var d=nn[t];if(nn[t++]=null,l!==null&&i!==null){var m=l.pending;m===null?i.next=i:(i.next=m.next,m.next=i),l.pending=i}d!==0&&ou(a,i,d)}}function ni(e,t,a,l){nn[al++]=e,nn[al++]=t,nn[al++]=a,nn[al++]=l,Xr|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wr(e,t,a,l){return ni(e,t,a,l),ai(e)}function Ta(e,t){return ni(e,null,null,t),ai(e)}function ou(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var i=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(i=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,i&&t!==null&&(i=31-Gt(a),e=d.hiddenUpdates,l=e[i],l===null?e[i]=[t]:l.push(t),t.lane=a|536870912),d):null}function ai(e){if(50<xs)throw xs=0,lc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ll={};function Ug(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,a,l){return new Ug(e,t,a,l)}function $r(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zn(e,t){var a=e.alternate;return a===null?(a=Yt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function li(e,t,a,l,i,d){var m=0;if(l=e,typeof e=="function")$r(e)&&(m=1);else if(typeof e=="string")m=Vx(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Yt(31,a,t,i),e.elementType=te,e.lanes=d,e;case C:return Ra(a.children,i,d,t);case _:m=8,i|=24;break;case T:return e=Yt(12,a,t,i|2),e.elementType=T,e.lanes=d,e;case R:return e=Yt(13,a,t,i),e.elementType=R,e.lanes=d,e;case q:return e=Yt(19,a,t,i),e.elementType=q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:m=10;break e;case O:m=9;break e;case z:m=11;break e;case B:m=14;break e;case X:m=16,l=null;break e}m=29,a=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=Yt(m,a,t,i),t.elementType=e,t.type=l,t.lanes=d,t}function Ra(e,t,a,l){return e=Yt(7,e,l,t),e.lanes=a,e}function Zr(e,t,a){return e=Yt(6,e,null,t),e.lanes=a,e}function du(e){var t=Yt(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,a){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var uu=new WeakMap;function an(e,t){if(typeof e=="object"&&e!==null){var a=uu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Se(t)},uu.set(e,t),t)}return{value:e,source:t,stack:Se(t)}}var sl=[],il=0,si=null,Zl=0,ln=[],sn=0,Jn=null,_n=1,wn="";function kn(e,t){sl[il++]=Zl,sl[il++]=si,si=e,Zl=t}function fu(e,t,a){ln[sn++]=_n,ln[sn++]=wn,ln[sn++]=Jn,Jn=e;var l=_n;e=wn;var i=32-Gt(l)-1;l&=~(1<<i),a+=1;var d=32-Gt(t)+i;if(30<d){var m=i-i%5;d=(l&(1<<m)-1).toString(32),l>>=m,i-=m,_n=1<<32-Gt(t)+i|a<<i|l,wn=d+e}else _n=1<<d|a<<i|l,wn=e}function Jr(e){e.return!==null&&(kn(e,1),fu(e,1,0))}function Ir(e){for(;e===si;)si=sl[--il],sl[il]=null,Zl=sl[--il],sl[il]=null;for(;e===Jn;)Jn=ln[--sn],ln[sn]=null,wn=ln[--sn],ln[sn]=null,_n=ln[--sn],ln[sn]=null}function mu(e,t){ln[sn++]=_n,ln[sn++]=wn,ln[sn++]=Jn,_n=t.id,wn=t.overflow,Jn=e}var _t=null,Ie=null,Ue=!1,In=null,rn=!1,eo=Error(c(519));function ea(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(an(t,e)),eo}function hu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[St]=e,t[Dt]=l,a){case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":case"embed":ke("load",t);break;case"video":case"audio":for(a=0;a<bs.length;a++)ke(bs[a],t);break;case"source":ke("error",t);break;case"img":case"image":case"link":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"input":ke("invalid",t),Td(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",t);break;case"textarea":ke("invalid",t),Ed(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||km(t.textContent,a)?(l.popover!=null&&(ke("beforetoggle",t),ke("toggle",t)),l.onScroll!=null&&ke("scroll",t),l.onScrollEnd!=null&&ke("scrollend",t),l.onClick!=null&&(t.onclick=En),t=!0):t=!1,t||ea(e,!0)}function pu(e){for(_t=e.return;_t;)switch(_t.tag){case 5:case 31:case 13:rn=!1;return;case 27:case 3:rn=!0;return;default:_t=_t.return}}function rl(e){if(e!==_t)return!1;if(!Ue)return pu(e),Ue=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bc(e.type,e.memoizedProps)),a=!a),a&&Ie&&ea(e),pu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ie=Fm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ie=Fm(e)}else t===27?(t=Ie,ha(e.type)?(e=wc,wc=null,Ie=e):Ie=t):Ie=_t?cn(e.stateNode.nextSibling):null;return!0}function Ea(){Ie=_t=null,Ue=!1}function to(){var e=In;return e!==null&&(Lt===null?Lt=e:Lt.push.apply(Lt,e),In=null),e}function Kl(e){In===null?In=[e]:In.push(e)}var no=A(null),Aa=null,Dn=null;function ta(e,t,a){Z(no,t._currentValue),t._currentValue=a}function Bn(e){e._currentValue=no.current,L(no)}function ao(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function lo(e,t,a,l){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var d=i.dependencies;if(d!==null){var m=i.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=i;for(var E=0;E<t.length;E++)if(S.context===t[E]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),ao(d.return,a,e),l||(m=null);break e}d=S.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(c(341));m.lanes|=a,d=m.alternate,d!==null&&(d.lanes|=a),ao(m,a,e),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===e){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function ol(e,t,a,l){e=null;for(var i=t,d=!1;i!==null;){if(!d){if((i.flags&524288)!==0)d=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(c(387));if(m=m.memoizedProps,m!==null){var S=i.type;Qt(i.pendingProps.value,m.value)||(e!==null?e.push(S):e=[S])}}else if(i===de.current){if(m=i.alternate,m===null)throw Error(c(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ws):e=[ws])}i=i.return}e!==null&&lo(t,e,a,l),t.flags|=262144}function ii(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function za(e){Aa=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return gu(Aa,e)}function ri(e,t){return Aa===null&&za(e),gu(e,t)}function gu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Dn===null){if(e===null)throw Error(c(308));Dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dn=Dn.next=t;return a}var Lg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},qg=s.unstable_scheduleCallback,Hg=s.unstable_NormalPriority,ut={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new Lg,data:new Map,refCount:0}}function Jl(e){e.refCount--,e.refCount===0&&qg(Hg,function(){e.controller.abort()})}var Il=null,io=0,cl=0,dl=null;function Fg(e,t){if(Il===null){var a=Il=[];io=0,cl=dc(),dl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return io++,t.then(xu,xu),t}function xu(){if(--io===0&&Il!==null){dl!==null&&(dl.status="fulfilled");var e=Il;Il=null,cl=0,dl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Vg(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(l.status="rejected",l.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),l}var yu=Q.S;Q.S=function(e,t){nm=rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fg(e,t),yu!==null&&yu(e,t)};var ka=A(null);function ro(){var e=ka.current;return e!==null?e:Je.pooledCache}function oi(e,t){t===null?Z(ka,ka.current):Z(ka,t.pool)}function bu(){var e=ro();return e===null?null:{parent:ut._currentValue,pool:e}}var ul=Error(c(460)),oo=Error(c(474)),ci=Error(c(542)),di={then:function(){}};function vu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ju(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(En,En),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_u(e),e;default:if(typeof t.status=="string")t.then(En,En);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=l}},function(l){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_u(e),e}throw Ba=t,ul}}function Da(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ba=a,ul):a}}var Ba=null;function Su(){if(Ba===null)throw Error(c(459));var e=Ba;return Ba=null,e}function _u(e){if(e===ul||e===ci)throw Error(c(483))}var fl=null,es=0;function ui(e){var t=es;return es+=1,fl===null&&(fl=[]),ju(fl,e,t)}function ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fi(e,t){throw t.$$typeof===w?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wu(e){function t(U,k){if(e){var F=U.deletions;F===null?(U.deletions=[k],U.flags|=16):F.push(k)}}function a(U,k){if(!e)return null;for(;k!==null;)t(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function i(U,k){return U=zn(U,k),U.index=0,U.sibling=null,U}function d(U,k,F){return U.index=F,e?(F=U.alternate,F!==null?(F=F.index,F<k?(U.flags|=67108866,k):F):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function m(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function S(U,k,F,K){return k===null||k.tag!==6?(k=Zr(F,U.mode,K),k.return=U,k):(k=i(k,F),k.return=U,k)}function E(U,k,F,K){var xe=F.type;return xe===C?$(U,k,F.props.children,K,F.key):k!==null&&(k.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===X&&Da(xe)===k.type)?(k=i(k,F.props),ts(k,F),k.return=U,k):(k=li(F.type,F.key,F.props,null,U.mode,K),ts(k,F),k.return=U,k)}function V(U,k,F,K){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Kr(F,U.mode,K),k.return=U,k):(k=i(k,F.children||[]),k.return=U,k)}function $(U,k,F,K,xe){return k===null||k.tag!==7?(k=Ra(F,U.mode,K,xe),k.return=U,k):(k=i(k,F),k.return=U,k)}function ee(U,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Zr(""+k,U.mode,F),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return F=li(k.type,k.key,k.props,null,U.mode,F),ts(F,k),F.return=U,F;case j:return k=Kr(k,U.mode,F),k.return=U,k;case X:return k=Da(k),ee(U,k,F)}if(Oe(k)||ue(k))return k=Ra(k,U.mode,F,null),k.return=U,k;if(typeof k.then=="function")return ee(U,ui(k),F);if(k.$$typeof===D)return ee(U,ri(U,k),F);fi(U,k)}return null}function G(U,k,F,K){var xe=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return xe!==null?null:S(U,k,""+F,K);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return F.key===xe?E(U,k,F,K):null;case j:return F.key===xe?V(U,k,F,K):null;case X:return F=Da(F),G(U,k,F,K)}if(Oe(F)||ue(F))return xe!==null?null:$(U,k,F,K,null);if(typeof F.then=="function")return G(U,k,ui(F),K);if(F.$$typeof===D)return G(U,k,ri(U,F),K);fi(U,F)}return null}function P(U,k,F,K,xe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(F)||null,S(k,U,""+K,xe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return U=U.get(K.key===null?F:K.key)||null,E(k,U,K,xe);case j:return U=U.get(K.key===null?F:K.key)||null,V(k,U,K,xe);case X:return K=Da(K),P(U,k,F,K,xe)}if(Oe(K)||ue(K))return U=U.get(F)||null,$(k,U,K,xe,null);if(typeof K.then=="function")return P(U,k,F,ui(K),xe);if(K.$$typeof===D)return P(U,k,F,ri(k,K),xe);fi(k,K)}return null}function fe(U,k,F,K){for(var xe=null,He=null,me=k,Re=k=0,Be=null;me!==null&&Re<F.length;Re++){me.index>Re?(Be=me,me=null):Be=me.sibling;var Fe=G(U,me,F[Re],K);if(Fe===null){me===null&&(me=Be);break}e&&me&&Fe.alternate===null&&t(U,me),k=d(Fe,k,Re),He===null?xe=Fe:He.sibling=Fe,He=Fe,me=Be}if(Re===F.length)return a(U,me),Ue&&kn(U,Re),xe;if(me===null){for(;Re<F.length;Re++)me=ee(U,F[Re],K),me!==null&&(k=d(me,k,Re),He===null?xe=me:He.sibling=me,He=me);return Ue&&kn(U,Re),xe}for(me=l(me);Re<F.length;Re++)Be=P(me,U,Re,F[Re],K),Be!==null&&(e&&Be.alternate!==null&&me.delete(Be.key===null?Re:Be.key),k=d(Be,k,Re),He===null?xe=Be:He.sibling=Be,He=Be);return e&&me.forEach(function(ba){return t(U,ba)}),Ue&&kn(U,Re),xe}function ve(U,k,F,K){if(F==null)throw Error(c(151));for(var xe=null,He=null,me=k,Re=k=0,Be=null,Fe=F.next();me!==null&&!Fe.done;Re++,Fe=F.next()){me.index>Re?(Be=me,me=null):Be=me.sibling;var ba=G(U,me,Fe.value,K);if(ba===null){me===null&&(me=Be);break}e&&me&&ba.alternate===null&&t(U,me),k=d(ba,k,Re),He===null?xe=ba:He.sibling=ba,He=ba,me=Be}if(Fe.done)return a(U,me),Ue&&kn(U,Re),xe;if(me===null){for(;!Fe.done;Re++,Fe=F.next())Fe=ee(U,Fe.value,K),Fe!==null&&(k=d(Fe,k,Re),He===null?xe=Fe:He.sibling=Fe,He=Fe);return Ue&&kn(U,Re),xe}for(me=l(me);!Fe.done;Re++,Fe=F.next())Fe=P(me,U,Re,Fe.value,K),Fe!==null&&(e&&Fe.alternate!==null&&me.delete(Fe.key===null?Re:Fe.key),k=d(Fe,k,Re),He===null?xe=Fe:He.sibling=Fe,He=Fe);return e&&me.forEach(function(Ix){return t(U,Ix)}),Ue&&kn(U,Re),xe}function Ke(U,k,F,K){if(typeof F=="object"&&F!==null&&F.type===C&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case N:e:{for(var xe=F.key;k!==null;){if(k.key===xe){if(xe=F.type,xe===C){if(k.tag===7){a(U,k.sibling),K=i(k,F.props.children),K.return=U,U=K;break e}}else if(k.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===X&&Da(xe)===k.type){a(U,k.sibling),K=i(k,F.props),ts(K,F),K.return=U,U=K;break e}a(U,k);break}else t(U,k);k=k.sibling}F.type===C?(K=Ra(F.props.children,U.mode,K,F.key),K.return=U,U=K):(K=li(F.type,F.key,F.props,null,U.mode,K),ts(K,F),K.return=U,U=K)}return m(U);case j:e:{for(xe=F.key;k!==null;){if(k.key===xe)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(U,k.sibling),K=i(k,F.children||[]),K.return=U,U=K;break e}else{a(U,k);break}else t(U,k);k=k.sibling}K=Kr(F,U.mode,K),K.return=U,U=K}return m(U);case X:return F=Da(F),Ke(U,k,F,K)}if(Oe(F))return fe(U,k,F,K);if(ue(F)){if(xe=ue(F),typeof xe!="function")throw Error(c(150));return F=xe.call(F),ve(U,k,F,K)}if(typeof F.then=="function")return Ke(U,k,ui(F),K);if(F.$$typeof===D)return Ke(U,k,ri(U,F),K);fi(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(a(U,k.sibling),K=i(k,F),K.return=U,U=K):(a(U,k),K=Zr(F,U.mode,K),K.return=U,U=K),m(U)):a(U,k)}return function(U,k,F,K){try{es=0;var xe=Ke(U,k,F,K);return fl=null,xe}catch(me){if(me===ul||me===ci)throw me;var He=Yt(29,me,null,U.mode);return He.lanes=K,He.return=U,He}finally{}}}var Oa=wu(!0),Nu=wu(!1),na=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function la(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var i=l.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),l.pending=t,t=ai(e),ou(e,null,a),t}return ni(e,l,t,a),ai(e)}function ns(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,gd(e,a)}}function fo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var i=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?i=d=m:d=d.next=m,a=a.next}while(a!==null);d===null?i=d=t:d=d.next=t}else i=d=t;a={baseState:l.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var mo=!1;function as(){if(mo){var e=dl;if(e!==null)throw e}}function ls(e,t,a,l){mo=!1;var i=e.updateQueue;na=!1;var d=i.firstBaseUpdate,m=i.lastBaseUpdate,S=i.shared.pending;if(S!==null){i.shared.pending=null;var E=S,V=E.next;E.next=null,m===null?d=V:m.next=V,m=E;var $=e.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==m&&(S===null?$.firstBaseUpdate=V:S.next=V,$.lastBaseUpdate=E))}if(d!==null){var ee=i.baseState;m=0,$=V=E=null,S=d;do{var G=S.lane&-536870913,P=G!==S.lane;if(P?(De&G)===G:(l&G)===G){G!==0&&G===cl&&(mo=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=e,ve=S;G=t;var Ke=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){ee=fe.call(Ke,ee,G);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,G=typeof fe=="function"?fe.call(Ke,ee,G):fe,G==null)break e;ee=x({},ee,G);break e;case 2:na=!0}}G=S.callback,G!==null&&(e.flags|=64,P&&(e.flags|=8192),P=i.callbacks,P===null?i.callbacks=[G]:P.push(G))}else P={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(V=$=P,E=ee):$=$.next=P,m|=G;if(S=S.next,S===null){if(S=i.shared.pending,S===null)break;P=S,S=P.next,P.next=null,i.lastBaseUpdate=P,i.shared.pending=null}}while(!0);$===null&&(E=ee),i.baseState=E,i.firstBaseUpdate=V,i.lastBaseUpdate=$,d===null&&(i.shared.lanes=0),ca|=m,e.lanes=m,e.memoizedState=ee}}function Cu(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Tu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cu(a[e],t)}var ml=A(null),mi=A(0);function Ru(e,t){e=Gn,Z(mi,e),Z(ml,t),Gn=e|t.baseLanes}function ho(){Z(mi,Gn),Z(ml,ml.current)}function po(){Gn=mi.current,L(ml),L(mi)}var Pt=A(null),on=null;function sa(e){var t=e.alternate;Z(ot,ot.current&1),Z(Pt,e),on===null&&(t===null||ml.current!==null||t.memoizedState!==null)&&(on=e)}function go(e){Z(ot,ot.current),Z(Pt,e),on===null&&(on=e)}function Eu(e){e.tag===22?(Z(ot,ot.current),Z(Pt,e),on===null&&(on=e)):ia()}function ia(){Z(ot,ot.current),Z(Pt,Pt.current)}function Xt(e){L(Pt),on===e&&(on=null),L(ot)}var ot=A(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sc(a)||_c(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var On=0,Ne=null,$e=null,ft=null,pi=!1,hl=!1,Ma=!1,gi=0,ss=0,pl=null,Gg=0;function st(){throw Error(c(321))}function xo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Qt(e[a],t[a]))return!1;return!0}function yo(e,t,a,l,i,d){return On=d,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?mf:Do,Ma=!1,d=a(l,i),Ma=!1,hl&&(d=zu(t,a,l,i)),Au(e),d}function Au(e){Q.H=os;var t=$e!==null&&$e.next!==null;if(On=0,ft=$e=Ne=null,pi=!1,ss=0,pl=null,t)throw Error(c(300));e===null||mt||(e=e.dependencies,e!==null&&ii(e)&&(mt=!0))}function zu(e,t,a,l){Ne=e;var i=0;do{if(hl&&(pl=null),ss=0,hl=!1,25<=i)throw Error(c(301));if(i+=1,ft=$e=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=hf,d=t(a,l)}while(hl);return d}function Qg(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?is(t):t,e=e.useState()[0],($e!==null?$e.memoizedState:null)!==e&&(Ne.flags|=1024),t}function bo(){var e=gi!==0;return gi=0,e}function vo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function jo(e){if(pi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pi=!1}On=0,ft=$e=Ne=null,hl=!1,ss=gi=0,pl=null}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ne.memoizedState=ft=e:ft=ft.next=e,ft}function ct(){if($e===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ft===null?Ne.memoizedState:ft.next;if(t!==null)ft=t,$e=e;else{if(e===null)throw Ne.alternate===null?Error(c(467)):Error(c(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ft===null?Ne.memoizedState=ft=e:ft=ft.next=e}return ft}function xi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function is(e){var t=ss;return ss+=1,pl===null&&(pl=[]),e=ju(pl,e,t),t=Ne,(ft===null?t.memoizedState:ft.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?mf:Do),e}function yi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return is(e);if(e.$$typeof===D)return wt(e)}throw Error(c(438,String(e)))}function So(e){var t=null,a=Ne.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=xi(),Ne.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=W;return t.index++,a}function Mn(e,t){return typeof t=="function"?t(e):t}function bi(e){var t=ct();return _o(t,$e,e)}function _o(e,t,a){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=a;var i=e.baseQueue,d=l.pending;if(d!==null){if(i!==null){var m=i.next;i.next=d.next,d.next=m}t.baseQueue=i=d,l.pending=null}if(d=e.baseState,i===null)e.memoizedState=d;else{t=i.next;var S=m=null,E=null,V=t,$=!1;do{var ee=V.lane&-536870913;if(ee!==V.lane?(De&ee)===ee:(On&ee)===ee){var G=V.revertLane;if(G===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ee===cl&&($=!0);else if((On&G)===G){V=V.next,G===cl&&($=!0);continue}else ee={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},E===null?(S=E=ee,m=d):E=E.next=ee,Ne.lanes|=G,ca|=G;ee=V.action,Ma&&a(d,ee),d=V.hasEagerState?V.eagerState:a(d,ee)}else G={lane:ee,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},E===null?(S=E=G,m=d):E=E.next=G,Ne.lanes|=ee,ca|=ee;V=V.next}while(V!==null&&V!==t);if(E===null?m=d:E.next=S,!Qt(d,e.memoizedState)&&(mt=!0,$&&(a=dl,a!==null)))throw a;e.memoizedState=d,e.baseState=m,e.baseQueue=E,l.lastRenderedState=d}return i===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wo(e){var t=ct(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var l=a.dispatch,i=a.pending,d=t.memoizedState;if(i!==null){a.pending=null;var m=i=i.next;do d=e(d,m.action),m=m.next;while(m!==i);Qt(d,t.memoizedState)||(mt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,l]}function ku(e,t,a){var l=Ne,i=ct(),d=Ue;if(d){if(a===void 0)throw Error(c(407));a=a()}else a=t();var m=!Qt(($e||i).memoizedState,a);if(m&&(i.memoizedState=a,mt=!0),i=i.queue,To(Ou.bind(null,l,i,e),[e]),i.getSnapshot!==t||m||ft!==null&&ft.memoizedState.tag&1){if(l.flags|=2048,gl(9,{destroy:void 0},Bu.bind(null,l,i,a,t),null),Je===null)throw Error(c(349));d||(On&127)!==0||Du(l,t,a)}return a}function Du(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ne.updateQueue,t===null?(t=xi(),Ne.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Bu(e,t,a,l){t.value=a,t.getSnapshot=l,Mu(t)&&Uu(e)}function Ou(e,t,a){return a(function(){Mu(t)&&Uu(e)})}function Mu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Qt(e,a)}catch{return!0}}function Uu(e){var t=Ta(e,2);t!==null&&qt(t,e,2)}function No(e){var t=At();if(typeof e=="function"){var a=e;if(e=a(),Ma){jt(!0);try{a()}finally{jt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t}function Lu(e,t,a,l){return e.baseState=a,_o(e,$e,typeof l=="function"?l:Mn)}function Yg(e,t,a,l,i){if(Si(e))throw Error(c(485));if(e=t.action,e!==null){var d={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=t.pending,a===null?(d.next=t.pending=d,qu(t,d)):(d.next=a.next,t.pending=a.next=d)}}function qu(e,t){var a=t.action,l=t.payload,i=e.state;if(t.isTransition){var d=Q.T,m={};Q.T=m;try{var S=a(i,l),E=Q.S;E!==null&&E(m,S),Hu(e,t,S)}catch(V){Co(e,t,V)}finally{d!==null&&m.types!==null&&(d.types=m.types),Q.T=d}}else try{d=a(i,l),Hu(e,t,d)}catch(V){Co(e,t,V)}}function Hu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fu(e,t,l)},function(l){return Co(e,t,l)}):Fu(e,t,a)}function Fu(e,t,a){t.status="fulfilled",t.value=a,Vu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,qu(e,a)))}function Co(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Vu(t),t=t.next;while(t!==l)}e.action=null}function Vu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gu(e,t){return t}function Qu(e,t){if(Ue){var a=Je.formState;if(a!==null){e:{var l=Ne;if(Ue){if(Ie){t:{for(var i=Ie,d=rn;i.nodeType!==8;){if(!d){i=null;break t}if(i=cn(i.nextSibling),i===null){i=null;break t}}d=i.data,i=d==="F!"||d==="F"?i:null}if(i){Ie=cn(i.nextSibling),l=i.data==="F!";break e}}ea(l)}l=!1}l&&(t=a[0])}}return a=At(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:t},a.queue=l,a=df.bind(null,Ne,l),l.dispatch=a,l=No(!1),d=ko.bind(null,Ne,!1,l.queue),l=At(),i={state:t,dispatch:null,action:e,pending:null},l.queue=i,a=Yg.bind(null,Ne,i,d,a),i.dispatch=a,l.memoizedState=e,[t,a,!1]}function Yu(e){var t=ct();return Pu(t,$e,e)}function Pu(e,t,a){if(t=_o(e,t,Gu)[0],e=bi(Mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=is(t)}catch(m){throw m===ul?ci:m}else l=t;t=ct();var i=t.queue,d=i.dispatch;return a!==t.memoizedState&&(Ne.flags|=2048,gl(9,{destroy:void 0},Pg.bind(null,i,a),null)),[l,d,e]}function Pg(e,t){e.action=t}function Xu(e){var t=ct(),a=$e;if(a!==null)return Pu(t,a,e);ct(),t=t.memoizedState,a=ct();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function gl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Ne.updateQueue,t===null&&(t=xi(),Ne.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Wu(){return ct().memoizedState}function vi(e,t,a,l){var i=At();Ne.flags|=e,i.memoizedState=gl(1|t,{destroy:void 0},a,l===void 0?null:l)}function ji(e,t,a,l){var i=ct();l=l===void 0?null:l;var d=i.memoizedState.inst;$e!==null&&l!==null&&xo(l,$e.memoizedState.deps)?i.memoizedState=gl(t,d,a,l):(Ne.flags|=e,i.memoizedState=gl(1|t,d,a,l))}function $u(e,t){vi(8390656,8,e,t)}function To(e,t){ji(2048,8,e,t)}function Xg(e){Ne.flags|=4;var t=Ne.updateQueue;if(t===null)t=xi(),Ne.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Zu(e){var t=ct().memoizedState;return Xg({ref:t,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Ku(e,t){return ji(4,2,e,t)}function Ju(e,t){return ji(4,4,e,t)}function Iu(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ef(e,t,a){a=a!=null?a.concat([e]):null,ji(4,4,Iu.bind(null,t,e),a)}function Ro(){}function tf(e,t){var a=ct();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&xo(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function nf(e,t){var a=ct();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&xo(t,l[1]))return l[0];if(l=e(),Ma){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[l,t],l}function Eo(e,t,a){return a===void 0||(On&1073741824)!==0&&(De&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=lm(),Ne.lanes|=e,ca|=e,a)}function af(e,t,a,l){return Qt(a,t)?a:ml.current!==null?(e=Eo(e,a,l),Qt(e,t)||(mt=!0),e):(On&42)===0||(On&1073741824)!==0&&(De&261930)===0?(mt=!0,e.memoizedState=a):(e=lm(),Ne.lanes|=e,ca|=e,t)}function lf(e,t,a,l,i){var d=le.p;le.p=d!==0&&8>d?d:8;var m=Q.T,S={};Q.T=S,ko(e,!1,t,a);try{var E=i(),V=Q.S;if(V!==null&&V(S,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var $=Vg(E,l);rs(e,t,$,Zt(e))}else rs(e,t,l,Zt(e))}catch(ee){rs(e,t,{then:function(){},status:"rejected",reason:ee},Zt())}finally{le.p=d,m!==null&&S.types!==null&&(m.types=S.types),Q.T=m}}function Wg(){}function Ao(e,t,a,l){if(e.tag!==5)throw Error(c(476));var i=sf(e).queue;lf(e,i,t,J,a===null?Wg:function(){return rf(e),a(l)})}function sf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:J},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rf(e){var t=sf(e);t.next===null&&(t=e.alternate.memoizedState),rs(e,t.next.queue,{},Zt())}function zo(){return wt(ws)}function of(){return ct().memoizedState}function cf(){return ct().memoizedState}function $g(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Zt();e=aa(a);var l=la(t,e,a);l!==null&&(qt(l,t,a),ns(l,t,a)),t={cache:so()},e.payload=t;return}t=t.return}}function Zg(e,t,a){var l=Zt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Si(e)?uf(t,a):(a=Wr(e,t,a,l),a!==null&&(qt(a,e,l),ff(a,t,l)))}function df(e,t,a){var l=Zt();rs(e,t,a,l)}function rs(e,t,a,l){var i={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Si(e))uf(t,i);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,S=d(m,a);if(i.hasEagerState=!0,i.eagerState=S,Qt(S,m))return ni(e,t,i,0),Je===null&&ti(),!1}catch{}finally{}if(a=Wr(e,t,i,l),a!==null)return qt(a,e,l),ff(a,t,l),!0}return!1}function ko(e,t,a,l){if(l={lane:2,revertLane:dc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Si(e)){if(t)throw Error(c(479))}else t=Wr(e,a,l,2),t!==null&&qt(t,e,2)}function Si(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function uf(e,t){hl=pi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ff(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,gd(e,a)}}var os={readContext:wt,use:yi,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};os.useEffectEvent=st;var mf={readContext:wt,use:yi,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:$u,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,vi(4194308,4,Iu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){vi(4,2,e,t)},useMemo:function(e,t){var a=At();t=t===void 0?null:t;var l=e();if(Ma){jt(!0);try{e()}finally{jt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=At();if(a!==void 0){var i=a(t);if(Ma){jt(!0);try{a(t)}finally{jt(!1)}}}else i=t;return l.memoizedState=l.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},l.queue=e,e=e.dispatch=Zg.bind(null,Ne,e),[l.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:function(e){e=No(e);var t=e.queue,a=df.bind(null,Ne,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ro,useDeferredValue:function(e,t){var a=At();return Eo(a,e,t)},useTransition:function(){var e=No(!1);return e=lf.bind(null,Ne,e.queue,!0,!1),At().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ne,i=At();if(Ue){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),Je===null)throw Error(c(349));(De&127)!==0||Du(l,t,a)}i.memoizedState=a;var d={value:a,getSnapshot:t};return i.queue=d,$u(Ou.bind(null,l,d,e),[e]),l.flags|=2048,gl(9,{destroy:void 0},Bu.bind(null,l,d,a,t),null),a},useId:function(){var e=At(),t=Je.identifierPrefix;if(Ue){var a=wn,l=_n;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=gi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Gg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zo,useFormState:Qu,useActionState:Qu,useOptimistic:function(e){var t=At();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ko.bind(null,Ne,!0,a),a.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return At().memoizedState=$g.bind(null,Ne)},useEffectEvent:function(e){var t=At(),a={impl:e};return t.memoizedState=a,function(){if((Ve&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},Do={readContext:wt,use:yi,useCallback:tf,useContext:wt,useEffect:To,useImperativeHandle:ef,useInsertionEffect:Ku,useLayoutEffect:Ju,useMemo:nf,useReducer:bi,useRef:Wu,useState:function(){return bi(Mn)},useDebugValue:Ro,useDeferredValue:function(e,t){var a=ct();return af(a,$e.memoizedState,e,t)},useTransition:function(){var e=bi(Mn)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:ku,useId:of,useHostTransitionStatus:zo,useFormState:Yu,useActionState:Yu,useOptimistic:function(e,t){var a=ct();return Lu(a,$e,e,t)},useMemoCache:So,useCacheRefresh:cf};Do.useEffectEvent=Zu;var hf={readContext:wt,use:yi,useCallback:tf,useContext:wt,useEffect:To,useImperativeHandle:ef,useInsertionEffect:Ku,useLayoutEffect:Ju,useMemo:nf,useReducer:wo,useRef:Wu,useState:function(){return wo(Mn)},useDebugValue:Ro,useDeferredValue:function(e,t){var a=ct();return $e===null?Eo(a,e,t):af(a,$e.memoizedState,e,t)},useTransition:function(){var e=wo(Mn)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:ku,useId:of,useHostTransitionStatus:zo,useFormState:Xu,useActionState:Xu,useOptimistic:function(e,t){var a=ct();return $e!==null?Lu(a,$e,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:So,useCacheRefresh:cf};hf.useEffectEvent=Zu;function Bo(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Oo={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Zt(),i=aa(l);i.payload=t,a!=null&&(i.callback=a),t=la(e,i,l),t!==null&&(qt(t,e,l),ns(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Zt(),i=aa(l);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=la(e,i,l),t!==null&&(qt(t,e,l),ns(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Zt(),l=aa(a);l.tag=2,t!=null&&(l.callback=t),t=la(e,l,a),t!==null&&(qt(t,e,a),ns(t,e,a))}};function pf(e,t,a,l,i,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,m):t.prototype&&t.prototype.isPureReactComponent?!Wl(a,l)||!Wl(i,d):!0}function gf(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function Ua(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function xf(e){ei(e)}function yf(e){console.error(e)}function bf(e){ei(e)}function _i(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function vf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Mo(e,t,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){_i(e,t)},a}function jf(e){return e=aa(e),e.tag=3,e}function Sf(e,t,a,l){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var d=l.value;e.payload=function(){return i(d)},e.callback=function(){vf(t,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){vf(t,a,l),typeof i!="function"&&(da===null?da=new Set([this]):da.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Kg(e,t,a,l,i){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&ol(t,a,i,!0),a=Pt.current,a!==null){switch(a.tag){case 31:case 13:return on===null?Oi():a.alternate===null&&it===0&&(it=3),a.flags&=-257,a.flags|=65536,a.lanes=i,l===di?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),rc(e,l,i)),!1;case 22:return a.flags|=65536,l===di?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),rc(e,l,i)),!1}throw Error(c(435,a.tag))}return rc(e,l,i),Oi(),!1}if(Ue)return t=Pt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,l!==eo&&(e=Error(c(422),{cause:l}),Kl(an(e,a)))):(l!==eo&&(t=Error(c(423),{cause:l}),Kl(an(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,l=an(l,a),i=Mo(e.stateNode,l,i),fo(e,i),it!==4&&(it=2)),!1;var d=Error(c(520),{cause:l});if(d=an(d,a),gs===null?gs=[d]:gs.push(d),it!==4&&(it=2),t===null)return!0;l=an(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=Mo(a.stateNode,l,e),fo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(da===null||!da.has(d))))return a.flags|=65536,i&=-i,a.lanes|=i,i=jf(i),Sf(i,e,a,l),fo(a,i),!1}a=a.return}while(a!==null);return!1}var Uo=Error(c(461)),mt=!1;function Nt(e,t,a,l){t.child=e===null?Nu(t,null,a,l):Oa(t,e.child,a,l)}function _f(e,t,a,l,i){a=a.render;var d=t.ref;if("ref"in l){var m={};for(var S in l)S!=="ref"&&(m[S]=l[S])}else m=l;return za(t),l=yo(e,t,a,m,d,i),S=bo(),e!==null&&!mt?(vo(e,t,i),Un(e,t,i)):(Ue&&S&&Jr(t),t.flags|=1,Nt(e,t,l,i),t.child)}function wf(e,t,a,l,i){if(e===null){var d=a.type;return typeof d=="function"&&!$r(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Nf(e,t,d,l,i)):(e=li(a.type,null,l,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Yo(e,i)){var m=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wl,a(m,l)&&e.ref===t.ref)return Un(e,t,i)}return t.flags|=1,e=zn(d,l),e.ref=t.ref,e.return=t,t.child=e}function Nf(e,t,a,l,i){if(e!==null){var d=e.memoizedProps;if(Wl(d,l)&&e.ref===t.ref)if(mt=!1,t.pendingProps=l=d,Yo(e,i))(e.flags&131072)!==0&&(mt=!0);else return t.lanes=e.lanes,Un(e,t,i)}return Lo(e,t,a,l,i)}function Cf(e,t,a,l){var i=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=t.child=e.child,i=0;l!==null;)i=i|l.lanes|l.childLanes,l=l.sibling;l=i&~d}else l=0,t.child=null;return Tf(e,t,d,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&oi(t,d!==null?d.cachePool:null),d!==null?Ru(t,d):ho(),Eu(t);else return l=t.lanes=536870912,Tf(e,t,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oi(t,d.cachePool),Ru(t,d),ia(),t.memoizedState=null):(e!==null&&oi(t,null),ho(),ia());return Nt(e,t,i,a),t.child}function cs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Tf(e,t,a,l,i){var d=ro();return d=d===null?null:{parent:ut._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&oi(t,null),ho(),Eu(t),e!==null&&ol(e,t,l,!0),t.childLanes=i,null}function wi(e,t){return t=Ci({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Rf(e,t,a){return Oa(t,e.child,null,a),e=wi(t,t.pendingProps),e.flags|=2,Xt(t),t.memoizedState=null,e}function Jg(e,t,a){var l=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(l.mode==="hidden")return e=wi(t,l),t.lanes=536870912,cs(null,e);if(go(t),(e=Ie)?(e=Hm(e,rn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:_n,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},a=du(e),a.return=t,t.child=a,_t=t,Ie=null)):e=null,e===null)throw ea(t);return t.lanes=536870912,null}return wi(t,l)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(go(t),i)if(t.flags&256)t.flags&=-257,t=Rf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(mt||ol(e,t,a,!1),i=(a&e.childLanes)!==0,mt||i){if(l=Je,l!==null&&(m=xd(l,a),m!==0&&m!==d.retryLane))throw d.retryLane=m,Ta(e,m),qt(l,e,m),Uo;Oi(),t=Rf(e,t,a)}else e=d.treeContext,Ie=cn(m.nextSibling),_t=t,Ue=!0,In=null,rn=!1,e!==null&&mu(t,e),t=wi(t,l),t.flags|=4096;return t}return e=zn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ni(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Lo(e,t,a,l,i){return za(t),a=yo(e,t,a,l,void 0,i),l=bo(),e!==null&&!mt?(vo(e,t,i),Un(e,t,i)):(Ue&&l&&Jr(t),t.flags|=1,Nt(e,t,a,i),t.child)}function Ef(e,t,a,l,i,d){return za(t),t.updateQueue=null,a=zu(t,l,a,i),Au(e),l=bo(),e!==null&&!mt?(vo(e,t,d),Un(e,t,d)):(Ue&&l&&Jr(t),t.flags|=1,Nt(e,t,a,d),t.child)}function Af(e,t,a,l,i){if(za(t),t.stateNode===null){var d=ll,m=a.contextType;typeof m=="object"&&m!==null&&(d=wt(m)),d=new a(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Oo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},co(t),m=a.contextType,d.context=typeof m=="object"&&m!==null?wt(m):ll,d.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Bo(t,a,m,l),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&Oo.enqueueReplaceState(d,d.state,null),ls(t,l,d,i),as(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var S=t.memoizedProps,E=Ua(a,S);d.props=E;var V=d.context,$=a.contextType;m=ll,typeof $=="object"&&$!==null&&(m=wt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=t.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||V!==m)&&gf(t,d,l,m),na=!1;var G=t.memoizedState;d.state=G,ls(t,l,d,i),as(),V=t.memoizedState,S||G!==V||na?(typeof ee=="function"&&(Bo(t,a,ee,l),V=t.memoizedState),(E=na||pf(t,a,E,l,G,V,m))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=V),d.props=l,d.state=V,d.context=m,l=E):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,uo(e,t),m=t.memoizedProps,$=Ua(a,m),d.props=$,ee=t.pendingProps,G=d.context,V=a.contextType,E=ll,typeof V=="object"&&V!==null&&(E=wt(V)),S=a.getDerivedStateFromProps,(V=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==ee||G!==E)&&gf(t,d,l,E),na=!1,G=t.memoizedState,d.state=G,ls(t,l,d,i),as();var P=t.memoizedState;m!==ee||G!==P||na||e!==null&&e.dependencies!==null&&ii(e.dependencies)?(typeof S=="function"&&(Bo(t,a,S,l),P=t.memoizedState),($=na||pf(t,a,$,l,G,P,E)||e!==null&&e.dependencies!==null&&ii(e.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,P,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,P,E)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=P),d.props=l,d.state=P,d.context=E,l=$):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Ni(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Oa(t,e.child,null,i),t.child=Oa(t,null,a,i)):Nt(e,t,a,i),t.memoizedState=d.state,e=t.child):e=Un(e,t,i),e}function zf(e,t,a,l){return Ea(),t.flags|=256,Nt(e,t,a,l),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:bu()}}function Fo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=$t),e}function kf(e,t,a){var l=t.pendingProps,i=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),m&&(i=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(i?sa(t):ia(),(e=Ie)?(e=Hm(e,rn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:_n,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},a=du(e),a.return=t,t.child=a,_t=t,Ie=null)):e=null,e===null)throw ea(t);return _c(e)?t.lanes=32:t.lanes=536870912,null}var S=l.children;return l=l.fallback,i?(ia(),i=t.mode,S=Ci({mode:"hidden",children:S},i),l=Ra(l,i,a,null),S.return=t,l.return=t,S.sibling=l,t.child=S,l=t.child,l.memoizedState=Ho(a),l.childLanes=Fo(e,m,a),t.memoizedState=qo,cs(null,l)):(sa(t),Vo(t,S))}var E=e.memoizedState;if(E!==null&&(S=E.dehydrated,S!==null)){if(d)t.flags&256?(sa(t),t.flags&=-257,t=Go(e,t,a)):t.memoizedState!==null?(ia(),t.child=e.child,t.flags|=128,t=null):(ia(),S=l.fallback,i=t.mode,l=Ci({mode:"visible",children:l.children},i),S=Ra(S,i,a,null),S.flags|=2,l.return=t,S.return=t,l.sibling=S,t.child=l,Oa(t,e.child,null,a),l=t.child,l.memoizedState=Ho(a),l.childLanes=Fo(e,m,a),t.memoizedState=qo,t=cs(null,l));else if(sa(t),_c(S)){if(m=S.nextSibling&&S.nextSibling.dataset,m)var V=m.dgst;m=V,l=Error(c(419)),l.stack="",l.digest=m,Kl({value:l,source:null,stack:null}),t=Go(e,t,a)}else if(mt||ol(e,t,a,!1),m=(a&e.childLanes)!==0,mt||m){if(m=Je,m!==null&&(l=xd(m,a),l!==0&&l!==E.retryLane))throw E.retryLane=l,Ta(e,l),qt(m,e,l),Uo;Sc(S)||Oi(),t=Go(e,t,a)}else Sc(S)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Ie=cn(S.nextSibling),_t=t,Ue=!0,In=null,rn=!1,e!==null&&mu(t,e),t=Vo(t,l.children),t.flags|=4096);return t}return i?(ia(),S=l.fallback,i=t.mode,E=e.child,V=E.sibling,l=zn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,V!==null?S=zn(V,S):(S=Ra(S,i,a,null),S.flags|=2),S.return=t,l.return=t,l.sibling=S,t.child=l,cs(null,l),l=t.child,S=e.child.memoizedState,S===null?S=Ho(a):(i=S.cachePool,i!==null?(E=ut._currentValue,i=i.parent!==E?{parent:E,pool:E}:i):i=bu(),S={baseLanes:S.baseLanes|a,cachePool:i}),l.memoizedState=S,l.childLanes=Fo(e,m,a),t.memoizedState=qo,cs(e.child,l)):(sa(t),a=e.child,e=a.sibling,a=zn(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Vo(e,t){return t=Ci({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ci(e,t){return e=Yt(22,e,null,t),e.lanes=0,e}function Go(e,t,a){return Oa(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Df(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ao(e.return,t,a)}function Qo(e,t,a,l,i,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:i,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=i,m.treeForkCount=d)}function Bf(e,t,a){var l=t.pendingProps,i=l.revealOrder,d=l.tail;l=l.children;var m=ot.current,S=(m&2)!==0;if(S?(m=m&1|2,t.flags|=128):m&=1,Z(ot,m),Nt(e,t,l,a),l=Ue?Zl:0,!S&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Df(e,a,t);else if(e.tag===19)Df(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&hi(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Qo(t,!1,i,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hi(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Qo(t,!0,a,null,d,l);break;case"together":Qo(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Un(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ol(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=zn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=zn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ii(e)))}function Ig(e,t,a){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),ta(t,ut,e.memoizedState.cache),Ea();break;case 27:case 5:zt(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,go(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(sa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?kf(e,t,a):(sa(t),e=Un(e,t,a),e!==null?e.sibling:null);sa(t);break;case 19:var i=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(ol(e,t,a,!1),l=(a&t.childLanes)!==0),i){if(l)return Bf(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(ot,ot.current),l)break;return null;case 22:return t.lanes=0,Cf(e,t,a,t.pendingProps);case 24:ta(t,ut,e.memoizedState.cache)}return Un(e,t,a)}function Of(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)mt=!0;else{if(!Yo(e,a)&&(t.flags&128)===0)return mt=!1,Ig(e,t,a);mt=(e.flags&131072)!==0}else mt=!1,Ue&&(t.flags&1048576)!==0&&fu(t,Zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Da(t.elementType),t.type=e,typeof e=="function")$r(e)?(l=Ua(e,l),t.tag=1,t=Af(null,t,e,l,a)):(t.tag=0,t=Lo(null,t,e,l,a));else{if(e!=null){var i=e.$$typeof;if(i===z){t.tag=11,t=_f(null,t,e,l,a);break e}else if(i===B){t.tag=14,t=wf(null,t,e,l,a);break e}}throw t=Ee(e)||e,Error(c(306,t,""))}}return t;case 0:return Lo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,i=Ua(l,t.pendingProps),Af(e,t,l,i,a);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var d=t.memoizedState;i=d.element,uo(e,t),ls(t,l,null,a);var m=t.memoizedState;if(l=m.cache,ta(t,ut,l),l!==d.cache&&lo(t,[ut],a,!0),as(),l=m.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=zf(e,t,l,a);break e}else if(l!==i){i=an(Error(c(424)),t),Kl(i),t=zf(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=cn(e.firstChild),_t=t,Ue=!0,In=null,rn=!0,a=Nu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ea(),l===i){t=Un(e,t,a);break e}Nt(e,t,l,a)}t=t.child}return t;case 26:return Ni(e,t),e===null?(a=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ue||(a=t.type,e=t.pendingProps,l=Vi(ye.current).createElement(a),l[St]=t,l[Dt]=e,Ct(l,a,e),xt(l),t.stateNode=l):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return zt(t),e===null&&Ue&&(l=t.stateNode=Gm(t.type,t.pendingProps,ye.current),_t=t,rn=!0,i=Ie,ha(t.type)?(wc=i,Ie=cn(l.firstChild)):Ie=i),Nt(e,t,t.pendingProps.children,a),Ni(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((i=l=Ie)&&(l=Ex(l,t.type,t.pendingProps,rn),l!==null?(t.stateNode=l,_t=t,Ie=cn(l.firstChild),rn=!1,i=!0):i=!1),i||ea(t)),zt(t),i=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,l=d.children,bc(i,d)?l=null:m!==null&&bc(i,m)&&(t.flags|=32),t.memoizedState!==null&&(i=yo(e,t,Qg,null,null,a),ws._currentValue=i),Ni(e,t),Nt(e,t,l,a),t.child;case 6:return e===null&&Ue&&((e=a=Ie)&&(a=Ax(a,t.pendingProps,rn),a!==null?(t.stateNode=a,_t=t,Ie=null,e=!0):e=!1),e||ea(t)),null;case 13:return kf(e,t,a);case 4:return Me(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Oa(t,null,l,a):Nt(e,t,l,a),t.child;case 11:return _f(e,t,t.type,t.pendingProps,a);case 7:return Nt(e,t,t.pendingProps,a),t.child;case 8:return Nt(e,t,t.pendingProps.children,a),t.child;case 12:return Nt(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,ta(t,t.type,l.value),Nt(e,t,l.children,a),t.child;case 9:return i=t.type._context,l=t.pendingProps.children,za(t),i=wt(i),l=l(i),t.flags|=1,Nt(e,t,l,a),t.child;case 14:return wf(e,t,t.type,t.pendingProps,a);case 15:return Nf(e,t,t.type,t.pendingProps,a);case 19:return Bf(e,t,a);case 31:return Jg(e,t,a);case 22:return Cf(e,t,a,t.pendingProps);case 24:return za(t),l=wt(ut),e===null?(i=ro(),i===null&&(i=Je,d=so(),i.pooledCache=d,d.refCount++,d!==null&&(i.pooledCacheLanes|=a),i=d),t.memoizedState={parent:l,cache:i},co(t),ta(t,ut,i)):((e.lanes&a)!==0&&(uo(e,t),ls(t,null,null,a),as()),i=e.memoizedState,d=t.memoizedState,i.parent!==l?(i={parent:l,cache:l},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ta(t,ut,l)):(l=d.cache,ta(t,ut,l),l!==i.cache&&lo(t,[ut],a,!0))),Nt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Ln(e){e.flags|=4}function Po(e,t,a,l,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(om())e.flags|=8192;else throw Ba=di,oo}else e.flags&=-16777217}function Mf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Km(t))if(om())e.flags|=8192;else throw Ba=di,oo}function Ti(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hd():536870912,e.lanes|=t,vl|=t)}function ds(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags&65011712,l|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags,l|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function ex(e,t,a){var l=t.pendingProps;switch(Ir(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return et(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Bn(ut),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rl(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,to())),et(t),null;case 26:var i=t.type,d=t.memoizedState;return e===null?(Ln(t),d!==null?(et(t),Mf(t,d)):(et(t),Po(t,i,null,l,a))):d?d!==e.memoizedState?(Ln(t),et(t),Mf(t,d)):(et(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ln(t),et(t),Po(t,i,e,l,a)),null;case 27:if(jn(t),a=ye.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return et(t),null}e=I.current,rl(t)?hu(t):(e=Gm(i,l,a),t.stateNode=e,Ln(t))}return et(t),null;case 5:if(jn(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return et(t),null}if(d=I.current,rl(t))hu(t);else{var m=Vi(ye.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?m.createElement(i,{is:l.is}):m.createElement(i)}}d[St]=t,d[Dt]=l;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(Ct(d,i,l),i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ln(t)}}return et(t),Po(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=ye.current,rl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,i=_t,i!==null)switch(i.tag){case 27:case 5:l=i.memoizedProps}e[St]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||km(e.nodeValue,a)),e||ea(t,!0)}else e=Vi(e).createTextNode(l),e[St]=t,t.stateNode=e}return et(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=rl(t),a!==null){if(e===null){if(!l)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[St]=t}else Ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),e=!1}else a=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Xt(t),t):(Xt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return et(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=rl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[St]=t}else Ea(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else i=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Xt(t),t):(Xt(t),null)}return Xt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,i=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(i=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==i&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ti(t,t.updateQueue),et(t),null);case 4:return Qe(),e===null&&hc(t.stateNode.containerInfo),et(t),null;case 10:return Bn(t.type),et(t),null;case 19:if(L(ot),l=t.memoizedState,l===null)return et(t),null;if(i=(t.flags&128)!==0,d=l.rendering,d===null)if(i)ds(l,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=hi(e),d!==null){for(t.flags|=128,ds(l,!1),e=d.updateQueue,t.updateQueue=e,Ti(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)cu(a,e),a=a.sibling;return Z(ot,ot.current&1|2),Ue&&kn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&rt()>ki&&(t.flags|=128,i=!0,ds(l,!1),t.lanes=4194304)}else{if(!i)if(e=hi(d),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ti(t,e),ds(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return et(t),null}else 2*rt()-l.renderingStartTime>ki&&a!==536870912&&(t.flags|=128,i=!0,ds(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rt(),e.sibling=null,a=ot.current,Z(ot,i?a&1|2:a&1),Ue&&kn(t,l.treeForkCount),e):(et(t),null);case 22:case 23:return Xt(t),po(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),a=t.updateQueue,a!==null&&Ti(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&L(ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Bn(ut),et(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function tx(e,t){switch(Ir(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(ut),Qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return jn(t),null;case 31:if(t.memoizedState!==null){if(Xt(t),t.alternate===null)throw Error(c(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(ot),null;case 4:return Qe(),null;case 10:return Bn(t.type),null;case 22:case 23:return Xt(t),po(),e!==null&&L(ka),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Bn(ut),null;case 25:return null;default:return null}}function Uf(e,t){switch(Ir(t),t.tag){case 3:Bn(ut),Qe();break;case 26:case 27:case 5:jn(t);break;case 4:Qe();break;case 31:t.memoizedState!==null&&Xt(t);break;case 13:Xt(t);break;case 19:L(ot);break;case 10:Bn(t.type);break;case 22:case 23:Xt(t),po(),e!==null&&L(ka);break;case 24:Bn(ut)}}function us(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&e)===e){l=void 0;var d=a.create,m=a.inst;l=d(),m.destroy=l}a=a.next}while(a!==i)}}catch(S){We(t,t.return,S)}}function ra(e,t,a){try{var l=t.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var d=i.next;l=d;do{if((l.tag&e)===e){var m=l.inst,S=m.destroy;if(S!==void 0){m.destroy=void 0,i=t;var E=a,V=S;try{V()}catch($){We(i,E,$)}}}l=l.next}while(l!==d)}}catch($){We(t,t.return,$)}}function Lf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Tu(t,a)}catch(l){We(e,e.return,l)}}}function qf(e,t,a){a.props=Ua(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){We(e,t,l)}}function fs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(i){We(e,t,i)}}function Nn(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(i){We(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){We(e,t,i)}else a.current=null}function Hf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(i){We(e,e.return,i)}}function Xo(e,t,a){try{var l=e.stateNode;_x(l,e.type,a,t),l[Dt]=t}catch(i){We(e,e.return,i)}}function Ff(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ha(e.type)||e.tag===4}function Wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=En));else if(l!==4&&(l===27&&ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for($o(e,t,a),e=e.sibling;e!==null;)$o(e,t,a),e=e.sibling}function Ri(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ri(e,t,a),e=e.sibling;e!==null;)Ri(e,t,a),e=e.sibling}function Vf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ct(t,l,a),t[St]=e,t[Dt]=a}catch(d){We(e,e.return,d)}}var qn=!1,ht=!1,Zo=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,yt=null;function nx(e,t){if(e=e.containerInfo,xc=$i,e=eu(e),Vr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var i=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var m=0,S=-1,E=-1,V=0,$=0,ee=e,G=null;t:for(;;){for(var P;ee!==a||i!==0&&ee.nodeType!==3||(S=m+i),ee!==d||l!==0&&ee.nodeType!==3||(E=m+l),ee.nodeType===3&&(m+=ee.nodeValue.length),(P=ee.firstChild)!==null;)G=ee,ee=P;for(;;){if(ee===e)break t;if(G===a&&++V===i&&(S=m),G===d&&++$===l&&(E=m),(P=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=P}a=S===-1||E===-1?null:{start:S,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(yc={focusedElem:e,selectionRange:a},$i=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){switch(t=yt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,i=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ua(a.type,i);e=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(ve){We(a,a.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)jc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}}function Qf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(e,a),l&4&&us(5,a);break;case 1:if(Fn(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){We(a,a.return,m)}else{var i=Ua(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){We(a,a.return,m)}}l&64&&Lf(a),l&512&&fs(a,a.return);break;case 3:if(Fn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Tu(e,t)}catch(m){We(a,a.return,m)}}break;case 27:t===null&&l&4&&Vf(a);case 26:case 5:Fn(e,a),t===null&&l&4&&Hf(a),l&512&&fs(a,a.return);break;case 12:Fn(e,a);break;case 31:Fn(e,a),l&4&&Xf(e,a);break;case 13:Fn(e,a),l&4&&Wf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ux.bind(null,a),zx(e,a))));break;case 22:if(l=a.memoizedState!==null||qn,!l){t=t!==null&&t.memoizedState!==null||ht,i=qn;var d=ht;qn=l,(ht=t)&&!d?Vn(e,a,(a.subtreeFlags&8772)!==0):Fn(e,a),qn=i,ht=d}break;case 30:break;default:Fn(e,a)}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Nr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Ot=!1;function Hn(e,t,a){for(a=a.child;a!==null;)Pf(e,t,a),a=a.sibling}function Pf(e,t,a){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(Pe,a)}catch{}switch(a.tag){case 26:ht||Nn(a,t),Hn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||Nn(a,t);var l=tt,i=Ot;ha(a.type)&&(tt=a.stateNode,Ot=!1),Hn(e,t,a),js(a.stateNode),tt=l,Ot=i;break;case 5:ht||Nn(a,t);case 6:if(l=tt,i=Ot,tt=null,Hn(e,t,a),tt=l,Ot=i,tt!==null)if(Ot)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){We(a,t,d)}else try{tt.removeChild(a.stateNode)}catch(d){We(a,t,d)}break;case 18:tt!==null&&(Ot?(e=tt,Lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Rl(e)):Lm(tt,a.stateNode));break;case 4:l=tt,i=Ot,tt=a.stateNode.containerInfo,Ot=!0,Hn(e,t,a),tt=l,Ot=i;break;case 0:case 11:case 14:case 15:ra(2,a,t),ht||ra(4,a,t),Hn(e,t,a);break;case 1:ht||(Nn(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qf(a,t,l)),Hn(e,t,a);break;case 21:Hn(e,t,a);break;case 22:ht=(l=ht)||a.memoizedState!==null,Hn(e,t,a),ht=l;break;default:Hn(e,t,a)}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Rl(e)}catch(a){We(t,t.return,a)}}}function Wf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(a){We(t,t.return,a)}}function ax(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gf),t;default:throw Error(c(435,e.tag))}}function Ei(e,t){var a=ax(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var i=fx.bind(null,e,l);l.then(i,i)}})}function Mt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var i=a[l],d=e,m=t,S=m;e:for(;S!==null;){switch(S.tag){case 27:if(ha(S.type)){tt=S.stateNode,Ot=!1;break e}break;case 5:tt=S.stateNode,Ot=!1;break e;case 3:case 4:tt=S.stateNode.containerInfo,Ot=!0;break e}S=S.return}if(tt===null)throw Error(c(160));Pf(d,m,i),tt=null,Ot=!1,d=i.alternate,d!==null&&(d.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}var pn=null;function $f(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(t,e),Ut(e),l&4&&(ra(3,e,e.return),us(3,e),ra(5,e,e.return));break;case 1:Mt(t,e),Ut(e),l&512&&(ht||a===null||Nn(a,a.return)),l&64&&qn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var i=pn;if(Mt(t,e),Ut(e),l&512&&(ht||a===null||Nn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(l){case"title":d=i.getElementsByTagName("title")[0],(!d||d[ql]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=i.createElement(l),i.head.insertBefore(d,i.querySelector("head > title"))),Ct(d,l,a),d[St]=e,xt(d),l=d;break e;case"link":var m=$m("link","href",i).get(l+(a.href||""));if(m){for(var S=0;S<m.length;S++)if(d=m[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(S,1);break t}}d=i.createElement(l),Ct(d,l,a),i.head.appendChild(d);break;case"meta":if(m=$m("meta","content",i).get(l+(a.content||""))){for(S=0;S<m.length;S++)if(d=m[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(S,1);break t}}d=i.createElement(l),Ct(d,l,a),i.head.appendChild(d);break;default:throw Error(c(468,l))}d[St]=e,xt(d),l=d}e.stateNode=l}else Zm(i,e.type,e.stateNode);else e.stateNode=Wm(i,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Zm(i,e.type,e.stateNode):Wm(i,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Mt(t,e),Ut(e),l&512&&(ht||a===null||Nn(a,a.return)),a!==null&&l&4&&Xo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Mt(t,e),Ut(e),l&512&&(ht||a===null||Nn(a,a.return)),e.flags&32){i=e.stateNode;try{Ka(i,"")}catch(fe){We(e,e.return,fe)}}l&4&&e.stateNode!=null&&(i=e.memoizedProps,Xo(e,i,a!==null?a.memoizedProps:i)),l&1024&&(Zo=!0);break;case 6:if(Mt(t,e),Ut(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(fe){We(e,e.return,fe)}}break;case 3:if(Yi=null,i=pn,pn=Gi(t.containerInfo),Mt(t,e),pn=i,Ut(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(t.containerInfo)}catch(fe){We(e,e.return,fe)}Zo&&(Zo=!1,Zf(e));break;case 4:l=pn,pn=Gi(e.stateNode.containerInfo),Mt(t,e),Ut(e),pn=l;break;case 12:Mt(t,e),Ut(e);break;case 31:Mt(t,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ei(e,l)));break;case 13:Mt(t,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zi=rt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ei(e,l)));break;case 22:i=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,V=qn,$=ht;if(qn=V||i,ht=$||E,Mt(t,e),ht=$,qn=V,Ut(e),l&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||E||qn||ht||La(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){E=a=t;try{if(d=E.stateNode,i)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{S=E.stateNode;var ee=E.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(fe){We(E,E.return,fe)}}}else if(t.tag===6){if(a===null){E=t;try{E.stateNode.nodeValue=i?"":E.memoizedProps}catch(fe){We(E,E.return,fe)}}}else if(t.tag===18){if(a===null){E=t;try{var P=E.stateNode;i?qm(P,!0):qm(E.stateNode,!1)}catch(fe){We(E,E.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ei(e,a))));break;case 19:Mt(t,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ei(e,l)));break;case 30:break;case 21:break;default:Mt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Ff(l)){a=l;break}l=l.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var i=a.stateNode,d=Wo(e);Ri(e,d,i);break;case 5:var m=a.stateNode;a.flags&32&&(Ka(m,""),a.flags&=-33);var S=Wo(e);Ri(e,S,m);break;case 3:case 4:var E=a.stateNode.containerInfo,V=Wo(e);$o(e,V,E);break;default:throw Error(c(161))}}catch($){We(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qf(e,t.alternate,t),t=t.sibling}function La(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ra(4,t,t.return),La(t);break;case 1:Nn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&qf(t,t.return,a),La(t);break;case 27:js(t.stateNode);case 26:case 5:Nn(t,t.return),La(t);break;case 22:t.memoizedState===null&&La(t);break;case 30:La(t);break;default:La(t)}e=e.sibling}}function Vn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,i=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:Vn(i,d,a),us(4,d);break;case 1:if(Vn(i,d,a),l=d,i=l.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(V){We(l,l.return,V)}if(l=d,i=l.updateQueue,i!==null){var S=l.stateNode;try{var E=i.shared.hiddenCallbacks;if(E!==null)for(i.shared.hiddenCallbacks=null,i=0;i<E.length;i++)Cu(E[i],S)}catch(V){We(l,l.return,V)}}a&&m&64&&Lf(d),fs(d,d.return);break;case 27:Vf(d);case 26:case 5:Vn(i,d,a),a&&l===null&&m&4&&Hf(d),fs(d,d.return);break;case 12:Vn(i,d,a);break;case 31:Vn(i,d,a),a&&m&4&&Xf(i,d);break;case 13:Vn(i,d,a),a&&m&4&&Wf(i,d);break;case 22:d.memoizedState===null&&Vn(i,d,a),fs(d,d.return);break;case 30:break;default:Vn(i,d,a)}t=t.sibling}}function Ko(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jl(a))}function Jo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jl(e))}function gn(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kf(e,t,a,l),t=t.sibling}function Kf(e,t,a,l){var i=t.flags;switch(t.tag){case 0:case 11:case 15:gn(e,t,a,l),i&2048&&us(9,t);break;case 1:gn(e,t,a,l);break;case 3:gn(e,t,a,l),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jl(e)));break;case 12:if(i&2048){gn(e,t,a,l),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,S=d.onPostCommit;typeof S=="function"&&S(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){We(t,t.return,E)}}else gn(e,t,a,l);break;case 31:gn(e,t,a,l);break;case 13:gn(e,t,a,l);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?gn(e,t,a,l):ms(e,t):d._visibility&2?gn(e,t,a,l):(d._visibility|=2,xl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ko(m,t);break;case 24:gn(e,t,a,l),i&2048&&Jo(t.alternate,t);break;default:gn(e,t,a,l)}}function xl(e,t,a,l,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,S=a,E=l,V=m.flags;switch(m.tag){case 0:case 11:case 15:xl(d,m,S,E,i),us(8,m);break;case 23:break;case 22:var $=m.stateNode;m.memoizedState!==null?$._visibility&2?xl(d,m,S,E,i):ms(d,m):($._visibility|=2,xl(d,m,S,E,i)),i&&V&2048&&Ko(m.alternate,m);break;case 24:xl(d,m,S,E,i),i&&V&2048&&Jo(m.alternate,m);break;default:xl(d,m,S,E,i)}t=t.sibling}}function ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,i=l.flags;switch(l.tag){case 22:ms(a,l),i&2048&&Ko(l.alternate,l);break;case 24:ms(a,l),i&2048&&Jo(l.alternate,l);break;default:ms(a,l)}t=t.sibling}}var hs=8192;function yl(e,t,a){if(e.subtreeFlags&hs)for(e=e.child;e!==null;)Jf(e,t,a),e=e.sibling}function Jf(e,t,a){switch(e.tag){case 26:yl(e,t,a),e.flags&hs&&e.memoizedState!==null&&Gx(a,pn,e.memoizedState,e.memoizedProps);break;case 5:yl(e,t,a);break;case 3:case 4:var l=pn;pn=Gi(e.stateNode.containerInfo),yl(e,t,a),pn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=hs,hs=16777216,yl(e,t,a),hs=l):yl(e,t,a));break;default:yl(e,t,a)}}function If(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ps(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];yt=l,tm(l,e)}If(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)em(e),e=e.sibling}function em(e){switch(e.tag){case 0:case 11:case 15:ps(e),e.flags&2048&&ra(9,e,e.return);break;case 3:ps(e);break;case 12:ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ai(e)):ps(e);break;default:ps(e)}}function Ai(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];yt=l,tm(l,e)}If(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ra(8,t,t.return),Ai(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ai(t));break;default:Ai(t)}e=e.sibling}}function tm(e,t){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:ra(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,yt=l;else e:for(a=e;yt!==null;){l=yt;var i=l.sibling,d=l.return;if(Yf(l),l===a){yt=null;break e}if(i!==null){i.return=d,yt=i;break e}yt=d}}}var lx={getCacheForType:function(e){var t=wt(ut),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return wt(ut).controller.signal}},sx=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Je=null,ze=null,De=0,Xe=0,Wt=null,oa=!1,bl=!1,Io=!1,Gn=0,it=0,ca=0,qa=0,ec=0,$t=0,vl=0,gs=null,Lt=null,tc=!1,zi=0,nm=0,ki=1/0,Di=null,da=null,gt=0,ua=null,jl=null,Qn=0,nc=0,ac=null,am=null,xs=0,lc=null;function Zt(){return(Ve&2)!==0&&De!==0?De&-De:Q.T!==null?dc():yd()}function lm(){if($t===0)if((De&536870912)===0||Ue){var e=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),$t=e}else $t=536870912;return e=Pt.current,e!==null&&(e.flags|=32),$t}function qt(e,t,a){(e===Je&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)&&(Sl(e,0),fa(e,De,$t,!1)),Ll(e,a),((Ve&2)===0||e!==Je)&&(e===Je&&((Ve&2)===0&&(qa|=a),it===4&&fa(e,De,$t,!1)),Cn(e))}function sm(e,t,a){if((Ve&6)!==0)throw Error(c(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ul(e,t),i=l?ox(e,t):ic(e,t,!0),d=l;do{if(i===0){bl&&!l&&fa(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!ix(a)){i=ic(e,t,!1),d=!1;continue}if(i===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var S=e;i=gs;var E=S.current.memoizedState.isDehydrated;if(E&&(Sl(S,m).flags|=256),m=ic(S,m,!1),m!==2){if(Io&&!E){S.errorRecoveryDisabledLanes|=d,qa|=d,i=4;break e}d=Lt,Lt=i,d!==null&&(Lt===null?Lt=d:Lt.push.apply(Lt,d))}i=m}if(d=!1,i!==2)continue}}if(i===1){Sl(e,0),fa(e,t,0,!0);break}e:{switch(l=e,d=i,d){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:fa(l,t,$t,!oa);break e;case 2:Lt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(i=zi+300-rt(),10<i)){if(fa(l,t,$t,!oa),Gs(l,0,!0)!==0)break e;Qn=t,l.timeoutHandle=Mm(im.bind(null,l,a,Lt,Di,tc,t,$t,qa,vl,oa,d,"Throttled",-0,0),i);break e}im(l,a,Lt,Di,tc,t,$t,qa,vl,oa,d,null,-0,0)}}break}while(!0);Cn(e)}function im(e,t,a,l,i,d,m,S,E,V,$,ee,G,P){if(e.timeoutHandle=-1,ee=t.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},Jf(t,d,ee);var fe=(d&62914560)===d?zi-rt():(d&4194048)===d?nm-rt():0;if(fe=Qx(ee,fe),fe!==null){Qn=d,e.cancelPendingCommit=fe(hm.bind(null,e,t,d,a,l,i,m,S,E,$,ee,null,G,P)),fa(e,d,m,!V);return}}hm(e,t,d,a,l,i,m,S,E)}function ix(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var i=a[l],d=i.getSnapshot;i=i.value;try{if(!Qt(d(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(e,t,a,l){t&=~ec,t&=~qa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var i=t;0<i;){var d=31-Gt(i),m=1<<d;l[d]=-1,i&=~m}a!==0&&pd(e,a,t)}function Bi(){return(Ve&6)===0?(ys(0),!1):!0}function sc(){if(ze!==null){if(Xe===0)var e=ze.return;else e=ze,Dn=Aa=null,jo(e),fl=null,es=0,e=ze;for(;e!==null;)Uf(e.alternate,e),e=e.return;ze=null}}function Sl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Cx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qn=0,sc(),Je=e,ze=a=zn(e.current,null),De=t,Xe=0,Wt=null,oa=!1,bl=Ul(e,t),Io=!1,vl=$t=ec=qa=ca=it=0,Lt=gs=null,tc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var i=31-Gt(l),d=1<<i;t|=e[i],l&=~d}return Gn=t,ti(),a}function rm(e,t){Ne=null,Q.H=os,t===ul||t===ci?(t=Su(),Xe=3):t===oo?(t=Su(),Xe=4):Xe=t===Uo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Wt=t,ze===null&&(it=1,_i(e,an(t,e.current)))}function om(){var e=Pt.current;return e===null?!0:(De&4194048)===De?on===null:(De&62914560)===De||(De&536870912)!==0?e===on:!1}function cm(){var e=Q.H;return Q.H=os,e===null?os:e}function dm(){var e=Q.A;return Q.A=lx,e}function Oi(){it=4,oa||(De&4194048)!==De&&Pt.current!==null||(bl=!0),(ca&134217727)===0&&(qa&134217727)===0||Je===null||fa(Je,De,$t,!1)}function ic(e,t,a){var l=Ve;Ve|=2;var i=cm(),d=dm();(Je!==e||De!==t)&&(Di=null,Sl(e,t)),t=!1;var m=it;e:do try{if(Xe!==0&&ze!==null){var S=ze,E=Wt;switch(Xe){case 8:sc(),m=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(t=!0);var V=Xe;if(Xe=0,Wt=null,_l(e,S,E,V),a&&bl){m=0;break e}break;default:V=Xe,Xe=0,Wt=null,_l(e,S,E,V)}}rx(),m=it;break}catch($){rm(e,$)}while(!0);return t&&e.shellSuspendCounter++,Dn=Aa=null,Ve=l,Q.H=i,Q.A=d,ze===null&&(Je=null,De=0,ti()),m}function rx(){for(;ze!==null;)um(ze)}function ox(e,t){var a=Ve;Ve|=2;var l=cm(),i=dm();Je!==e||De!==t?(Di=null,ki=rt()+500,Sl(e,t)):bl=Ul(e,t);e:do try{if(Xe!==0&&ze!==null){t=ze;var d=Wt;t:switch(Xe){case 1:Xe=0,Wt=null,_l(e,t,d,1);break;case 2:case 9:if(vu(d)){Xe=0,Wt=null,fm(t);break}t=function(){Xe!==2&&Xe!==9||Je!==e||(Xe=7),Cn(e)},d.then(t,t);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:vu(d)?(Xe=0,Wt=null,fm(t)):(Xe=0,Wt=null,_l(e,t,d,7));break;case 5:var m=null;switch(ze.tag){case 26:m=ze.memoizedState;case 5:case 27:var S=ze;if(m?Km(m):S.stateNode.complete){Xe=0,Wt=null;var E=S.sibling;if(E!==null)ze=E;else{var V=S.return;V!==null?(ze=V,Mi(V)):ze=null}break t}}Xe=0,Wt=null,_l(e,t,d,5);break;case 6:Xe=0,Wt=null,_l(e,t,d,6);break;case 8:sc(),it=6;break e;default:throw Error(c(462))}}cx();break}catch($){rm(e,$)}while(!0);return Dn=Aa=null,Q.H=l,Q.A=i,Ve=a,ze!==null?0:(Je=null,De=0,ti(),it)}function cx(){for(;ze!==null&&!pe();)um(ze)}function um(e){var t=Of(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?Mi(e):ze=t}function fm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ef(a,t,t.pendingProps,t.type,void 0,De);break;case 11:t=Ef(a,t,t.pendingProps,t.type.render,t.ref,De);break;case 5:jo(t);default:Uf(a,t),t=ze=cu(t,Gn),t=Of(a,t,Gn)}e.memoizedProps=e.pendingProps,t===null?Mi(e):ze=t}function _l(e,t,a,l){Dn=Aa=null,jo(t),fl=null,es=0;var i=t.return;try{if(Kg(e,i,t,a,De)){it=1,_i(e,an(a,e.current)),ze=null;return}}catch(d){if(i!==null)throw ze=i,d;it=1,_i(e,an(a,e.current)),ze=null;return}t.flags&32768?(Ue||l===1?e=!0:bl||(De&536870912)!==0?e=!1:(oa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pt.current,l!==null&&l.tag===13&&(l.flags|=16384))),mm(t,e)):Mi(t)}function Mi(e){var t=e;do{if((t.flags&32768)!==0){mm(t,oa);return}e=t.return;var a=ex(t.alternate,t,Gn);if(a!==null){ze=a;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);it===0&&(it=5)}function mm(e,t){do{var a=tx(e.alternate,e);if(a!==null){a.flags&=32767,ze=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=a}while(e!==null);it=6,ze=null}function hm(e,t,a,l,i,d,m,S,E){e.cancelPendingCommit=null;do Ui();while(gt!==0);if((Ve&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(d=t.lanes|t.childLanes,d|=Xr,Vp(e,a,d,m,S,E),e===Je&&(ze=Je=null,De=0),jl=t,ua=e,Qn=a,nc=d,ac=i,am=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mx(ja,function(){return bm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,i=le.p,le.p=2,m=Ve,Ve|=4;try{nx(e,t,a)}finally{Ve=m,le.p=i,Q.T=l}}gt=1,pm(),gm(),xm()}}function pm(){if(gt===1){gt=0;var e=ua,t=jl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var i=Ve;Ve|=4;try{$f(t,e);var d=yc,m=eu(e.containerInfo),S=d.focusedElem,E=d.selectionRange;if(m!==S&&S&&S.ownerDocument&&Id(S.ownerDocument.documentElement,S)){if(E!==null&&Vr(S)){var V=E.start,$=E.end;if($===void 0&&($=V),"selectionStart"in S)S.selectionStart=V,S.selectionEnd=Math.min($,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var P=G.getSelection(),fe=S.textContent.length,ve=Math.min(E.start,fe),Ke=E.end===void 0?ve:Math.min(E.end,fe);!P.extend&&ve>Ke&&(m=Ke,Ke=ve,ve=m);var U=Jd(S,ve),k=Jd(S,Ke);if(U&&k&&(P.rangeCount!==1||P.anchorNode!==U.node||P.anchorOffset!==U.offset||P.focusNode!==k.node||P.focusOffset!==k.offset)){var F=ee.createRange();F.setStart(U.node,U.offset),P.removeAllRanges(),ve>Ke?(P.addRange(F),P.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),P.addRange(F))}}}}for(ee=[],P=S;P=P.parentNode;)P.nodeType===1&&ee.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var K=ee[S];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}$i=!!xc,yc=xc=null}finally{Ve=i,le.p=l,Q.T=a}}e.current=t,gt=2}}function gm(){if(gt===2){gt=0;var e=ua,t=jl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=le.p;le.p=2;var i=Ve;Ve|=4;try{Qf(e,t.alternate,t)}finally{Ve=i,le.p=l,Q.T=a}}gt=3}}function xm(){if(gt===4||gt===3){gt=0,Ye();var e=ua,t=jl,a=Qn,l=am;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?gt=5:(gt=0,jl=ua=null,ym(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(da=null),_r(a),t=t.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(Pe,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=Q.T,i=le.p,le.p=2,Q.T=null;try{for(var d=e.onRecoverableError,m=0;m<l.length;m++){var S=l[m];d(S.value,{componentStack:S.stack})}}finally{Q.T=t,le.p=i}}(Qn&3)!==0&&Ui(),Cn(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===lc?xs++:(xs=0,lc=e):xs=0,ys(0)}}function ym(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Jl(t)))}function Ui(){return pm(),gm(),xm(),bm()}function bm(){if(gt!==5)return!1;var e=ua,t=nc;nc=0;var a=_r(Qn),l=Q.T,i=le.p;try{le.p=32>a?32:a,Q.T=null,a=ac,ac=null;var d=ua,m=Qn;if(gt=0,jl=ua=null,Qn=0,(Ve&6)!==0)throw Error(c(331));var S=Ve;if(Ve|=4,em(d.current),Kf(d,d.current,m,a),Ve=S,ys(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(Pe,d)}catch{}return!0}finally{le.p=i,Q.T=l,ym(e,t)}}function vm(e,t,a){t=an(a,t),t=Mo(e.stateNode,t,2),e=la(e,t,2),e!==null&&(Ll(e,2),Cn(e))}function We(e,t,a){if(e.tag===3)vm(e,e,a);else for(;t!==null;){if(t.tag===3){vm(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){e=an(a,e),a=jf(2),l=la(t,a,2),l!==null&&(Sf(a,l,t,e),Ll(l,2),Cn(l));break}}t=t.return}}function rc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new sx;var i=new Set;l.set(t,i)}else i=l.get(t),i===void 0&&(i=new Set,l.set(t,i));i.has(a)||(Io=!0,i.add(a),e=dx.bind(null,e,t,a),t.then(e,e))}function dx(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Je===e&&(De&a)===a&&(it===4||it===3&&(De&62914560)===De&&300>rt()-zi?(Ve&2)===0&&Sl(e,0):ec|=a,vl===De&&(vl=0)),Cn(e)}function jm(e,t){t===0&&(t=hd()),e=Ta(e,t),e!==null&&(Ll(e,t),Cn(e))}function ux(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),jm(e,a)}function fx(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),jm(e,a)}function mx(e,t){return at(e,t)}var Li=null,wl=null,oc=!1,qi=!1,cc=!1,ma=0;function Cn(e){e!==wl&&e.next===null&&(wl===null?Li=wl=e:wl=wl.next=e),qi=!0,oc||(oc=!0,px())}function ys(e,t){if(!cc&&qi){cc=!0;do for(var a=!1,l=Li;l!==null;){if(e!==0){var i=l.pendingLanes;if(i===0)var d=0;else{var m=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Gt(42|e)+1)-1,d&=i&~(m&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Nm(l,d))}else d=De,d=Gs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ul(l,d)||(a=!0,Nm(l,d));l=l.next}while(a);cc=!1}}function hx(){Sm()}function Sm(){qi=oc=!1;var e=0;ma!==0&&Nx()&&(e=ma);for(var t=rt(),a=null,l=Li;l!==null;){var i=l.next,d=_m(l,t);d===0?(l.next=null,a===null?Li=i:a.next=i,i===null&&(wl=a)):(a=l,(e!==0||(d&3)!==0)&&(qi=!0)),l=i}gt!==0&&gt!==5||ys(e),ma!==0&&(ma=0)}function _m(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,i=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Gt(d),S=1<<m,E=i[m];E===-1?((S&a)===0||(S&l)!==0)&&(i[m]=Fp(S,t)):E<=t&&(e.expiredLanes|=S),d&=~S}if(t=Je,a=De,a=Gs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Xe===2||Xe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ne(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ul(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ne(l),_r(a)){case 2:case 8:a=mn;break;case 32:a=ja;break;case 268435456:a=ae;break;default:a=ja}return l=wm.bind(null,e),a=at(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ne(l),e.callbackPriority=2,e.callbackNode=null,2}function wm(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ui()&&e.callbackNode!==a)return null;var l=De;return l=Gs(e,e===Je?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(sm(e,l,t),_m(e,rt()),e.callbackNode!=null&&e.callbackNode===a?wm.bind(null,e):null)}function Nm(e,t){if(Ui())return null;sm(e,t,!0)}function px(){Tx(function(){(Ve&6)!==0?at($n,hx):Sm()})}function dc(){if(ma===0){var e=cl;e===0&&(e=Hs,Hs<<=1,(Hs&261888)===0&&(Hs=256)),ma=e}return ma}function Cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Tm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function gx(e,t,a,l,i){if(t==="submit"&&a&&a.stateNode===i){var d=Cm((i[Dt]||null).action),m=l.submitter;m&&(t=(t=m[Dt]||null)?Cm(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var S=new Ks("action","action",null,l,i);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var E=m?Tm(i,m):new FormData(i);Ao(a,{pending:!0,data:E,method:i.method,action:d},null,E)}}else typeof d=="function"&&(S.preventDefault(),E=m?Tm(i,m):new FormData(i),Ao(a,{pending:!0,data:E,method:i.method,action:d},d,E))},currentTarget:i}]})}}for(var uc=0;uc<Pr.length;uc++){var fc=Pr[uc],xx=fc.toLowerCase(),yx=fc[0].toUpperCase()+fc.slice(1);hn(xx,"on"+yx)}hn(au,"onAnimationEnd"),hn(lu,"onAnimationIteration"),hn(su,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(Bg,"onTransitionRun"),hn(Og,"onTransitionStart"),hn(Mg,"onTransitionCancel"),hn(iu,"onTransitionEnd"),$a("onMouseEnter",["mouseout","mouseover"]),$a("onMouseLeave",["mouseout","mouseover"]),$a("onPointerEnter",["pointerout","pointerover"]),$a("onPointerLeave",["pointerout","pointerover"]),_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_a("onBeforeInput",["compositionend","keypress","textInput","paste"]),_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function Rm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],i=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var m=l.length-1;0<=m;m--){var S=l[m],E=S.instance,V=S.currentTarget;if(S=S.listener,E!==d&&i.isPropagationStopped())break e;d=S,i.currentTarget=V;try{d(i)}catch($){ei($)}i.currentTarget=null,d=E}else for(m=0;m<l.length;m++){if(S=l[m],E=S.instance,V=S.currentTarget,S=S.listener,E!==d&&i.isPropagationStopped())break e;d=S,i.currentTarget=V;try{d(i)}catch($){ei($)}i.currentTarget=null,d=E}}}}function ke(e,t){var a=t[wr];a===void 0&&(a=t[wr]=new Set);var l=e+"__bubble";a.has(l)||(Em(t,e,2,!1),a.add(l))}function mc(e,t,a){var l=0;t&&(l|=4),Em(a,e,l,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function hc(e){if(!e[Hi]){e[Hi]=!0,jd.forEach(function(a){a!=="selectionchange"&&(bx.has(a)||mc(a,!1,e),mc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,mc("selectionchange",!1,t))}}function Em(e,t,a,l){switch(lh(t)){case 2:var i=Xx;break;case 8:i=Wx;break;default:i=Ec}a=i.bind(null,t,a,e),i=void 0,!Dr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),l?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function pc(e,t,a,l,i){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var S=l.stateNode.containerInfo;if(S===i)break;if(m===4)for(m=l.return;m!==null;){var E=m.tag;if((E===3||E===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;S!==null;){if(m=Pa(S),m===null)return;if(E=m.tag,E===5||E===6||E===26||E===27){l=d=m;continue e}S=S.parentNode}}l=l.return}Dd(function(){var V=d,$=zr(a),ee=[];e:{var G=ru.get(e);if(G!==void 0){var P=Ks,fe=e;switch(e){case"keypress":if($s(a)===0)break e;case"keydown":case"keyup":P=fg;break;case"focusin":fe="focus",P=Ur;break;case"focusout":fe="blur",P=Ur;break;case"beforeblur":case"afterblur":P=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=pg;break;case au:case lu:case su:P=ag;break;case iu:P=xg;break;case"scroll":case"scrollend":P=Jp;break;case"wheel":P=bg;break;case"copy":case"cut":case"paste":P=sg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ld;break;case"toggle":case"beforetoggle":P=jg}var ve=(t&4)!==0,Ke=!ve&&(e==="scroll"||e==="scrollend"),U=ve?G!==null?G+"Capture":null:G;ve=[];for(var k=V,F;k!==null;){var K=k;if(F=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||F===null||U===null||(K=Fl(k,U),K!=null&&ve.push(vs(k,K,F))),Ke)break;k=k.return}0<ve.length&&(G=new P(G,fe,null,a,$),ee.push({event:G,listeners:ve}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",G&&a!==Ar&&(fe=a.relatedTarget||a.fromElement)&&(Pa(fe)||fe[Ya]))break e;if((P||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,P?(fe=a.relatedTarget||a.toElement,P=V,fe=fe?Pa(fe):null,fe!==null&&(Ke=f(fe),ve=fe.tag,fe!==Ke||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(P=null,fe=V),P!==fe)){if(ve=Md,K="onMouseLeave",U="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(ve=Ld,K="onPointerLeave",U="onPointerEnter",k="pointer"),Ke=P==null?G:Hl(P),F=fe==null?G:Hl(fe),G=new ve(K,k+"leave",P,a,$),G.target=Ke,G.relatedTarget=F,K=null,Pa($)===V&&(ve=new ve(U,k+"enter",fe,a,$),ve.target=F,ve.relatedTarget=Ke,K=ve),Ke=K,P&&fe)t:{for(ve=vx,U=P,k=fe,F=0,K=U;K;K=ve(K))F++;K=0;for(var xe=k;xe;xe=ve(xe))K++;for(;0<F-K;)U=ve(U),F--;for(;0<K-F;)k=ve(k),K--;for(;F--;){if(U===k||k!==null&&U===k.alternate){ve=U;break t}U=ve(U),k=ve(k)}ve=null}else ve=null;P!==null&&Am(ee,G,P,ve,!1),fe!==null&&Ke!==null&&Am(ee,Ke,fe,ve,!0)}}e:{if(G=V?Hl(V):window,P=G.nodeName&&G.nodeName.toLowerCase(),P==="select"||P==="input"&&G.type==="file")var He=Pd;else if(Qd(G))if(Xd)He=zg;else{He=Eg;var me=Rg}else P=G.nodeName,!P||P.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?V&&Er(V.elementType)&&(He=Pd):He=Ag;if(He&&(He=He(e,V))){Yd(ee,He,a,$);break e}me&&me(e,G,V),e==="focusout"&&V&&G.type==="number"&&V.memoizedProps.value!=null&&Rr(G,"number",G.value)}switch(me=V?Hl(V):window,e){case"focusin":(Qd(me)||me.contentEditable==="true")&&(tl=me,Gr=V,$l=null);break;case"focusout":$l=Gr=tl=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":Qr=!1,tu(ee,a,$);break;case"selectionchange":if(Dg)break;case"keydown":case"keyup":tu(ee,a,$)}var Re;if(qr)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else el?Vd(e,a)&&(Be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(qd&&a.locale!=="ko"&&(el||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&el&&(Re=Bd()):(Kn=$,Br="value"in Kn?Kn.value:Kn.textContent,el=!0)),me=Fi(V,Be),0<me.length&&(Be=new Ud(Be,e,null,a,$),ee.push({event:Be,listeners:me}),Re?Be.data=Re:(Re=Gd(a),Re!==null&&(Be.data=Re)))),(Re=_g?wg(e,a):Ng(e,a))&&(Be=Fi(V,"onBeforeInput"),0<Be.length&&(me=new Ud("onBeforeInput","beforeinput",null,a,$),ee.push({event:me,listeners:Be}),me.data=Re)),gx(ee,e,V,a,$)}Rm(ee,t)})}function vs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Fi(e,t){for(var a=t+"Capture",l=[];e!==null;){var i=e,d=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||d===null||(i=Fl(e,a),i!=null&&l.unshift(vs(e,i,d)),i=Fl(e,t),i!=null&&l.push(vs(e,i,d))),e.tag===3)return l;e=e.return}return[]}function vx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Am(e,t,a,l,i){for(var d=t._reactName,m=[];a!==null&&a!==l;){var S=a,E=S.alternate,V=S.stateNode;if(S=S.tag,E!==null&&E===l)break;S!==5&&S!==26&&S!==27||V===null||(E=V,i?(V=Fl(a,d),V!=null&&m.unshift(vs(a,V,E))):i||(V=Fl(a,d),V!=null&&m.push(vs(a,V,E)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var jx=/\r\n?/g,Sx=/\u0000|\uFFFD/g;function zm(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(Sx,"")}function km(e,t){return t=zm(t),zm(e)===t}function Ze(e,t,a,l,i,d){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ka(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ka(e,""+l);break;case"className":Ys(e,"class",l);break;case"tabIndex":Ys(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,a,l);break;case"style":zd(e,l,d);break;case"data":if(t!=="object"){Ys(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Ze(e,t,"name",i.name,i,null),Ze(e,t,"formEncType",i.formEncType,i,null),Ze(e,t,"formMethod",i.formMethod,i,null),Ze(e,t,"formTarget",i.formTarget,i,null)):(Ze(e,t,"encType",i.encType,i,null),Ze(e,t,"method",i.method,i,null),Ze(e,t,"target",i.target,i,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=En);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ke("beforetoggle",e),ke("toggle",e),Qs(e,"popover",l);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zp.get(a)||a,Qs(e,a,l))}}function gc(e,t,a,l,i,d){switch(a){case"style":zd(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Ka(e,l):(typeof l=="number"||typeof l=="bigint")&&Ka(e,""+l);break;case"onScroll":l!=null&&ke("scroll",e);break;case"onScrollEnd":l!=null&&ke("scrollend",e);break;case"onClick":l!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),d=e[Dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,i),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,i);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Qs(e,a,l)}}}function Ct(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",e),ke("load",e);var l=!1,i=!1,d;for(d in a)if(a.hasOwnProperty(d)){var m=a[d];if(m!=null)switch(d){case"src":l=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ze(e,t,d,m,a,null)}}i&&Ze(e,t,"srcSet",a.srcSet,a,null),l&&Ze(e,t,"src",a.src,a,null);return;case"input":ke("invalid",e);var S=d=m=i=null,E=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":i=$;break;case"type":m=$;break;case"checked":E=$;break;case"defaultChecked":V=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(c(137,t));break;default:Ze(e,t,l,$,a,null)}}Td(e,d,S,E,V,m,i,!1);return;case"select":ke("invalid",e),l=m=d=null;for(i in a)if(a.hasOwnProperty(i)&&(S=a[i],S!=null))switch(i){case"value":d=S;break;case"defaultValue":m=S;break;case"multiple":l=S;default:Ze(e,t,i,S,a,null)}t=d,a=m,e.multiple=!!l,t!=null?Za(e,!!l,t,!1):a!=null&&Za(e,!!l,a,!0);return;case"textarea":ke("invalid",e),d=i=l=null;for(m in a)if(a.hasOwnProperty(m)&&(S=a[m],S!=null))switch(m){case"value":l=S;break;case"defaultValue":i=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(c(91));break;default:Ze(e,t,m,S,a,null)}Ed(e,l,i,d);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(l=a[E],l!=null))switch(E){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(e,t,E,l,a,null)}return;case"dialog":ke("beforetoggle",e),ke("toggle",e),ke("cancel",e),ke("close",e);break;case"iframe":case"object":ke("load",e);break;case"video":case"audio":for(l=0;l<bs.length;l++)ke(bs[l],e);break;case"image":ke("error",e),ke("load",e);break;case"details":ke("toggle",e);break;case"embed":case"source":case"link":ke("error",e),ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ze(e,t,V,l,a,null)}return;default:if(Er(t)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&gc(e,t,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(e,t,S,l,a,null))}function _x(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,d=null,m=null,S=null,E=null,V=null,$=null;for(P in a){var ee=a[P];if(a.hasOwnProperty(P)&&ee!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":E=ee;default:l.hasOwnProperty(P)||Ze(e,t,P,null,l,ee)}}for(var G in l){var P=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(P!=null||ee!=null))switch(G){case"type":d=P;break;case"name":i=P;break;case"checked":V=P;break;case"defaultChecked":$=P;break;case"value":m=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(c(137,t));break;default:P!==ee&&Ze(e,t,G,P,l,ee)}}Tr(e,m,S,E,V,$,d,i);return;case"select":P=m=S=G=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":P=E;default:l.hasOwnProperty(d)||Ze(e,t,d,null,l,E)}for(i in l)if(d=l[i],E=a[i],l.hasOwnProperty(i)&&(d!=null||E!=null))switch(i){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":m=d;default:d!==E&&Ze(e,t,i,d,l,E)}t=S,a=m,l=P,G!=null?Za(e,!!a,G,!1):!!l!=!!a&&(t!=null?Za(e,!!a,t,!0):Za(e,!!a,a?[]:"",!1));return;case"textarea":P=G=null;for(S in a)if(i=a[S],a.hasOwnProperty(S)&&i!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(e,t,S,null,l,i)}for(m in l)if(i=l[m],d=a[m],l.hasOwnProperty(m)&&(i!=null||d!=null))switch(m){case"value":G=i;break;case"defaultValue":P=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(c(91));break;default:i!==d&&Ze(e,t,m,i,l,d)}Rd(e,G,P);return;case"option":for(var fe in a)if(G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:Ze(e,t,fe,null,l,G)}for(E in l)if(G=l[E],P=a[E],l.hasOwnProperty(E)&&G!==P&&(G!=null||P!=null))switch(E){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(e,t,E,G,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&Ze(e,t,ve,null,l,G);for(V in l)if(G=l[V],P=a[V],l.hasOwnProperty(V)&&G!==P&&(G!=null||P!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:Ze(e,t,V,G,l,P)}return;default:if(Er(t)){for(var Ke in a)G=a[Ke],a.hasOwnProperty(Ke)&&G!==void 0&&!l.hasOwnProperty(Ke)&&gc(e,t,Ke,void 0,l,G);for($ in l)G=l[$],P=a[$],!l.hasOwnProperty($)||G===P||G===void 0&&P===void 0||gc(e,t,$,G,l,P);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&Ze(e,t,U,null,l,G);for(ee in l)G=l[ee],P=a[ee],!l.hasOwnProperty(ee)||G===P||G==null&&P==null||Ze(e,t,ee,G,l,P)}function Dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var i=a[l],d=i.transferSize,m=i.initiatorType,S=i.duration;if(d&&S&&Dm(m)){for(m=0,S=i.responseEnd,l+=1;l<a.length;l++){var E=a[l],V=E.startTime;if(V>S)break;var $=E.transferSize,ee=E.initiatorType;$&&Dm(ee)&&(E=E.responseEnd,m+=$*(E<S?1:(S-V)/(E-V)))}if(--l,t+=8*(d+m)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xc=null,yc=null;function Vi(e){return e.nodeType===9?e:e.ownerDocument}function Bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Om(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=null;function Nx(){var e=window.event;return e&&e.type==="popstate"?e===vc?!1:(vc=e,!0):(vc=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(Rx)}:Mm;function Rx(e){setTimeout(function(){throw e})}function ha(e){return e==="head"}function Lm(e,t){var a=t,l=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(i),Rl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")js(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,js(a);for(var d=a.firstChild;d;){var m=d.nextSibling,S=d.nodeName;d[ql]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=m}}else a==="body"&&js(e.ownerDocument.body);a=i}while(a);Rl(t)}function qm(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jc(a),Nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ex(e,t,a,l){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ql])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function Ax(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=cn(e.nextSibling),e===null))return null;return e}function Hm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=cn(e.nextSibling),e===null))return null;return e}function Sc(e){return e.data==="$?"||e.data==="$~"}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zx(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wc=null;function Fm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return cn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Gm(e,t,a){switch(t=Vi(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function js(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Nr(e)}var dn=new Map,Qm=new Set;function Gi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=le.d;le.d={f:kx,r:Dx,D:Bx,C:Ox,L:Mx,m:Ux,X:qx,S:Lx,M:Hx};function kx(){var e=Yn.f(),t=Bi();return e||t}function Dx(e){var t=Xa(e);t!==null&&t.tag===5&&t.type==="form"?rf(t):Yn.r(e)}var Nl=typeof document>"u"?null:document;function Ym(e,t,a){var l=Nl;if(l&&typeof t=="string"&&t){var i=tn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),Qm.has(i)||(Qm.add(i),e={rel:e,crossOrigin:a,href:t},l.querySelector(i)===null&&(t=l.createElement("link"),Ct(t,"link",e),xt(t),l.head.appendChild(t)))}}function Bx(e){Yn.D(e),Ym("dns-prefetch",e,null)}function Ox(e,t){Yn.C(e,t),Ym("preconnect",e,t)}function Mx(e,t,a){Yn.L(e,t,a);var l=Nl;if(l&&e&&t){var i='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+tn(a.imageSizes)+'"]')):i+='[href="'+tn(e)+'"]';var d=i;switch(t){case"style":d=Cl(e);break;case"script":d=Tl(e)}dn.has(d)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),dn.set(d,e),l.querySelector(i)!==null||t==="style"&&l.querySelector(Ss(d))||t==="script"&&l.querySelector(_s(d))||(t=l.createElement("link"),Ct(t,"link",e),xt(t),l.head.appendChild(t)))}}function Ux(e,t){Yn.m(e,t);var a=Nl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+tn(l)+'"][href="'+tn(e)+'"]',d=i;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Tl(e)}if(!dn.has(d)&&(e=x({rel:"modulepreload",href:e},t),dn.set(d,e),a.querySelector(i)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_s(d)))return}l=a.createElement("link"),Ct(l,"link",e),xt(l),a.head.appendChild(l)}}}function Lx(e,t,a){Yn.S(e,t,a);var l=Nl;if(l&&e){var i=Wa(l).hoistableStyles,d=Cl(e);t=t||"default";var m=i.get(d);if(!m){var S={loading:0,preload:null};if(m=l.querySelector(Ss(d)))S.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=dn.get(d))&&Nc(e,a);var E=m=l.createElement("link");xt(E),Ct(E,"link",e),E._p=new Promise(function(V,$){E.onload=V,E.onerror=$}),E.addEventListener("load",function(){S.loading|=1}),E.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qi(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:S},i.set(d,m)}}}function qx(e,t){Yn.X(e,t);var a=Nl;if(a&&e){var l=Wa(a).hoistableScripts,i=Tl(e),d=l.get(i);d||(d=a.querySelector(_s(i)),d||(e=x({src:e,async:!0},t),(t=dn.get(i))&&Cc(e,t),d=a.createElement("script"),xt(d),Ct(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(i,d))}}function Hx(e,t){Yn.M(e,t);var a=Nl;if(a&&e){var l=Wa(a).hoistableScripts,i=Tl(e),d=l.get(i);d||(d=a.querySelector(_s(i)),d||(e=x({src:e,async:!0,type:"module"},t),(t=dn.get(i))&&Cc(e,t),d=a.createElement("script"),xt(d),Ct(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(i,d))}}function Pm(e,t,a,l){var i=(i=ye.current)?Gi(i):null;if(!i)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Cl(a.href),a=Wa(i).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Cl(a.href);var d=Wa(i).hoistableStyles,m=d.get(e);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=i.querySelector(Ss(e)))&&!d._p&&(m.instance=d,m.state.loading=5),dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},dn.set(e,a),d||Fx(i,e,a,m.state))),t&&l===null)throw Error(c(528,""));return m}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Tl(a),a=Wa(i).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Cl(e){return'href="'+tn(e)+'"'}function Ss(e){return'link[rel="stylesheet"]['+e+"]"}function Xm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Fx(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Ct(t,"link",a),xt(t),e.head.appendChild(t))}function Tl(e){return'[src="'+tn(e)+'"]'}function _s(e){return"script[async]"+e}function Wm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+tn(a.href)+'"]');if(l)return t.instance=l,xt(l),l;var i=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xt(l),Ct(l,"style",i),Qi(l,a.precedence,e),t.instance=l;case"stylesheet":i=Cl(a.href);var d=e.querySelector(Ss(i));if(d)return t.state.loading|=4,t.instance=d,xt(d),d;l=Xm(a),(i=dn.get(i))&&Nc(l,i),d=(e.ownerDocument||e).createElement("link"),xt(d);var m=d;return m._p=new Promise(function(S,E){m.onload=S,m.onerror=E}),Ct(d,"link",l),t.state.loading|=4,Qi(d,a.precedence,e),t.instance=d;case"script":return d=Tl(a.src),(i=e.querySelector(_s(d)))?(t.instance=i,xt(i),i):(l=a,(i=dn.get(d))&&(l=x({},a),Cc(l,i)),e=e.ownerDocument||e,i=e.createElement("script"),xt(i),Ct(i,"link",l),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Qi(l,a.precedence,e));return t.instance}function Qi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=l.length?l[l.length-1]:null,d=i,m=0;m<l.length;m++){var S=l[m];if(S.dataset.precedence===t)d=S;else if(d!==i)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yi=null;function $m(e,t,a){if(Yi===null){var l=new Map,i=Yi=new Map;i.set(a,l)}else i=Yi,l=i.get(a),l||(l=new Map,i.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var d=a[i];if(!(d[ql]||d[St]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var S=l.get(m);S?S.push(d):l.set(m,[d])}}return l}function Zm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Vx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Gx(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=Cl(l.href),d=t.querySelector(Ss(i));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,xt(d);return}d=t.ownerDocument||t,l=Xm(l),(i=dn.get(i))&&Nc(l,i),d=d.createElement("link"),xt(d);var m=d;m._p=new Promise(function(S,E){m.onload=S,m.onerror=E}),Ct(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Tc=0;function Qx(e,t){return e.stylesheets&&e.count===0&&Wi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Tc===0&&(Tc=62500*wx());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Tc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(i)}}:null}function Pi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xi=null;function Wi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xi=new Map,t.forEach(Yx,e),Xi=null,Pi.call(e))}function Yx(e,t){if(!(t.state.loading&4)){var a=Xi.get(e);if(a)var l=a.get(null);else{a=new Map,Xi.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<i.length;d++){var m=i[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}i=t.instance,m=i.getAttribute("data-precedence"),d=a.get(m)||l,d===l&&a.set(null,i),a.set(m,i),this.count++,l=Pi.bind(this),i.addEventListener("load",l),i.addEventListener("error",l),d?d.parentNode.insertBefore(i,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ws={$$typeof:D,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function Px(e,t,a,l,i,d,m,S,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=l,this.onUncaughtError=i,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Jm(e,t,a,l,i,d,m,S,E,V,$,ee){return e=new Px(e,t,a,m,E,V,$,ee,S),t=1,d===!0&&(t|=24),d=Yt(3,null,null,t),e.current=d,d.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:t},co(d),e}function Im(e){return e?(e=ll,e):ll}function eh(e,t,a,l,i,d){i=Im(i),l.context===null?l.context=i:l.pendingContext=i,l=aa(t),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=la(e,l,t),a!==null&&(qt(a,e,t),ns(a,e,t))}function th(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Rc(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function nh(e){if(e.tag===13||e.tag===31){var t=Ta(e,67108864);t!==null&&qt(t,e,67108864),Rc(e,67108864)}}function ah(e){if(e.tag===13||e.tag===31){var t=Zt();t=Sr(t);var a=Ta(e,t);a!==null&&qt(a,e,t),Rc(e,t)}}var $i=!0;function Xx(e,t,a,l){var i=Q.T;Q.T=null;var d=le.p;try{le.p=2,Ec(e,t,a,l)}finally{le.p=d,Q.T=i}}function Wx(e,t,a,l){var i=Q.T;Q.T=null;var d=le.p;try{le.p=8,Ec(e,t,a,l)}finally{le.p=d,Q.T=i}}function Ec(e,t,a,l){if($i){var i=Ac(l);if(i===null)pc(e,t,l,Zi,a),sh(e,l);else if(Zx(i,e,t,a,l))l.stopPropagation();else if(sh(e,l),t&4&&-1<$x.indexOf(e)){for(;i!==null;){var d=Xa(i);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=Sa(d.pendingLanes);if(m!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;m;){var E=1<<31-Gt(m);S.entanglements[1]|=E,m&=~E}Cn(d),(Ve&6)===0&&(ki=rt()+500,ys(0))}}break;case 31:case 13:S=Ta(d,2),S!==null&&qt(S,d,2),Bi(),Rc(d,2)}if(d=Ac(l),d===null&&pc(e,t,l,Zi,a),d===i)break;i=d}i!==null&&l.stopPropagation()}else pc(e,t,l,null,a)}}function Ac(e){return e=zr(e),zc(e)}var Zi=null;function zc(e){if(Zi=null,e=Pa(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=b(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zi=e,null}function lh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qa()){case $n:return 2;case mn:return 8;case ja:case lt:return 32;case ae:return 268435456;default:return 32}default:return 32}}var kc=!1,pa=null,ga=null,xa=null,Ns=new Map,Cs=new Map,ya=[],$x="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Ts(e,t,a,l,i,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[i]},t!==null&&(t=Xa(t),t!==null&&nh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Zx(e,t,a,l,i){switch(t){case"focusin":return pa=Ts(pa,e,t,a,l,i),!0;case"dragenter":return ga=Ts(ga,e,t,a,l,i),!0;case"mouseover":return xa=Ts(xa,e,t,a,l,i),!0;case"pointerover":var d=i.pointerId;return Ns.set(d,Ts(Ns.get(d)||null,e,t,a,l,i)),!0;case"gotpointercapture":return d=i.pointerId,Cs.set(d,Ts(Cs.get(d)||null,e,t,a,l,i)),!0}return!1}function ih(e){var t=Pa(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,bd(e.priority,function(){ah(a)});return}}else if(t===31){if(t=b(a),t!==null){e.blockedOn=t,bd(e.priority,function(){ah(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ac(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ar=l,a.target.dispatchEvent(l),Ar=null}else return t=Xa(a),t!==null&&nh(t),e.blockedOn=a,!1;t.shift()}return!0}function rh(e,t,a){Ki(e)&&a.delete(t)}function Kx(){kc=!1,pa!==null&&Ki(pa)&&(pa=null),ga!==null&&Ki(ga)&&(ga=null),xa!==null&&Ki(xa)&&(xa=null),Ns.forEach(rh),Cs.forEach(rh)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,kc||(kc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Kx)))}var Ii=null;function oh(e){Ii!==e&&(Ii=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ii===e&&(Ii=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],i=e[t+2];if(typeof l!="function"){if(zc(l||a)===null)continue;break}var d=Xa(a);d!==null&&(e.splice(t,3),t-=3,Ao(d,{pending:!0,data:i,method:a.method,action:l},l,i))}}))}function Rl(e){function t(E){return Ji(E,e)}pa!==null&&Ji(pa,e),ga!==null&&Ji(ga,e),xa!==null&&Ji(xa,e),Ns.forEach(t),Cs.forEach(t);for(var a=0;a<ya.length;a++){var l=ya[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ya.length&&(a=ya[0],a.blockedOn===null);)ih(a),a.blockedOn===null&&ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var i=a[l],d=a[l+1],m=i[Dt]||null;if(typeof d=="function")m||oh(a);else if(m){var S=null;if(d&&d.hasAttribute("formAction")){if(i=d,m=d[Dt]||null)S=m.formAction;else if(zc(i)!==null)continue}else S=m.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),oh(a)}}}function ch(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Dc(e){this._internalRoot=e}er.prototype.render=Dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,l=Zt();eh(a,l,e,t,null,null)},er.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Bi(),t[Ya]=null}};function er(e){this._internalRoot=e}er.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ya.length&&t!==0&&t<ya[a].priority;a++);ya.splice(a,0,e),a===0&&ih(e)}};var dh=r.version;if(dh!=="19.2.0")throw Error(c(527,dh,"19.2.0"));le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Jx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tr.isDisabled&&tr.supportsFiber)try{Pe=tr.inject(Jx),Te=tr}catch{}}return Es.createRoot=function(e,t){if(!u(e))throw Error(c(299));var a=!1,l="",i=xf,d=yf,m=bf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Jm(e,1,!1,null,null,a,l,null,i,d,m,ch),e[Ya]=t.current,hc(e),new Dc(t)},Es.hydrateRoot=function(e,t,a){if(!u(e))throw Error(c(299));var l=!1,i="",d=xf,m=yf,S=bf,E=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),t=Jm(e,1,!0,t,a??null,l,i,E,d,m,S,ch),t.context=Im(null),a=t.current,l=Zt(),l=Sr(l),i=aa(l),i.callback=null,la(a,i,l),a=l,t.current.lanes=a,Ll(t,a),Cn(t),e[Ya]=t.current,hc(e),new er(t)},Es.version="19.2.0",Es}var vh;function oy(){if(vh)return Mc.exports;vh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Mc.exports=ry(),Mc.exports}var cy=oy();var jh="popstate";function dy(s={}){function r(c,u){let{pathname:f,search:h,hash:b}=c.location;return Wc("",{pathname:f,search:h,hash:b},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(c,u){return typeof u=="string"?u:ks(u)}return fy(r,o,null,s)}function nt(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function un(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function uy(){return Math.random().toString(36).substring(2,10)}function Sh(s,r){return{usr:s.state,key:s.key,idx:r}}function Wc(s,r,o=null,c){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?kl(r):r,state:o,key:r&&r.key||c||uy()}}function ks({pathname:s="/",search:r="",hash:o=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function kl(s){let r={};if(s){let o=s.indexOf("#");o>=0&&(r.hash=s.substring(o),s=s.substring(0,o));let c=s.indexOf("?");c>=0&&(r.search=s.substring(c),s=s.substring(0,c)),s&&(r.pathname=s)}return r}function fy(s,r,o,c={}){let{window:u=document.defaultView,v5Compat:f=!1}=c,h=u.history,b="POP",y=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function x(){b="POP";let _=v(),T=_==null?null:_-p;p=_,y&&y({action:b,location:C.location,delta:T})}function w(_,T){b="PUSH";let O=Wc(C.location,_,T);p=v()+1;let D=Sh(O,p),z=C.createHref(O);try{h.pushState(D,"",z)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;u.location.assign(z)}f&&y&&y({action:b,location:C.location,delta:1})}function N(_,T){b="REPLACE";let O=Wc(C.location,_,T);p=v();let D=Sh(O,p),z=C.createHref(O);h.replaceState(D,"",z),f&&y&&y({action:b,location:C.location,delta:0})}function j(_){return my(_)}let C={get action(){return b},get location(){return s(u,h)},listen(_){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(jh,x),y=_,()=>{u.removeEventListener(jh,x),y=null}},createHref(_){return r(u,_)},createURL:j,encodeLocation(_){let T=j(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:w,replace:N,go(_){return h.go(_)}};return C}function my(s,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),nt(o,"No window.location.(origin|href) available to create URL");let c=typeof s=="string"?s:ks(s);return c=c.replace(/ $/,"%20"),!r&&c.startsWith("//")&&(c=o+c),new URL(c,o)}function Xh(s,r,o="/"){return hy(s,r,o,!1)}function hy(s,r,o,c){let u=typeof r=="string"?kl(r):r,f=Xn(u.pathname||"/",o);if(f==null)return null;let h=Wh(s);py(h);let b=null;for(let y=0;b==null&&y<h.length;++y){let p=Cy(f);b=wy(h[y],p,c)}return b}function Wh(s,r=[],o=[],c="",u=!1){let f=(h,b,y=u,p)=>{let v={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:b,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(c)&&y)return;nt(v.relativePath.startsWith(c),`Absolute route path "${v.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(c.length)}let x=Pn([c,v.relativePath]),w=o.concat(v);h.children&&h.children.length>0&&(nt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Wh(h.children,r,w,x,y)),!(h.path==null&&!h.index)&&r.push({path:x,score:Sy(x,h.index),routesMeta:w})};return s.forEach((h,b)=>{if(h.path===""||!h.path?.includes("?"))f(h,b);else for(let y of $h(h.path))f(h,b,!0,y)}),r}function $h(s){let r=s.split("/");if(r.length===0)return[];let[o,...c]=r,u=o.endsWith("?"),f=o.replace(/\?$/,"");if(c.length===0)return u?[f,""]:[f];let h=$h(c.join("/")),b=[];return b.push(...h.map(y=>y===""?f:[f,y].join("/"))),u&&b.push(...h),b.map(y=>s.startsWith("/")&&y===""?"/":y)}function py(s){s.sort((r,o)=>r.score!==o.score?o.score-r.score:_y(r.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}var gy=/^:[\w-]+$/,xy=3,yy=2,by=1,vy=10,jy=-2,_h=s=>s==="*";function Sy(s,r){let o=s.split("/"),c=o.length;return o.some(_h)&&(c+=jy),r&&(c+=yy),o.filter(u=>!_h(u)).reduce((u,f)=>u+(gy.test(f)?xy:f===""?by:vy),c)}function _y(s,r){return s.length===r.length&&s.slice(0,-1).every((c,u)=>c===r[u])?s[s.length-1]-r[r.length-1]:0}function wy(s,r,o=!1){let{routesMeta:c}=s,u={},f="/",h=[];for(let b=0;b<c.length;++b){let y=c[b],p=b===c.length-1,v=f==="/"?r:r.slice(f.length)||"/",x=ur({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),w=y.route;if(!x&&p&&o&&!c[c.length-1].route.index&&(x=ur({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:Pn([f,x.pathname]),pathnameBase:Ay(Pn([f,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(f=Pn([f,x.pathnameBase]))}return h}function ur(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,c]=Ny(s.path,s.caseSensitive,s.end),u=r.match(o);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),b=u.slice(1);return{params:c.reduce((p,{paramName:v,isOptional:x},w)=>{if(v==="*"){let j=b[w]||"";h=f.slice(0,f.length-j.length).replace(/(.)\/+$/,"$1")}const N=b[w];return x&&!N?p[v]=void 0:p[v]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:s}}function Ny(s,r=!1,o=!0){un(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let c=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,b,y)=>(c.push({paramName:b,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(c.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),c]}function Cy(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return un(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Xn(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,c=s.charAt(o);return c&&c!=="/"?null:s.slice(o)||"/"}function Ty(s,r="/"){let{pathname:o,search:c="",hash:u=""}=typeof s=="string"?kl(s):s;return{pathname:o?o.startsWith("/")?o:Ry(o,r):r,search:zy(c),hash:ky(u)}}function Ry(s,r){let o=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function Hc(s,r,o,c){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ey(s){return s.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function ad(s){let r=Ey(s);return r.map((o,c)=>c===r.length-1?o.pathname:o.pathnameBase)}function ld(s,r,o,c=!1){let u;typeof s=="string"?u=kl(s):(u={...s},nt(!u.pathname||!u.pathname.includes("?"),Hc("?","pathname","search",u)),nt(!u.pathname||!u.pathname.includes("#"),Hc("#","pathname","hash",u)),nt(!u.search||!u.search.includes("#"),Hc("#","search","hash",u)));let f=s===""||u.pathname==="",h=f?"/":u.pathname,b;if(h==null)b=o;else{let x=r.length-1;if(!c&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),x-=1;u.pathname=w.join("/")}b=x>=0?r[x]:"/"}let y=Ty(u,b),p=h&&h!=="/"&&h.endsWith("/"),v=(f||h===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var Pn=s=>s.join("/").replace(/\/\/+/g,"/"),Ay=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),zy=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,ky=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Dy(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zh=["POST","PUT","PATCH","DELETE"];new Set(Zh);var By=["GET",...Zh];new Set(By);var Dl=g.createContext(null);Dl.displayName="DataRouter";var mr=g.createContext(null);mr.displayName="DataRouterState";g.createContext(!1);var Kh=g.createContext({isTransitioning:!1});Kh.displayName="ViewTransition";var Oy=g.createContext(new Map);Oy.displayName="Fetchers";var My=g.createContext(null);My.displayName="Await";var yn=g.createContext(null);yn.displayName="Navigation";var Ds=g.createContext(null);Ds.displayName="Location";var fn=g.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var sd=g.createContext(null);sd.displayName="RouteError";function Uy(s,{relative:r}={}){nt(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:c}=g.useContext(yn),{hash:u,pathname:f,search:h}=Bs(s,{relative:r}),b=f;return o!=="/"&&(b=f==="/"?o:Pn([o,f])),c.createHref({pathname:b,search:h,hash:u})}function Bl(){return g.useContext(Ds)!=null}function bn(){return nt(Bl(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ds).location}var Jh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ih(s){g.useContext(yn).static||g.useLayoutEffect(s)}function Wn(){let{isDataRoute:s}=g.useContext(fn);return s?Iy():Ly()}function Ly(){nt(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let s=g.useContext(Dl),{basename:r,navigator:o}=g.useContext(yn),{matches:c}=g.useContext(fn),{pathname:u}=bn(),f=JSON.stringify(ad(c)),h=g.useRef(!1);return Ih(()=>{h.current=!0}),g.useCallback((y,p={})=>{if(un(h.current,Jh),!h.current)return;if(typeof y=="number"){o.go(y);return}let v=ld(y,JSON.parse(f),u,p.relative==="path");s==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:Pn([r,v.pathname])),(p.replace?o.replace:o.push)(v,p.state,p)},[r,o,f,u,s])}var qy=g.createContext(null);function Hy(s){let r=g.useContext(fn).outlet;return g.useMemo(()=>r&&g.createElement(qy.Provider,{value:s},r),[r,s])}function Fy(){let{matches:s}=g.useContext(fn),r=s[s.length-1];return r?r.params:{}}function Bs(s,{relative:r}={}){let{matches:o}=g.useContext(fn),{pathname:c}=bn(),u=JSON.stringify(ad(o));return g.useMemo(()=>ld(s,JSON.parse(u),c,r==="path"),[s,u,c,r])}function Vy(s,r){return ep(s,r)}function ep(s,r,o,c,u){nt(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=g.useContext(yn),{matches:h}=g.useContext(fn),b=h[h.length-1],y=b?b.params:{},p=b?b.pathname:"/",v=b?b.pathnameBase:"/",x=b&&b.route;{let O=x&&x.path||"";tp(p,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let w=bn(),N;if(r){let O=typeof r=="string"?kl(r):r;nt(v==="/"||O.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${O.pathname}" was given in the \`location\` prop.`),N=O}else N=w;let j=N.pathname||"/",C=j;if(v!=="/"){let O=v.replace(/^\//,"").split("/");C="/"+j.replace(/^\//,"").split("/").slice(O.length).join("/")}let _=Xh(s,{pathname:C});un(x||_!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),un(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Xy(_&&_.map(O=>Object.assign({},O,{params:Object.assign({},y,O.params),pathname:Pn([v,f.encodeLocation?f.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?v:Pn([v,f.encodeLocation?f.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),h,o,c,u);return r&&T?g.createElement(Ds.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},T):T}function Gy(){let s=Jy(),r=Dy(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,c="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:c},f={padding:"2px 4px",backgroundColor:c},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:f},"ErrorBoundary")," or"," ",g.createElement("code",{style:f},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),o?g.createElement("pre",{style:u},o):null,h)}var Qy=g.createElement(Gy,null),Yy=class extends g.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){this.props.unstable_onError?this.props.unstable_onError(s,r):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?g.createElement(fn.Provider,{value:this.props.routeContext},g.createElement(sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Py({routeContext:s,match:r,children:o}){let c=g.useContext(Dl);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(fn.Provider,{value:s},o)}function Xy(s,r=[],o=null,c=null,u=null){if(s==null){if(!o)return null;if(o.errors)s=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let f=s,h=o?.errors;if(h!=null){let p=f.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,p+1))}let b=!1,y=-1;if(o)for(let p=0;p<f.length;p++){let v=f[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=p),v.route.id){let{loaderData:x,errors:w}=o,N=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||N){b=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((p,v,x)=>{let w,N=!1,j=null,C=null;o&&(w=h&&v.route.id?h[v.route.id]:void 0,j=v.route.errorElement||Qy,b&&(y<0&&x===0?(tp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):y===x&&(N=!0,C=v.route.hydrateFallbackElement||null)));let _=r.concat(f.slice(0,x+1)),T=()=>{let O;return w?O=j:N?O=C:v.route.Component?O=g.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=p,g.createElement(Py,{match:v,routeContext:{outlet:p,matches:_,isDataRoute:o!=null},children:O})};return o&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?g.createElement(Yy,{location:o.location,revalidation:o.revalidation,component:j,error:w,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:c}):T()},null)}function id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wy(s){let r=g.useContext(Dl);return nt(r,id(s)),r}function $y(s){let r=g.useContext(mr);return nt(r,id(s)),r}function Zy(s){let r=g.useContext(fn);return nt(r,id(s)),r}function rd(s){let r=Zy(s),o=r.matches[r.matches.length-1];return nt(o.route.id,`${s} can only be used on routes that contain a unique "id"`),o.route.id}function Ky(){return rd("useRouteId")}function Jy(){let s=g.useContext(sd),r=$y("useRouteError"),o=rd("useRouteError");return s!==void 0?s:r.errors?.[o]}function Iy(){let{router:s}=Wy("useNavigate"),r=rd("useNavigate"),o=g.useRef(!1);return Ih(()=>{o.current=!0}),g.useCallback(async(u,f={})=>{un(o.current,Jh),o.current&&(typeof u=="number"?s.navigate(u):await s.navigate(u,{fromRouteId:r,...f}))},[s,r])}var wh={};function tp(s,r,o){!r&&!wh[s]&&(wh[s]=!0,un(!1,o))}g.memo(e0);function e0({routes:s,future:r,state:o,unstable_onError:c}){return ep(s,void 0,o,c,r)}function Kt({to:s,replace:r,state:o,relative:c}){nt(Bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=g.useContext(yn);un(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=g.useContext(fn),{pathname:h}=bn(),b=Wn(),y=ld(s,ad(f),h,c==="path"),p=JSON.stringify(y);return g.useEffect(()=>{b(JSON.parse(p),{replace:r,state:o,relative:c})},[b,p,c,r,o]),null}function t0(s){return Hy(s.context)}function Ae(s){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n0({basename:s="/",children:r=null,location:o,navigationType:c="POP",navigator:u,static:f=!1}){nt(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),b=g.useMemo(()=>({basename:h,navigator:u,static:f,future:{}}),[h,u,f]);typeof o=="string"&&(o=kl(o));let{pathname:y="/",search:p="",hash:v="",state:x=null,key:w="default"}=o,N=g.useMemo(()=>{let j=Xn(y,h);return j==null?null:{location:{pathname:j,search:p,hash:v,state:x,key:w},navigationType:c}},[h,y,p,v,x,w,c]);return un(N!=null,`<Router basename="${h}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:g.createElement(yn.Provider,{value:b},g.createElement(Ds.Provider,{children:r,value:N}))}function a0({children:s,location:r}){return Vy($c(s),r)}function $c(s,r=[]){let o=[];return g.Children.forEach(s,(c,u)=>{if(!g.isValidElement(c))return;let f=[...r,u];if(c.type===g.Fragment){o.push.apply(o,$c(c.props.children,f));return}nt(c.type===Ae,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let h={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(h.children=$c(c.props.children,f)),o.push(h)}),o}var ir="get",rr="application/x-www-form-urlencoded";function hr(s){return s!=null&&typeof s.tagName=="string"}function l0(s){return hr(s)&&s.tagName.toLowerCase()==="button"}function s0(s){return hr(s)&&s.tagName.toLowerCase()==="form"}function i0(s){return hr(s)&&s.tagName.toLowerCase()==="input"}function r0(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function o0(s,r){return s.button===0&&(!r||r==="_self")&&!r0(s)}function Zc(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((r,o)=>{let c=s[o];return r.concat(Array.isArray(c)?c.map(u=>[o,u]):[[o,c]])},[]))}function c0(s,r){let o=Zc(s);return r&&r.forEach((c,u)=>{o.has(u)||r.getAll(u).forEach(f=>{o.append(u,f)})}),o}var nr=null;function d0(){if(nr===null)try{new FormData(document.createElement("form"),0),nr=!1}catch{nr=!0}return nr}var u0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fc(s){return s!=null&&!u0.has(s)?(un(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rr}"`),null):s}function f0(s,r){let o,c,u,f,h;if(s0(s)){let b=s.getAttribute("action");c=b?Xn(b,r):null,o=s.getAttribute("method")||ir,u=Fc(s.getAttribute("enctype"))||rr,f=new FormData(s)}else if(l0(s)||i0(s)&&(s.type==="submit"||s.type==="image")){let b=s.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||b.getAttribute("action");if(c=y?Xn(y,r):null,o=s.getAttribute("formmethod")||b.getAttribute("method")||ir,u=Fc(s.getAttribute("formenctype"))||Fc(b.getAttribute("enctype"))||rr,f=new FormData(b,s),!d0()){let{name:p,type:v,value:x}=s;if(v==="image"){let w=p?`${p}.`:"";f.append(`${w}x`,"0"),f.append(`${w}y`,"0")}else p&&f.append(p,x)}}else{if(hr(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=ir,c=null,u=rr,h=s}return f&&u==="text/plain"&&(h=f,f=void 0),{action:c,method:o.toLowerCase(),encType:u,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function od(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function m0(s,r,o){let c=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return c.pathname==="/"?c.pathname=`_root.${o}`:r&&Xn(c.pathname,r)==="/"?c.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${o}`,c}async function h0(s,r){if(s.id in r)return r[s.id];try{let o=await import(s.module);return r[s.id]=o,o}catch(o){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p0(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function g0(s,r,o){let c=await Promise.all(s.map(async u=>{let f=r.routes[u.route.id];if(f){let h=await h0(f,o);return h.links?h.links():[]}return[]}));return v0(c.flat(1).filter(p0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Nh(s,r,o,c,u,f){let h=(y,p)=>o[p]?y.route.id!==o[p].route.id:!0,b=(y,p)=>o[p].pathname!==y.pathname||o[p].route.path?.endsWith("*")&&o[p].params["*"]!==y.params["*"];return f==="assets"?r.filter((y,p)=>h(y,p)||b(y,p)):f==="data"?r.filter((y,p)=>{let v=c.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(h(y,p)||b(y,p))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function x0(s,r,{includeHydrateFallback:o}={}){return y0(s.map(c=>{let u=r.routes[c.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),o&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function y0(s){return[...new Set(s)]}function b0(s){let r={},o=Object.keys(s).sort();for(let c of o)r[c]=s[c];return r}function v0(s,r){let o=new Set;return new Set(r),s.reduce((c,u)=>{let f=JSON.stringify(b0(u));return o.has(f)||(o.add(f),c.push({key:f,link:u})),c},[])}function np(){let s=g.useContext(Dl);return od(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function j0(){let s=g.useContext(mr);return od(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var cd=g.createContext(void 0);cd.displayName="FrameworkContext";function ap(){let s=g.useContext(cd);return od(s,"You must render this element inside a <HydratedRouter> element"),s}function S0(s,r){let o=g.useContext(cd),[c,u]=g.useState(!1),[f,h]=g.useState(!1),{onFocus:b,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=r,w=g.useRef(null);g.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let C=T=>{T.forEach(O=>{h(O.isIntersecting)})},_=new IntersectionObserver(C,{threshold:.5});return w.current&&_.observe(w.current),()=>{_.disconnect()}}},[s]),g.useEffect(()=>{if(c){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[c]);let N=()=>{u(!0)},j=()=>{u(!1),h(!1)};return o?s!=="intent"?[f,w,{}]:[f,w,{onFocus:As(b,N),onBlur:As(y,j),onMouseEnter:As(p,N),onMouseLeave:As(v,j),onTouchStart:As(x,N)}]:[!1,w,{}]}function As(s,r){return o=>{s&&s(o),o.defaultPrevented||r(o)}}function _0({page:s,...r}){let{router:o}=np(),c=g.useMemo(()=>Xh(o.routes,s,o.basename),[o.routes,s,o.basename]);return c?g.createElement(N0,{page:s,matches:c,...r}):null}function w0(s){let{manifest:r,routeModules:o}=ap(),[c,u]=g.useState([]);return g.useEffect(()=>{let f=!1;return g0(s,r,o).then(h=>{f||u(h)}),()=>{f=!0}},[s,r,o]),c}function N0({page:s,matches:r,...o}){let c=bn(),{manifest:u,routeModules:f}=ap(),{basename:h}=np(),{loaderData:b,matches:y}=j0(),p=g.useMemo(()=>Nh(s,r,y,u,c,"data"),[s,r,y,u,c]),v=g.useMemo(()=>Nh(s,r,y,u,c,"assets"),[s,r,y,u,c]),x=g.useMemo(()=>{if(s===c.pathname+c.search+c.hash)return[];let j=new Set,C=!1;if(r.forEach(T=>{let O=u.routes[T.route.id];!O||!O.hasLoader||(!p.some(D=>D.route.id===T.route.id)&&T.route.id in b&&f[T.route.id]?.shouldRevalidate||O.hasClientLoader?C=!0:j.add(T.route.id))}),j.size===0)return[];let _=m0(s,h,"data");return C&&j.size>0&&_.searchParams.set("_routes",r.filter(T=>j.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[h,b,c,u,p,r,s,f]),w=g.useMemo(()=>x0(v,u),[v,u]),N=w0(v);return g.createElement(g.Fragment,null,x.map(j=>g.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...o})),w.map(j=>g.createElement("link",{key:j,rel:"modulepreload",href:j,...o})),N.map(({key:j,link:C})=>g.createElement("link",{key:j,nonce:o.nonce,...C})))}function C0(...s){return r=>{s.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var lp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lp&&(window.__reactRouterVersion="7.9.5")}catch{}function T0({basename:s,children:r,window:o}){let c=g.useRef();c.current==null&&(c.current=dy({window:o,v5Compat:!0}));let u=c.current,[f,h]=g.useState({action:u.action,location:u.location}),b=g.useCallback(y=>{g.startTransition(()=>h(y))},[h]);return g.useLayoutEffect(()=>u.listen(b),[u,b]),g.createElement(n0,{basename:s,children:r,location:f.location,navigationType:f.action,navigator:u})}var sp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=g.forwardRef(function({onClick:r,discover:o="render",prefetch:c="none",relative:u,reloadDocument:f,replace:h,state:b,target:y,to:p,preventScrollReset:v,viewTransition:x,...w},N){let{basename:j}=g.useContext(yn),C=typeof p=="string"&&sp.test(p),_,T=!1;if(typeof p=="string"&&C&&(_=p,lp))try{let te=new URL(window.location.href),W=p.startsWith("//")?new URL(te.protocol+p):new URL(p),H=Xn(W.pathname,j);W.origin===te.origin&&H!=null?p=H+W.search+W.hash:T=!0}catch{un(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=Uy(p,{relative:u}),[D,z,R]=S0(c,w),q=z0(p,{replace:h,state:b,target:y,preventScrollReset:v,relative:u,viewTransition:x});function B(te){r&&r(te),te.defaultPrevented||q(te)}let X=g.createElement("a",{...w,...R,href:_||O,onClick:T||f?r:B,ref:C0(N,z),target:y,"data-discover":!C&&o==="render"?"true":void 0});return D&&!C?g.createElement(g.Fragment,null,X,g.createElement(_0,{page:O})):X});Ge.displayName="Link";var R0=g.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:c="",end:u=!1,style:f,to:h,viewTransition:b,children:y,...p},v){let x=Bs(h,{relative:p.relative}),w=bn(),N=g.useContext(mr),{navigator:j,basename:C}=g.useContext(yn),_=N!=null&&U0(x)&&b===!0,T=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,O=w.pathname,D=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;o||(O=O.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&C&&(D=Xn(D,C)||D);const z=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let R=O===T||!u&&O.startsWith(T)&&O.charAt(z)==="/",q=D!=null&&(D===T||!u&&D.startsWith(T)&&D.charAt(T.length)==="/"),B={isActive:R,isPending:q,isTransitioning:_},X=R?r:void 0,te;typeof c=="function"?te=c(B):te=[c,R?"active":null,q?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let W=typeof f=="function"?f(B):f;return g.createElement(Ge,{...p,"aria-current":X,className:te,ref:v,style:W,to:h,viewTransition:b},typeof y=="function"?y(B):y)});R0.displayName="NavLink";var E0=g.forwardRef(({discover:s="render",fetcherKey:r,navigate:o,reloadDocument:c,replace:u,state:f,method:h=ir,action:b,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:x,...w},N)=>{let j=O0(),C=M0(b,{relative:p}),_=h.toLowerCase()==="get"?"get":"post",T=typeof b=="string"&&sp.test(b),O=D=>{if(y&&y(D),D.defaultPrevented)return;D.preventDefault();let z=D.nativeEvent.submitter,R=z?.getAttribute("formmethod")||h;j(z||D.currentTarget,{fetcherKey:r,method:R,navigate:o,replace:u,state:f,relative:p,preventScrollReset:v,viewTransition:x})};return g.createElement("form",{ref:N,method:_,action:C,onSubmit:c?y:O,...w,"data-discover":!T&&s==="render"?"true":void 0})});E0.displayName="Form";function A0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ip(s){let r=g.useContext(Dl);return nt(r,A0(s)),r}function z0(s,{target:r,replace:o,state:c,preventScrollReset:u,relative:f,viewTransition:h}={}){let b=Wn(),y=bn(),p=Bs(s,{relative:f});return g.useCallback(v=>{if(o0(v,r)){v.preventDefault();let x=o!==void 0?o:ks(y)===ks(p);b(s,{replace:x,state:c,preventScrollReset:u,relative:f,viewTransition:h})}},[y,b,p,o,c,r,s,u,f,h])}function k0(s){un(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=g.useRef(Zc(s)),o=g.useRef(!1),c=bn(),u=g.useMemo(()=>c0(c.search,o.current?null:r.current),[c.search]),f=Wn(),h=g.useCallback((b,y)=>{const p=Zc(typeof b=="function"?b(new URLSearchParams(u)):b);o.current=!0,f("?"+p,y)},[f,u]);return[u,h]}var D0=0,B0=()=>`__${String(++D0)}__`;function O0(){let{router:s}=ip("useSubmit"),{basename:r}=g.useContext(yn),o=Ky();return g.useCallback(async(c,u={})=>{let{action:f,method:h,encType:b,formData:y,body:p}=f0(c,r);if(u.navigate===!1){let v=u.fetcherKey||B0();await s.fetch(v,o,u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||h,formEncType:u.encType||b,flushSync:u.flushSync})}else await s.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||h,formEncType:u.encType||b,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,r,o])}function M0(s,{relative:r}={}){let{basename:o}=g.useContext(yn),c=g.useContext(fn);nt(c,"useFormAction must be used inside a RouteContext");let[u]=c.matches.slice(-1),f={...Bs(s||".",{relative:r})},h=bn();if(s==null){f.search=h.search;let b=new URLSearchParams(f.search),y=b.getAll("index");if(y.some(v=>v==="")){b.delete("index"),y.filter(x=>x).forEach(x=>b.append("index",x));let v=b.toString();f.search=v?`?${v}`:""}}return(!s||s===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(f.pathname=f.pathname==="/"?o:Pn([o,f.pathname])),ks(f)}function U0(s,{relative:r}={}){let o=g.useContext(Kh);nt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=ip("useViewTransitionState"),u=Bs(s,{relative:r});if(!o.isTransitioning)return!1;let f=Xn(o.currentLocation.pathname,c)||o.currentLocation.pathname,h=Xn(o.nextLocation.pathname,c)||o.nextLocation.pathname;return ur(u.pathname,h)!=null||ur(u.pathname,f)!=null}const Vc="photolytics_auth_token",Gc="photolytics_user_email",Qc="photolytics_user_domain",ar="photolytics_token_timestamp",Ch=24,L0="https://facerecognition.mpanel.app",Jt={getToken(){const s=localStorage.getItem(Vc);return s?this.isTokenExpired()?(this.clearToken(),null):s:null},saveToken(s,r,o=null){localStorage.setItem(Vc,s),localStorage.setItem(Gc,r),localStorage.setItem(ar,Date.now().toString()),o&&localStorage.setItem(Qc,o)},clearToken(){localStorage.removeItem(Vc),localStorage.removeItem(Gc),localStorage.removeItem(Qc),localStorage.removeItem(ar)},isTokenExpired(){const s=localStorage.getItem(ar);if(!s)return!1;const r=Date.now()-parseInt(s,10),o=Ch*60*60*1e3;return r>o},getTokenTimeRemaining(){const s=localStorage.getItem(ar);if(!s)return 0;const r=Date.now()-parseInt(s,10),c=Ch*60*60*1e3-r;return Math.max(0,Math.floor(c/(60*1e3)))},isAuthenticated(){return!!this.getToken()&&!this.isTokenExpired()},getEmail(){return localStorage.getItem(Gc)},getDomain(){return localStorage.getItem(Qc)||"serbia"},async login(s){try{const r=await fetch(`${L0}/api/auth/token-by-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();if(o.success)return Array.isArray(o.data)?{success:!0,multiDomain:!0,domains:o.data}:(this.saveToken(o.data.token,o.data.email),{success:!0,multiDomain:!1,token:o.data.token,email:o.data.email});throw new Error(o.error||"Login failed")}catch(r){throw console.error("Login error:",r),r}},selectDomain(s){return this.saveToken(s.token,s.email,s.domain),{success:!0,token:s.token,email:s.email,domain:s.domain}}},rp=g.createContext(null);function q0({children:s}){const[r,o]=g.useState(null),[c,u]=g.useState(!0);g.useEffect(()=>{const y=Jt.getToken(),p=Jt.getEmail(),v=Jt.getDomain();y&&p&&o({email:p,token:y,domain:v}),u(!1);const x=w=>{w.key==="photolytics_auth_token"&&!w.newValue&&o(null)};return window.addEventListener("storage",x),()=>window.removeEventListener("storage",x)},[]);const f=async y=>{const p=await Jt.login(y);if(!p.multiDomain){const v={email:Jt.getEmail(),token:Jt.getToken(),domain:Jt.getDomain()};return o(v),{success:!0,user:v}}return p},h=y=>{Jt.selectDomain(y),o({email:y.email,token:y.token,domain:y.domain})},b=()=>{Jt.clearToken(),o(null)};return n.jsx(rp.Provider,{value:{user:r,loading:c,isAuthenticated:!!r,login:f,selectDomain:h,logout:b},children:s})}function va(){const s=g.useContext(rp);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const op=g.createContext();function H0({children:s}){const[r,o]=g.useState(()=>{const u=localStorage.getItem("training_ui_theme");return u||"dark"});g.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem("training_ui_theme",r)},[r]);const c=()=>{o(u=>u==="light"?"dark":"light")};return n.jsx(op.Provider,{value:{theme:r,toggleTheme:c},children:s})}function F0(){const s=g.useContext(op);if(!s)throw new Error("useTheme must be used within ThemeProvider");return s}const cp=g.createContext();function V0({children:s}){const[r,o]=g.useState(!1),[c,u]=g.useState(null),[f,h]=g.useState(!1),[b,y]=g.useState(0),p=_=>{u(_),o(!0)},v=()=>{o(!1),u(null)},x=()=>{h(!0),y(0)},w=()=>{y(_=>_+1)},N=()=>{y(_=>Math.max(0,_-1))},j=()=>{h(!1),y(0),localStorage.setItem("tutorial_completed","true")},C=()=>!localStorage.getItem("tutorial_completed");return n.jsx(cp.Provider,{value:{helpModalOpen:r,currentHelpPage:c,tutorialActive:f,tutorialStep:b,openHelp:p,closeHelp:v,startTutorial:x,nextTutorialStep:w,previousTutorialStep:N,endTutorial:j,shouldShowTutorial:C},children:s})}function pr(){const s=g.useContext(cp);if(!s)throw new Error("useHelp must be used within HelpProvider");return s}const G0=["nikola1jankovic@gmail.com"];function Th(s){return s?G0.includes(s.toLowerCase()):!1}function Q0({children:s}){const{isAuthenticated:r,loading:o,user:c}=va();return g.useEffect(()=>{o||r&&Th(c?.email)||(window.location.href="/")},[r,o,c]),o?n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:n.jsx("p",{children:"Loading..."})}):r&&Th(c?.email)?s:null}function Y0(){const{user:s,logout:r}=va(),{theme:o,toggleTheme:c}=F0(),u=Wn(),[f,h]=g.useState(!1),[b,y]=g.useState(!1),p=()=>{r(),u("/login",{replace:!0})};return n.jsxs("div",{className:"app-layout",children:[n.jsxs("nav",{className:"sidebar",children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[n.jsx("img",{src:"/pchela-2.webp",alt:"Pchela",style:{height:"32px",width:"auto"}}),n.jsx("h2",{style:{margin:0},children:"Pchela Photolytics"})]}),n.jsx("p",{className:"user-email",children:s?.email})]}),n.jsxs("ul",{className:"nav-menu",children:[n.jsx("li",{children:n.jsxs(Ge,{to:"/dashboard",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Dashboard"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/gallery",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Image Gallery"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/rejected-faces",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Rejected Faces"]})}),n.jsxs("li",{children:[n.jsxs("div",{className:"nav-link nav-section-toggle",onClick:()=>y(!b),style:{cursor:"pointer"},children:[n.jsx("span",{className:"nav-icon",children:""}),"Video Recognition",n.jsx("span",{style:{marginLeft:"auto",fontSize:"0.8rem"},children:b?"":""})]}),b&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsxs(Ge,{to:"/video-recognition/upload",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Upload Video"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/video-recognition/results",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Recognition Results"]})})]})]}),n.jsx("li",{children:n.jsxs(Ge,{to:"/storage-management",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Storage Management"]})}),n.jsxs("li",{children:[n.jsxs("div",{className:"nav-link nav-section-toggle",onClick:()=>h(!f),style:{cursor:"pointer"},children:[n.jsx("span",{className:"nav-icon",children:""}),"Training",n.jsx("span",{style:{marginLeft:"auto",fontSize:"0.8rem"},children:f?"":""})]}),f&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsxs(Ge,{to:"/training",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Dashboard"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/generate",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Discover People"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/queue",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Training Queue"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/batch",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Batch Training"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/batches",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Active Batches"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/review",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Review & Deploy"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/benchmarks",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Benchmarks"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/merge-candidates",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Merge Candidates"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/manual-merge",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Manual Merge"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/discovery",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Celebrity Discovery"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/history",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"History"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/failed",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Failed Queue"]})})]})]})]}),n.jsxs("div",{className:"sidebar-footer",children:[n.jsxs("a",{href:"/",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Main App"]}),n.jsxs("button",{onClick:p,className:"btn btn-logout",children:[n.jsx("span",{className:"nav-icon",children:""}),"Logout"]})]})]}),n.jsx("main",{className:"main-content",children:n.jsx("div",{className:"main-page-content",children:n.jsx(t0,{})})})]})}const P0={dashboard:{title:"Dashboard",sections:[{heading:"Overview",content:"The Dashboard provides a quick overview of your training system status, including queue statistics, recent activity, and system health."},{heading:"Key Metrics",content:"Monitor total people trained, pending items in queue, active training sessions, and completion rates."},{heading:"Quick Actions",content:"Use the dashboard to quickly navigate to different sections like generating new training names, managing the queue, or monitoring progress."}]},generate:{title:"Generate Names",sections:[{heading:"What is This?",content:"This page allows you to manually add people to the training queue by entering their names."},{heading:"How to Use",content:`Enter a person's name in the input field and click "Add to Queue". The system will process the name and prepare it for training.`},{heading:"Best Practices",content:"Use full names for better results. Check the queue manager to verify entries before processing."}]},queue:{title:"Queue Manager",sections:[{heading:"Managing Your Queue",content:"View all pending training requests in the queue. You can reorder, remove, or modify entries before processing."},{heading:"Queue Actions",content:"Click on any entry to edit details. Use drag-and-drop to reorder priorities. Remove entries that are no longer needed."},{heading:"Processing",content:"When ready, start processing the queue. The system will handle entries in order from top to bottom."}]},progress:{title:"Progress Monitor",sections:[{heading:"Real-Time Monitoring",content:"Track active training sessions in real-time. See download progress, validation status, and completion rates."},{heading:"Status Indicators",content:"Green = Completed, Blue = Processing, Yellow = Pending, Red = Failed. Click on any entry for detailed logs."},{heading:"Troubleshooting",content:"If training fails, check the error message. Common issues include insufficient images or network problems."}]},gallery:{title:"Image Gallery",sections:[{heading:"Browse Training Images",content:"View all images collected during the training process. Filter by person, quality, or validation status."},{heading:"Quality Control",content:"Mark images as approved or rejected. Only high-quality face images should be kept for training."},{heading:"Bulk Actions",content:"Select multiple images to delete, move, or re-validate in batch operations."}]},sync:{title:"Sync Manager",sections:[{heading:"Database Synchronization",content:"Keep your training database in sync with the production environment. Push updates or pull latest changes."},{heading:"Sync Operations",content:"Pull: Get latest data from production. Push: Send your changes to production. Always backup before major operations."},{heading:"Conflict Resolution",content:"If conflicts arise, review changes carefully. The system will show differences and let you choose which version to keep."}]},testing:{title:"Testing",sections:[{heading:"Model Testing",content:"Test the trained face recognition model by uploading sample images. See recognition results and confidence scores."},{heading:"Upload Test Images",content:"Upload clear face photos to test recognition accuracy. The system will identify the person and show confidence level."},{heading:"Interpreting Results",content:"Confidence above 80% is generally reliable. Below 60% may indicate the person is not in the database or image quality is poor."}]},"ab-testing-live":{title:"A/B Testing - Live Comparison",sections:[{heading:"Compare Models",content:"Upload images to compare two different face recognition models (Model A vs Model B) side-by-side."},{heading:"Running Tests",content:'Upload test images, select both models, and click "Run Comparison". Results show which model performs better.'},{heading:"Analyzing Results",content:"Compare accuracy, confidence scores, and processing time. Use these insights to determine which model to deploy."}]},"ab-testing-metrics":{title:"A/B Testing - Metrics Dashboard",sections:[{heading:"Performance Metrics",content:"View comprehensive metrics for your A/B tests including accuracy rates, average confidence, and processing times."},{heading:"Key Metrics",content:"Accuracy Rate: Percentage of correct identifications. Confidence: Average confidence scores. Speed: Processing time per image."},{heading:"Trend Analysis",content:"Charts show performance trends over time. Look for consistent improvements or degradation in model performance."}]},"ab-testing-decision":{title:"A/B Testing - Decision Support",sections:[{heading:"Statistical Analysis",content:"Get data-driven recommendations on which model to deploy based on statistical significance and performance metrics."},{heading:"Decision Criteria",content:"The system evaluates accuracy, confidence, speed, and consistency. Recommendations are based on predefined thresholds."},{heading:"Making Decisions",content:"Review recommendations carefully. Consider business requirements alongside statistical analysis before deploying."}]},"ab-testing-history":{title:"A/B Testing - Test History",sections:[{heading:"Historical Tests",content:"Browse all previous A/B tests with complete results, metrics, and decisions made."},{heading:"Learning from History",content:"Review past tests to understand model evolution. Identify patterns in what works and what doesn't."},{heading:"Reproducing Tests",content:"Click on any historical test to view full details. You can re-run similar tests with updated models."}]},"automated-generate":{title:"Automated Training - Generate Candidates",sections:[{heading:"Wikidata Integration",content:"Automatically find celebrities from Wikipedia/Wikidata based on country and occupation. This is FREE and uses real public data."},{heading:"How It Works",content:'1. Select a country and occupation. 2. Click "Generate from Wikidata". 3. Review the list of candidates. 4. Select people to train. 5. Start training.'},{heading:"New vs Existing",content:'Green "NEW" badge = Not in database yet. Gray "EXISTS" badge = Already in database. New people are auto-selected for training.'},{heading:"Batch Training",content:"Select multiple people and train them in one batch. The system downloads images from Google and validates them automatically."}]},"automated-batch":{title:"Automated Training - Batch Progress",sections:[{heading:"Real-Time Progress",content:"Monitor your batch training in real-time. The page auto-refreshes every 3 seconds to show current status."},{heading:"Status Icons",content:" Pending,  Processing,  Completed,  Failed. Each person has separate download and validation progress bars."},{heading:"Download & Validation",content:"First, images are downloaded from Google using SERP API. Then, DeepFace validates each image for face quality and detection."},{heading:"Canceling Batches",content:'Click "Cancel Batch" to stop processing. Already-completed people will remain in staging.'},{heading:"After Completion",content:"When batch finishes, you're auto-redirected to Review & Deploy page. People with 5 valid photos are ready for production."}]},"automated-review":{title:"Automated Training - Review & Deploy",sections:[{heading:"Staging Area",content:"Review all trained people in the staging area. Only people with 5 valid photos can be deployed to production."},{heading:"Ready vs Not Ready",content:"Green section = Ready for production (5 photos). Yellow section = Not ready (<5 photos, will be auto-deleted)."},{heading:"Deployment",content:`Select people to deploy and click "Deploy to Production". They'll be moved from trainingPassSerbia to recognized_faces_prod.`},{heading:"Photo Requirements",content:"Minimum 5 valid photos required for production. More photos = better recognition accuracy. Low-quality photos are automatically filtered out."},{heading:"Automatic Cleanup",content:"People with <5 photos are automatically deleted from staging. They won't waste storage space."}]},"training-workflow":{title:"Training Workflow",sections:[{heading:"Complete Pipeline",content:"The unified Training Workflow combines three steps into one page: Generate Names  Process Queue  Monitor Progress. This eliminates page navigation and shows the entire pipeline at once."},{heading:"Step 1: Generate Names",content:"AI generates ~50 celebrity names for the selected country. This takes 30-60 seconds. Generated names are automatically added to the processing queue."},{heading:"Step 2: Process Queue",content:'"Process Next" downloads images for one person (5-15s). "Process All" processes the entire queue sequentially. Background validation runs automatically after download.'},{heading:"Step 3: Monitor Progress",content:"Real-time monitoring shows all training folders with image counts and readiness status. Auto-updates every 15 seconds. Minimum 20 images recommended per person, 40+ is optimal."},{heading:"Status Indicators",content:"Empty (0 images), Insufficient (<20), Adequate (20-39), Ready (40+). Ready status means optimal for high-quality training."},{heading:"Workflow Tips",content:"Start by generating names, then process them one-by-one or in batch. Monitor progress in real-time on the right side. The progress monitor automatically refreshes as you process."}]},"queue-management":{title:"Queue Management",sections:[{heading:"What is Queue Management?",content:"View and manage all celebrity names that were generated by AI and are waiting to be processed. This page shows you exactly what's in the queue before images are downloaded."},{heading:"Queue Overview",content:"See total names in queue, how many have been processed, how many remain, and how many different categories (Actor, Musician, etc.) are included. The queue is grouped by occupation/category for easy navigation."},{heading:"Removing Names",content:`Click the "Remove" button next to any name to delete it from the queue. This is useful if you don't want to train on certain celebrities or if duplicates were generated. Removal is immediate and cannot be undone.`},{heading:"Auto-Refresh",content:"The queue automatically refreshes every 30 seconds to show the latest data. You can pause/resume auto-refresh using the toggle button, or manually refresh at any time."},{heading:"Workflow Integration",content:'Names are added to this queue when you use "Generate Names" in Training Workflow. When you click "Process Next" or "Process All" in Training Workflow, names are taken from this queue and images are downloaded.'},{heading:"Categories Display",content:"Queue entries are grouped by their occupation/category (Actor, Musician, Athlete, etc.). Each category section shows how many people are in that category. This helps you see the distribution of your training data."},{heading:"Best Practices",content:"Review the queue before processing to ensure quality. Remove any unwanted names early to save processing time. Check that you have a good mix of categories. Empty queue means you need to generate more names in Training Workflow."}]},"video-recognition":{title:"Video Face Recognition",sections:[{heading:"What is This?",content:"Upload videos to automatically extract frames and recognize faces in each frame. Perfect for analyzing video footage, surveillance videos, or batch processing multiple faces at once."},{heading:"How It Works",content:'1. Upload a video file (MP4, AVI, MOV, MKV, WebM, FLV, or WMV). 2. Configure frame extraction interval (default: 3 seconds). 3. Select recognition domain (Serbia, Croatia, Bosnia). 4. Click "Upload and Process". 5. Wait for processing to complete. 6. View results with statistics and frame-by-frame recognition.'},{heading:"Frame Extraction Interval",content:"The interval determines how often frames are extracted from the video. Lower interval = more frames = longer processing time. Default is 3 seconds (1 frame every 3 seconds). Range: 0.1 to 60 seconds."},{heading:"Processing Time",content:"Processing is done asynchronously in the background. A 30-second video with 3-second interval extracts ~10 frames. Processing typically takes 1-3 minutes depending on video length and frame count."},{heading:"Results Overview",content:"After processing, you'll see: 1. Recognition Statistics (total frames, recognized frames, recognition rate, unique persons). 2. System Performance (processing time, FPS, CPU usage, memory usage). 3. Frame-by-Frame Results (timestamp, person identified, confidence level)."},{heading:"Recognition Rate",content:"Recognition Rate = (Recognized Frames / Total Frames)  100%. Green (70%) = Excellent, Yellow (40-69%) = Moderate, Red (<40%) = Poor. Low rates may indicate poor video quality or unknown persons."},{heading:"File Requirements",content:"Maximum file size: 100 MB. Supported formats: MP4, AVI, MOV, MKV, WebM, FLV, WMV. Videos must contain visible faces for recognition to work."},{heading:"Best Practices",content:"Use high-quality videos with clear face visibility. Set appropriate interval (shorter for fast-moving videos). Choose the correct recognition domain for your use case. Review frame-by-frame results to identify any issues."}]}};function X0(){const{helpModalOpen:s,currentHelpPage:r,closeHelp:o}=pr();if(!s||!r)return null;const c=P0[r];return c?n.jsx("div",{className:"help-modal-overlay",onClick:o,children:n.jsxs("div",{className:"help-modal",onClick:u=>u.stopPropagation(),children:[n.jsxs("div",{className:"help-modal-header",children:[n.jsxs("h2",{children:[c.title," - Help"]}),n.jsx("button",{className:"help-modal-close",onClick:o,children:""})]}),n.jsx("div",{className:"help-modal-content",children:c.sections.map((u,f)=>n.jsxs("div",{className:"help-section",children:[n.jsx("h3",{children:u.heading}),n.jsx("p",{children:u.content})]},f))}),n.jsx("div",{className:"help-modal-footer",children:n.jsx("button",{className:"btn btn-primary",onClick:o,children:"Got it!"})})]})}):null}const lr=[{title:"Welcome to Training UI!",content:"This interactive tutorial will guide you through the main features of the application. You can skip this tutorial at any time.",image:"",route:"/dashboard"},{title:"Dashboard Overview",content:"The Dashboard shows your training system status, including queue statistics and recent activity. It's your home base for monitoring everything.",image:"",route:"/dashboard",target:'a[href="/dashboard"]',arrowPosition:"right"},{title:"Sidebar Navigation",content:"Use the sidebar to navigate between different sections. The main training pages are at the top.",image:"",route:"/dashboard",target:".sidebar",arrowPosition:"right"},{title:"Training Workflow",content:'Add people to train manually via "Generate Names" or use AI-powered Automated Training to find celebrities from Wikipedia/Wikidata automatically. The workflow is semi-automated and uses AI to increase speed!',image:"",route:"/dashboard",target:'a[href="/generate"]',arrowPosition:"right"},{title:"A/B Testing",content:"Compare different face recognition models side-by-side. Find it in the A/B Testing section of the sidebar.",image:"",route:"/dashboard",target:".nav-section-toggle",arrowPosition:"right"},{title:"Video Recognition (NEW!)",content:"Upload videos to automatically extract frames and recognize faces in each frame. Perfect for analyzing video footage!",image:"",route:"/dashboard",target:'a[href="/video-recognition"]',arrowPosition:"right"},{title:"Getting Help",content:"See the blue ? button? Click it on any page to get detailed help. Hover over UI elements for quick tips.",image:"",route:"/dashboard",target:".help-button",arrowPosition:"left"},{title:"Ready to Start!",content:"You're all set! Explore the application at your own pace. Remember, you can always click the ? button for help on any page.",image:"",route:"/dashboard"}];function W0(){const s=Wn(),r=bn(),{tutorialActive:o,tutorialStep:c,nextTutorialStep:u,previousTutorialStep:f,endTutorial:h}=pr(),[b,y]=g.useState(null),[p,v]=g.useState(null),x=lr[c],w=c===lr.length-1,N=c===0,j=g.useCallback(()=>{if(!x?.target){y(null),v(null);return}setTimeout(()=>{let _=document.querySelector(x.target);if(!_&&x.fallbackTarget&&(_=document.querySelector(x.fallbackTarget)),_){const T=_.getBoundingClientRect();y(_),v({top:T.top,left:T.left,width:T.width,height:T.height})}else y(null),v(null)},300)},[x]);if(g.useEffect(()=>{x?.route&&o&&r.pathname!==x.route&&s(x.route)},[c,x,o,s,r.pathname]),g.useEffect(()=>{if(o)return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[o,c,j]),!o)return null;const C=()=>{if(!p)return{};const _=600,T=window.innerHeight,O=window.innerWidth;let D="50%",z="50%",R="translate(-50%, -50%)";return p&&(p.left<O/2?(z="auto",R="translateY(-50%)",O-(p.left+p.width+40)>_?z=`${p.left+p.width+40}px`:(z="60%",R="translate(-50%, -50%)")):p.top<T/3?(D="auto",bottom="5%",R="translateX(-50%)"):p.top>T*2/3&&(D="20%",R="translate(-50%, 0)")),{top:D,left:z,transform:R,bottom:void 0}};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"tutorial-spotlight-overlay",children:[p&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"tutorial-spotlight-highlight",style:{top:`${p.top-8}px`,left:`${p.left-8}px`,width:`${p.width+16}px`,height:`${p.height+16}px`}}),x.arrowPosition&&n.jsxs("div",{className:`tutorial-arrow tutorial-arrow-${x.arrowPosition}`,style:{top:`${x.arrowPosition==="top"?p.top-40:x.arrowPosition==="bottom"?p.top+p.height+20:p.top+p.height/2-20}px`,left:`${x.arrowPosition==="left"?p.left-60:x.arrowPosition==="right"?p.left+p.width+20:p.left+p.width/2-20}px`},children:[x.arrowPosition==="left"&&"",x.arrowPosition==="right"&&"",x.arrowPosition==="top"&&"",x.arrowPosition==="bottom"&&""]})]}),n.jsxs("div",{className:"tutorial-modal",style:C(),children:[n.jsxs("div",{className:"tutorial-progress",children:[n.jsx("div",{className:"tutorial-progress-bar",children:n.jsx("div",{className:"tutorial-progress-fill",style:{width:`${(c+1)/lr.length*100}%`}})}),n.jsxs("span",{className:"tutorial-progress-text",children:["Step ",c+1," of ",lr.length]})]}),n.jsxs("div",{className:"tutorial-content",children:[n.jsx("div",{className:"tutorial-image",children:x.image}),n.jsx("h2",{className:"tutorial-title",children:x.title}),n.jsx("p",{className:"tutorial-text",children:x.content})]}),n.jsxs("div",{className:"tutorial-actions",children:[n.jsx("button",{className:"tutorial-btn tutorial-btn-skip",onClick:h,children:"Skip Tutorial"}),n.jsxs("div",{className:"tutorial-nav",children:[!N&&n.jsx("button",{className:"tutorial-btn tutorial-btn-secondary",onClick:f,children:"Previous"}),w?n.jsx("button",{className:"tutorial-btn tutorial-btn-primary",onClick:h,children:"Get Started!"}):n.jsx("button",{className:"tutorial-btn tutorial-btn-primary",onClick:u,children:"Next"})]})]})]})]})})}function $0(){const{isAuthenticated:s}=va(),{shouldShowTutorial:r,startTutorial:o,tutorialActive:c}=pr(),u=bn();return g.useEffect(()=>{if(s&&u.pathname==="/dashboard"&&r()&&!c){const f=setTimeout(()=>{o()},500);return()=>clearTimeout(f)}},[s,u.pathname,r,o,c]),null}function dp(s,r){return function(){return s.apply(r,arguments)}}const{toString:Z0}=Object.prototype,{getPrototypeOf:dd}=Object,{iterator:gr,toStringTag:up}=Symbol,xr=(s=>r=>{const o=Z0.call(r);return s[o]||(s[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),vn=s=>(s=s.toLowerCase(),r=>xr(r)===s),yr=s=>r=>typeof r===s,{isArray:Ol}=Array,zl=yr("undefined");function Os(s){return s!==null&&!zl(s)&&s.constructor!==null&&!zl(s.constructor)&&Ft(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const fp=vn("ArrayBuffer");function K0(s){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(s):r=s&&s.buffer&&fp(s.buffer),r}const J0=yr("string"),Ft=yr("function"),mp=yr("number"),Ms=s=>s!==null&&typeof s=="object",I0=s=>s===!0||s===!1,or=s=>{if(xr(s)!=="object")return!1;const r=dd(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(up in s)&&!(gr in s)},eb=s=>{if(!Ms(s)||Os(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},tb=vn("Date"),nb=vn("File"),ab=vn("Blob"),lb=vn("FileList"),sb=s=>Ms(s)&&Ft(s.pipe),ib=s=>{let r;return s&&(typeof FormData=="function"&&s instanceof FormData||Ft(s.append)&&((r=xr(s))==="formdata"||r==="object"&&Ft(s.toString)&&s.toString()==="[object FormData]"))},rb=vn("URLSearchParams"),[ob,cb,db,ub]=["ReadableStream","Request","Response","Headers"].map(vn),fb=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Us(s,r,{allOwnKeys:o=!1}={}){if(s===null||typeof s>"u")return;let c,u;if(typeof s!="object"&&(s=[s]),Ol(s))for(c=0,u=s.length;c<u;c++)r.call(null,s[c],c,s);else{if(Os(s))return;const f=o?Object.getOwnPropertyNames(s):Object.keys(s),h=f.length;let b;for(c=0;c<h;c++)b=f[c],r.call(null,s[b],b,s)}}function hp(s,r){if(Os(s))return null;r=r.toLowerCase();const o=Object.keys(s);let c=o.length,u;for(;c-- >0;)if(u=o[c],r===u.toLowerCase())return u;return null}const Fa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pp=s=>!zl(s)&&s!==Fa;function Kc(){const{caseless:s,skipUndefined:r}=pp(this)&&this||{},o={},c=(u,f)=>{const h=s&&hp(o,f)||f;or(o[h])&&or(u)?o[h]=Kc(o[h],u):or(u)?o[h]=Kc({},u):Ol(u)?o[h]=u.slice():(!r||!zl(u))&&(o[h]=u)};for(let u=0,f=arguments.length;u<f;u++)arguments[u]&&Us(arguments[u],c);return o}const mb=(s,r,o,{allOwnKeys:c}={})=>(Us(r,(u,f)=>{o&&Ft(u)?s[f]=dp(u,o):s[f]=u},{allOwnKeys:c}),s),hb=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),pb=(s,r,o,c)=>{s.prototype=Object.create(r.prototype,c),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:r.prototype}),o&&Object.assign(s.prototype,o)},gb=(s,r,o,c)=>{let u,f,h;const b={};if(r=r||{},s==null)return r;do{for(u=Object.getOwnPropertyNames(s),f=u.length;f-- >0;)h=u[f],(!c||c(h,s,r))&&!b[h]&&(r[h]=s[h],b[h]=!0);s=o!==!1&&dd(s)}while(s&&(!o||o(s,r))&&s!==Object.prototype);return r},xb=(s,r,o)=>{s=String(s),(o===void 0||o>s.length)&&(o=s.length),o-=r.length;const c=s.indexOf(r,o);return c!==-1&&c===o},yb=s=>{if(!s)return null;if(Ol(s))return s;let r=s.length;if(!mp(r))return null;const o=new Array(r);for(;r-- >0;)o[r]=s[r];return o},bb=(s=>r=>s&&r instanceof s)(typeof Uint8Array<"u"&&dd(Uint8Array)),vb=(s,r)=>{const c=(s&&s[gr]).call(s);let u;for(;(u=c.next())&&!u.done;){const f=u.value;r.call(s,f[0],f[1])}},jb=(s,r)=>{let o;const c=[];for(;(o=s.exec(r))!==null;)c.push(o);return c},Sb=vn("HTMLFormElement"),_b=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,c,u){return c.toUpperCase()+u}),Rh=(({hasOwnProperty:s})=>(r,o)=>s.call(r,o))(Object.prototype),wb=vn("RegExp"),gp=(s,r)=>{const o=Object.getOwnPropertyDescriptors(s),c={};Us(o,(u,f)=>{let h;(h=r(u,f,s))!==!1&&(c[f]=h||u)}),Object.defineProperties(s,c)},Nb=s=>{gp(s,(r,o)=>{if(Ft(s)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const c=s[o];if(Ft(c)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Cb=(s,r)=>{const o={},c=u=>{u.forEach(f=>{o[f]=!0})};return Ol(s)?c(s):c(String(s).split(r)),o},Tb=()=>{},Rb=(s,r)=>s!=null&&Number.isFinite(s=+s)?s:r;function Eb(s){return!!(s&&Ft(s.append)&&s[up]==="FormData"&&s[gr])}const Ab=s=>{const r=new Array(10),o=(c,u)=>{if(Ms(c)){if(r.indexOf(c)>=0)return;if(Os(c))return c;if(!("toJSON"in c)){r[u]=c;const f=Ol(c)?[]:{};return Us(c,(h,b)=>{const y=o(h,u+1);!zl(y)&&(f[b]=y)}),r[u]=void 0,f}}return c};return o(s,0)},zb=vn("AsyncFunction"),kb=s=>s&&(Ms(s)||Ft(s))&&Ft(s.then)&&Ft(s.catch),xp=((s,r)=>s?setImmediate:r?((o,c)=>(Fa.addEventListener("message",({source:u,data:f})=>{u===Fa&&f===o&&c.length&&c.shift()()},!1),u=>{c.push(u),Fa.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Ft(Fa.postMessage)),Db=typeof queueMicrotask<"u"?queueMicrotask.bind(Fa):typeof process<"u"&&process.nextTick||xp,Bb=s=>s!=null&&Ft(s[gr]),Y={isArray:Ol,isArrayBuffer:fp,isBuffer:Os,isFormData:ib,isArrayBufferView:K0,isString:J0,isNumber:mp,isBoolean:I0,isObject:Ms,isPlainObject:or,isEmptyObject:eb,isReadableStream:ob,isRequest:cb,isResponse:db,isHeaders:ub,isUndefined:zl,isDate:tb,isFile:nb,isBlob:ab,isRegExp:wb,isFunction:Ft,isStream:sb,isURLSearchParams:rb,isTypedArray:bb,isFileList:lb,forEach:Us,merge:Kc,extend:mb,trim:fb,stripBOM:hb,inherits:pb,toFlatObject:gb,kindOf:xr,kindOfTest:vn,endsWith:xb,toArray:yb,forEachEntry:vb,matchAll:jb,isHTMLForm:Sb,hasOwnProperty:Rh,hasOwnProp:Rh,reduceDescriptors:gp,freezeMethods:Nb,toObjectSet:Cb,toCamelCase:_b,noop:Tb,toFiniteNumber:Rb,findKey:hp,global:Fa,isContextDefined:pp,isSpecCompliantForm:Eb,toJSONObject:Ab,isAsyncFn:zb,isThenable:kb,setImmediate:xp,asap:Db,isIterable:Bb};function Ce(s,r,o,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",r&&(this.code=r),o&&(this.config=o),c&&(this.request=c),u&&(this.response=u,this.status=u.status?u.status:null)}Y.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const yp=Ce.prototype,bp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{bp[s]={value:s}});Object.defineProperties(Ce,bp);Object.defineProperty(yp,"isAxiosError",{value:!0});Ce.from=(s,r,o,c,u,f)=>{const h=Object.create(yp);Y.toFlatObject(s,h,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const b=s&&s.message?s.message:"Error",y=r==null&&s?s.code:r;return Ce.call(h,b,y,o,c,u),s&&h.cause==null&&Object.defineProperty(h,"cause",{value:s,configurable:!0}),h.name=s&&s.name||"Error",f&&Object.assign(h,f),h};const Ob=null;function Jc(s){return Y.isPlainObject(s)||Y.isArray(s)}function vp(s){return Y.endsWith(s,"[]")?s.slice(0,-2):s}function Eh(s,r,o){return s?s.concat(r).map(function(u,f){return u=vp(u),!o&&f?"["+u+"]":u}).join(o?".":""):r}function Mb(s){return Y.isArray(s)&&!s.some(Jc)}const Ub=Y.toFlatObject(Y,{},null,function(r){return/^is[A-Z]/.test(r)});function br(s,r,o){if(!Y.isObject(s))throw new TypeError("target must be an object");r=r||new FormData,o=Y.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,_){return!Y.isUndefined(_[C])});const c=o.metaTokens,u=o.visitor||v,f=o.dots,h=o.indexes,y=(o.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(r);if(!Y.isFunction(u))throw new TypeError("visitor must be a function");function p(j){if(j===null)return"";if(Y.isDate(j))return j.toISOString();if(Y.isBoolean(j))return j.toString();if(!y&&Y.isBlob(j))throw new Ce("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(j)||Y.isTypedArray(j)?y&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function v(j,C,_){let T=j;if(j&&!_&&typeof j=="object"){if(Y.endsWith(C,"{}"))C=c?C:C.slice(0,-2),j=JSON.stringify(j);else if(Y.isArray(j)&&Mb(j)||(Y.isFileList(j)||Y.endsWith(C,"[]"))&&(T=Y.toArray(j)))return C=vp(C),T.forEach(function(D,z){!(Y.isUndefined(D)||D===null)&&r.append(h===!0?Eh([C],z,f):h===null?C:C+"[]",p(D))}),!1}return Jc(j)?!0:(r.append(Eh(_,C,f),p(j)),!1)}const x=[],w=Object.assign(Ub,{defaultVisitor:v,convertValue:p,isVisitable:Jc});function N(j,C){if(!Y.isUndefined(j)){if(x.indexOf(j)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(j),Y.forEach(j,function(T,O){(!(Y.isUndefined(T)||T===null)&&u.call(r,T,Y.isString(O)?O.trim():O,C,w))===!0&&N(T,C?C.concat(O):[O])}),x.pop()}}if(!Y.isObject(s))throw new TypeError("data must be an object");return N(s),r}function Ah(s){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(c){return r[c]})}function ud(s,r){this._pairs=[],s&&br(s,this,r)}const jp=ud.prototype;jp.append=function(r,o){this._pairs.push([r,o])};jp.toString=function(r){const o=r?function(c){return r.call(this,c,Ah)}:Ah;return this._pairs.map(function(u){return o(u[0])+"="+o(u[1])},"").join("&")};function Lb(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sp(s,r,o){if(!r)return s;const c=o&&o.encode||Lb;Y.isFunction(o)&&(o={serialize:o});const u=o&&o.serialize;let f;if(u?f=u(r,o):f=Y.isURLSearchParams(r)?r.toString():new ud(r,o).toString(c),f){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+f}return s}class zh{constructor(){this.handlers=[]}use(r,o,c){return this.handlers.push({fulfilled:r,rejected:o,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Y.forEach(this.handlers,function(c){c!==null&&r(c)})}}const _p={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qb=typeof URLSearchParams<"u"?URLSearchParams:ud,Hb=typeof FormData<"u"?FormData:null,Fb=typeof Blob<"u"?Blob:null,Vb={isBrowser:!0,classes:{URLSearchParams:qb,FormData:Hb,Blob:Fb},protocols:["http","https","file","blob","url","data"]},fd=typeof window<"u"&&typeof document<"u",Ic=typeof navigator=="object"&&navigator||void 0,Gb=fd&&(!Ic||["ReactNative","NativeScript","NS"].indexOf(Ic.product)<0),Qb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yb=fd&&window.location.href||"http://localhost",Pb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fd,hasStandardBrowserEnv:Gb,hasStandardBrowserWebWorkerEnv:Qb,navigator:Ic,origin:Yb},Symbol.toStringTag,{value:"Module"})),Rt={...Pb,...Vb};function Xb(s,r){return br(s,new Rt.classes.URLSearchParams,{visitor:function(o,c,u,f){return Rt.isNode&&Y.isBuffer(o)?(this.append(c,o.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...r})}function Wb(s){return Y.matchAll(/\w+|\[(\w*)]/g,s).map(r=>r[0]==="[]"?"":r[1]||r[0])}function $b(s){const r={},o=Object.keys(s);let c;const u=o.length;let f;for(c=0;c<u;c++)f=o[c],r[f]=s[f];return r}function wp(s){function r(o,c,u,f){let h=o[f++];if(h==="__proto__")return!0;const b=Number.isFinite(+h),y=f>=o.length;return h=!h&&Y.isArray(u)?u.length:h,y?(Y.hasOwnProp(u,h)?u[h]=[u[h],c]:u[h]=c,!b):((!u[h]||!Y.isObject(u[h]))&&(u[h]=[]),r(o,c,u[h],f)&&Y.isArray(u[h])&&(u[h]=$b(u[h])),!b)}if(Y.isFormData(s)&&Y.isFunction(s.entries)){const o={};return Y.forEachEntry(s,(c,u)=>{r(Wb(c),u,o,0)}),o}return null}function Zb(s,r,o){if(Y.isString(s))try{return(r||JSON.parse)(s),Y.trim(s)}catch(c){if(c.name!=="SyntaxError")throw c}return(o||JSON.stringify)(s)}const Ls={transitional:_p,adapter:["xhr","http","fetch"],transformRequest:[function(r,o){const c=o.getContentType()||"",u=c.indexOf("application/json")>-1,f=Y.isObject(r);if(f&&Y.isHTMLForm(r)&&(r=new FormData(r)),Y.isFormData(r))return u?JSON.stringify(wp(r)):r;if(Y.isArrayBuffer(r)||Y.isBuffer(r)||Y.isStream(r)||Y.isFile(r)||Y.isBlob(r)||Y.isReadableStream(r))return r;if(Y.isArrayBufferView(r))return r.buffer;if(Y.isURLSearchParams(r))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let b;if(f){if(c.indexOf("application/x-www-form-urlencoded")>-1)return Xb(r,this.formSerializer).toString();if((b=Y.isFileList(r))||c.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return br(b?{"files[]":r}:r,y&&new y,this.formSerializer)}}return f||u?(o.setContentType("application/json",!1),Zb(r)):r}],transformResponse:[function(r){const o=this.transitional||Ls.transitional,c=o&&o.forcedJSONParsing,u=this.responseType==="json";if(Y.isResponse(r)||Y.isReadableStream(r))return r;if(r&&Y.isString(r)&&(c&&!this.responseType||u)){const h=!(o&&o.silentJSONParsing)&&u;try{return JSON.parse(r,this.parseReviver)}catch(b){if(h)throw b.name==="SyntaxError"?Ce.from(b,Ce.ERR_BAD_RESPONSE,this,null,this.response):b}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],s=>{Ls.headers[s]={}});const Kb=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jb=s=>{const r={};let o,c,u;return s&&s.split(`
`).forEach(function(h){u=h.indexOf(":"),o=h.substring(0,u).trim().toLowerCase(),c=h.substring(u+1).trim(),!(!o||r[o]&&Kb[o])&&(o==="set-cookie"?r[o]?r[o].push(c):r[o]=[c]:r[o]=r[o]?r[o]+", "+c:c)}),r},kh=Symbol("internals");function zs(s){return s&&String(s).trim().toLowerCase()}function cr(s){return s===!1||s==null?s:Y.isArray(s)?s.map(cr):String(s)}function Ib(s){const r=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=o.exec(s);)r[c[1]]=c[2];return r}const ev=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Yc(s,r,o,c,u){if(Y.isFunction(c))return c.call(this,r,o);if(u&&(r=o),!!Y.isString(r)){if(Y.isString(c))return r.indexOf(c)!==-1;if(Y.isRegExp(c))return c.test(r)}}function tv(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,o,c)=>o.toUpperCase()+c)}function nv(s,r){const o=Y.toCamelCase(" "+r);["get","set","has"].forEach(c=>{Object.defineProperty(s,c+o,{value:function(u,f,h){return this[c].call(this,r,u,f,h)},configurable:!0})})}let Vt=class{constructor(r){r&&this.set(r)}set(r,o,c){const u=this;function f(b,y,p){const v=zs(y);if(!v)throw new Error("header name must be a non-empty string");const x=Y.findKey(u,v);(!x||u[x]===void 0||p===!0||p===void 0&&u[x]!==!1)&&(u[x||y]=cr(b))}const h=(b,y)=>Y.forEach(b,(p,v)=>f(p,v,y));if(Y.isPlainObject(r)||r instanceof this.constructor)h(r,o);else if(Y.isString(r)&&(r=r.trim())&&!ev(r))h(Jb(r),o);else if(Y.isObject(r)&&Y.isIterable(r)){let b={},y,p;for(const v of r){if(!Y.isArray(v))throw TypeError("Object iterator must return a key-value pair");b[p=v[0]]=(y=b[p])?Y.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}h(b,o)}else r!=null&&f(o,r,c);return this}get(r,o){if(r=zs(r),r){const c=Y.findKey(this,r);if(c){const u=this[c];if(!o)return u;if(o===!0)return Ib(u);if(Y.isFunction(o))return o.call(this,u,c);if(Y.isRegExp(o))return o.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,o){if(r=zs(r),r){const c=Y.findKey(this,r);return!!(c&&this[c]!==void 0&&(!o||Yc(this,this[c],c,o)))}return!1}delete(r,o){const c=this;let u=!1;function f(h){if(h=zs(h),h){const b=Y.findKey(c,h);b&&(!o||Yc(c,c[b],b,o))&&(delete c[b],u=!0)}}return Y.isArray(r)?r.forEach(f):f(r),u}clear(r){const o=Object.keys(this);let c=o.length,u=!1;for(;c--;){const f=o[c];(!r||Yc(this,this[f],f,r,!0))&&(delete this[f],u=!0)}return u}normalize(r){const o=this,c={};return Y.forEach(this,(u,f)=>{const h=Y.findKey(c,f);if(h){o[h]=cr(u),delete o[f];return}const b=r?tv(f):String(f).trim();b!==f&&delete o[f],o[b]=cr(u),c[b]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const o=Object.create(null);return Y.forEach(this,(c,u)=>{c!=null&&c!==!1&&(o[u]=r&&Y.isArray(c)?c.join(", "):c)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,o])=>r+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...o){const c=new this(r);return o.forEach(u=>c.set(u)),c}static accessor(r){const c=(this[kh]=this[kh]={accessors:{}}).accessors,u=this.prototype;function f(h){const b=zs(h);c[b]||(nv(u,h),c[b]=!0)}return Y.isArray(r)?r.forEach(f):f(r),this}};Vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(Vt.prototype,({value:s},r)=>{let o=r[0].toUpperCase()+r.slice(1);return{get:()=>s,set(c){this[o]=c}}});Y.freezeMethods(Vt);function Pc(s,r){const o=this||Ls,c=r||o,u=Vt.from(c.headers);let f=c.data;return Y.forEach(s,function(b){f=b.call(o,f,u.normalize(),r?r.status:void 0)}),u.normalize(),f}function Np(s){return!!(s&&s.__CANCEL__)}function Ml(s,r,o){Ce.call(this,s??"canceled",Ce.ERR_CANCELED,r,o),this.name="CanceledError"}Y.inherits(Ml,Ce,{__CANCEL__:!0});function Cp(s,r,o){const c=o.config.validateStatus;!o.status||!c||c(o.status)?s(o):r(new Ce("Request failed with status code "+o.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function av(s){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return r&&r[1]||""}function lv(s,r){s=s||10;const o=new Array(s),c=new Array(s);let u=0,f=0,h;return r=r!==void 0?r:1e3,function(y){const p=Date.now(),v=c[f];h||(h=p),o[u]=y,c[u]=p;let x=f,w=0;for(;x!==u;)w+=o[x++],x=x%s;if(u=(u+1)%s,u===f&&(f=(f+1)%s),p-h<r)return;const N=v&&p-v;return N?Math.round(w*1e3/N):void 0}}function sv(s,r){let o=0,c=1e3/r,u,f;const h=(p,v=Date.now())=>{o=v,u=null,f&&(clearTimeout(f),f=null),s(...p)};return[(...p)=>{const v=Date.now(),x=v-o;x>=c?h(p,v):(u=p,f||(f=setTimeout(()=>{f=null,h(u)},c-x)))},()=>u&&h(u)]}const fr=(s,r,o=3)=>{let c=0;const u=lv(50,250);return sv(f=>{const h=f.loaded,b=f.lengthComputable?f.total:void 0,y=h-c,p=u(y),v=h<=b;c=h;const x={loaded:h,total:b,progress:b?h/b:void 0,bytes:y,rate:p||void 0,estimated:p&&b&&v?(b-h)/p:void 0,event:f,lengthComputable:b!=null,[r?"download":"upload"]:!0};s(x)},o)},Dh=(s,r)=>{const o=s!=null;return[c=>r[0]({lengthComputable:o,total:s,loaded:c}),r[1]]},Bh=s=>(...r)=>Y.asap(()=>s(...r)),iv=Rt.hasStandardBrowserEnv?((s,r)=>o=>(o=new URL(o,Rt.origin),s.protocol===o.protocol&&s.host===o.host&&(r||s.port===o.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,rv=Rt.hasStandardBrowserEnv?{write(s,r,o,c,u,f,h){if(typeof document>"u")return;const b=[`${s}=${encodeURIComponent(r)}`];Y.isNumber(o)&&b.push(`expires=${new Date(o).toUTCString()}`),Y.isString(c)&&b.push(`path=${c}`),Y.isString(u)&&b.push(`domain=${u}`),f===!0&&b.push("secure"),Y.isString(h)&&b.push(`SameSite=${h}`),document.cookie=b.join("; ")},read(s){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ov(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function cv(s,r){return r?s.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):s}function Tp(s,r,o){let c=!ov(r);return s&&(c||o==!1)?cv(s,r):r}const Oh=s=>s instanceof Vt?{...s}:s;function Ga(s,r){r=r||{};const o={};function c(p,v,x,w){return Y.isPlainObject(p)&&Y.isPlainObject(v)?Y.merge.call({caseless:w},p,v):Y.isPlainObject(v)?Y.merge({},v):Y.isArray(v)?v.slice():v}function u(p,v,x,w){if(Y.isUndefined(v)){if(!Y.isUndefined(p))return c(void 0,p,x,w)}else return c(p,v,x,w)}function f(p,v){if(!Y.isUndefined(v))return c(void 0,v)}function h(p,v){if(Y.isUndefined(v)){if(!Y.isUndefined(p))return c(void 0,p)}else return c(void 0,v)}function b(p,v,x){if(x in r)return c(p,v);if(x in s)return c(void 0,p)}const y={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:b,headers:(p,v,x)=>u(Oh(p),Oh(v),x,!0)};return Y.forEach(Object.keys({...s,...r}),function(v){const x=y[v]||u,w=x(s[v],r[v],v);Y.isUndefined(w)&&x!==b||(o[v]=w)}),o}const Rp=s=>{const r=Ga({},s);let{data:o,withXSRFToken:c,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:b}=r;if(r.headers=h=Vt.from(h),r.url=Sp(Tp(r.baseURL,r.url,r.allowAbsoluteUrls),s.params,s.paramsSerializer),b&&h.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):""))),Y.isFormData(o)){if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(Y.isFunction(o.getHeaders)){const y=o.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,x])=>{p.includes(v.toLowerCase())&&h.set(v,x)})}}if(Rt.hasStandardBrowserEnv&&(c&&Y.isFunction(c)&&(c=c(r)),c||c!==!1&&iv(r.url))){const y=u&&f&&rv.read(f);y&&h.set(u,y)}return r},dv=typeof XMLHttpRequest<"u",uv=dv&&function(s){return new Promise(function(o,c){const u=Rp(s);let f=u.data;const h=Vt.from(u.headers).normalize();let{responseType:b,onUploadProgress:y,onDownloadProgress:p}=u,v,x,w,N,j;function C(){N&&N(),j&&j(),u.cancelToken&&u.cancelToken.unsubscribe(v),u.signal&&u.signal.removeEventListener("abort",v)}let _=new XMLHttpRequest;_.open(u.method.toUpperCase(),u.url,!0),_.timeout=u.timeout;function T(){if(!_)return;const D=Vt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),R={data:!b||b==="text"||b==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:D,config:s,request:_};Cp(function(B){o(B),C()},function(B){c(B),C()},R),_=null}"onloadend"in _?_.onloadend=T:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(T)},_.onabort=function(){_&&(c(new Ce("Request aborted",Ce.ECONNABORTED,s,_)),_=null)},_.onerror=function(z){const R=z&&z.message?z.message:"Network Error",q=new Ce(R,Ce.ERR_NETWORK,s,_);q.event=z||null,c(q),_=null},_.ontimeout=function(){let z=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const R=u.transitional||_p;u.timeoutErrorMessage&&(z=u.timeoutErrorMessage),c(new Ce(z,R.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,s,_)),_=null},f===void 0&&h.setContentType(null),"setRequestHeader"in _&&Y.forEach(h.toJSON(),function(z,R){_.setRequestHeader(R,z)}),Y.isUndefined(u.withCredentials)||(_.withCredentials=!!u.withCredentials),b&&b!=="json"&&(_.responseType=u.responseType),p&&([w,j]=fr(p,!0),_.addEventListener("progress",w)),y&&_.upload&&([x,N]=fr(y),_.upload.addEventListener("progress",x),_.upload.addEventListener("loadend",N)),(u.cancelToken||u.signal)&&(v=D=>{_&&(c(!D||D.type?new Ml(null,s,_):D),_.abort(),_=null)},u.cancelToken&&u.cancelToken.subscribe(v),u.signal&&(u.signal.aborted?v():u.signal.addEventListener("abort",v)));const O=av(u.url);if(O&&Rt.protocols.indexOf(O)===-1){c(new Ce("Unsupported protocol "+O+":",Ce.ERR_BAD_REQUEST,s));return}_.send(f||null)})},fv=(s,r)=>{const{length:o}=s=s?s.filter(Boolean):[];if(r||o){let c=new AbortController,u;const f=function(p){if(!u){u=!0,b();const v=p instanceof Error?p:this.reason;c.abort(v instanceof Ce?v:new Ml(v instanceof Error?v.message:v))}};let h=r&&setTimeout(()=>{h=null,f(new Ce(`timeout ${r} of ms exceeded`,Ce.ETIMEDOUT))},r);const b=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(p=>{p.unsubscribe?p.unsubscribe(f):p.removeEventListener("abort",f)}),s=null)};s.forEach(p=>p.addEventListener("abort",f));const{signal:y}=c;return y.unsubscribe=()=>Y.asap(b),y}},mv=function*(s,r){let o=s.byteLength;if(o<r){yield s;return}let c=0,u;for(;c<o;)u=c+r,yield s.slice(c,u),c=u},hv=async function*(s,r){for await(const o of pv(s))yield*mv(o,r)},pv=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const r=s.getReader();try{for(;;){const{done:o,value:c}=await r.read();if(o)break;yield c}}finally{await r.cancel()}},Mh=(s,r,o,c)=>{const u=hv(s,r);let f=0,h,b=y=>{h||(h=!0,c&&c(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await u.next();if(p){b(),y.close();return}let x=v.byteLength;if(o){let w=f+=x;o(w)}y.enqueue(new Uint8Array(v))}catch(p){throw b(p),p}},cancel(y){return b(y),u.return()}},{highWaterMark:2})},Uh=64*1024,{isFunction:sr}=Y,gv=(({Request:s,Response:r})=>({Request:s,Response:r}))(Y.global),{ReadableStream:Lh,TextEncoder:qh}=Y.global,Hh=(s,...r)=>{try{return!!s(...r)}catch{return!1}},xv=s=>{s=Y.merge.call({skipUndefined:!0},gv,s);const{fetch:r,Request:o,Response:c}=s,u=r?sr(r):typeof fetch=="function",f=sr(o),h=sr(c);if(!u)return!1;const b=u&&sr(Lh),y=u&&(typeof qh=="function"?(j=>C=>j.encode(C))(new qh):async j=>new Uint8Array(await new o(j).arrayBuffer())),p=f&&b&&Hh(()=>{let j=!1;const C=new o(Rt.origin,{body:new Lh,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!C}),v=h&&b&&Hh(()=>Y.isReadableStream(new c("").body)),x={stream:v&&(j=>j.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!x[j]&&(x[j]=(C,_)=>{let T=C&&C[j];if(T)return T.call(C);throw new Ce(`Response type '${j}' is not supported`,Ce.ERR_NOT_SUPPORT,_)})});const w=async j=>{if(j==null)return 0;if(Y.isBlob(j))return j.size;if(Y.isSpecCompliantForm(j))return(await new o(Rt.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(j)||Y.isArrayBuffer(j))return j.byteLength;if(Y.isURLSearchParams(j)&&(j=j+""),Y.isString(j))return(await y(j)).byteLength},N=async(j,C)=>{const _=Y.toFiniteNumber(j.getContentLength());return _??w(C)};return async j=>{let{url:C,method:_,data:T,signal:O,cancelToken:D,timeout:z,onDownloadProgress:R,onUploadProgress:q,responseType:B,headers:X,withCredentials:te="same-origin",fetchOptions:W}=Rp(j),H=r||fetch;B=B?(B+"").toLowerCase():"text";let ue=fv([O,D&&D.toAbortSignal()],z),ge=null;const Ee=ue&&ue.unsubscribe&&(()=>{ue.unsubscribe()});let Oe;try{if(q&&p&&_!=="get"&&_!=="head"&&(Oe=await N(X,T))!==0){let A=new o(C,{method:"POST",body:T,duplex:"half"}),L;if(Y.isFormData(T)&&(L=A.headers.get("content-type"))&&X.setContentType(L),A.body){const[Z,I]=Dh(Oe,fr(Bh(q)));T=Mh(A.body,Uh,Z,I)}}Y.isString(te)||(te=te?"include":"omit");const Q=f&&"credentials"in o.prototype,le={...W,signal:ue,method:_.toUpperCase(),headers:X.normalize().toJSON(),body:T,duplex:"half",credentials:Q?te:void 0};ge=f&&new o(C,le);let J=await(f?H(ge,W):H(C,le));const be=v&&(B==="stream"||B==="response");if(v&&(R||be&&Ee)){const A={};["status","statusText","headers"].forEach(oe=>{A[oe]=J[oe]});const L=Y.toFiniteNumber(J.headers.get("content-length")),[Z,I]=R&&Dh(L,fr(Bh(R),!0))||[];J=new c(Mh(J.body,Uh,Z,()=>{I&&I(),Ee&&Ee()}),A)}B=B||"text";let je=await x[Y.findKey(x,B)||"text"](J,j);return!be&&Ee&&Ee(),await new Promise((A,L)=>{Cp(A,L,{data:je,headers:Vt.from(J.headers),status:J.status,statusText:J.statusText,config:j,request:ge})})}catch(Q){throw Ee&&Ee(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,j,ge),{cause:Q.cause||Q}):Ce.from(Q,Q&&Q.code,j,ge)}}},yv=new Map,Ep=s=>{let r=s&&s.env||{};const{fetch:o,Request:c,Response:u}=r,f=[c,u,o];let h=f.length,b=h,y,p,v=yv;for(;b--;)y=f[b],p=v.get(y),p===void 0&&v.set(y,p=b?new Map:xv(r)),v=p;return p};Ep();const md={http:Ob,xhr:uv,fetch:{get:Ep}};Y.forEach(md,(s,r)=>{if(s){try{Object.defineProperty(s,"name",{value:r})}catch{}Object.defineProperty(s,"adapterName",{value:r})}});const Fh=s=>`- ${s}`,bv=s=>Y.isFunction(s)||s===null||s===!1;function vv(s,r){s=Y.isArray(s)?s:[s];const{length:o}=s;let c,u;const f={};for(let h=0;h<o;h++){c=s[h];let b;if(u=c,!bv(c)&&(u=md[(b=String(c)).toLowerCase()],u===void 0))throw new Ce(`Unknown adapter '${b}'`);if(u&&(Y.isFunction(u)||(u=u.get(r))))break;f[b||"#"+h]=u}if(!u){const h=Object.entries(f).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let b=o?h.length>1?`since :
`+h.map(Fh).join(`
`):" "+Fh(h[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+b,"ERR_NOT_SUPPORT")}return u}const Ap={getAdapter:vv,adapters:md};function Xc(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ml(null,s)}function Vh(s){return Xc(s),s.headers=Vt.from(s.headers),s.data=Pc.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Ap.getAdapter(s.adapter||Ls.adapter,s)(s).then(function(c){return Xc(s),c.data=Pc.call(s,s.transformResponse,c),c.headers=Vt.from(c.headers),c},function(c){return Np(c)||(Xc(s),c&&c.response&&(c.response.data=Pc.call(s,s.transformResponse,c.response),c.response.headers=Vt.from(c.response.headers))),Promise.reject(c)})}const zp="1.13.2",vr={};["object","boolean","number","function","string","symbol"].forEach((s,r)=>{vr[s]=function(c){return typeof c===s||"a"+(r<1?"n ":" ")+s}});const Gh={};vr.transitional=function(r,o,c){function u(f,h){return"[Axios v"+zp+"] Transitional option '"+f+"'"+h+(c?". "+c:"")}return(f,h,b)=>{if(r===!1)throw new Ce(u(h," has been removed"+(o?" in "+o:"")),Ce.ERR_DEPRECATED);return o&&!Gh[h]&&(Gh[h]=!0,console.warn(u(h," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(f,h,b):!0}};vr.spelling=function(r){return(o,c)=>(console.warn(`${c} is likely a misspelling of ${r}`),!0)};function jv(s,r,o){if(typeof s!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const c=Object.keys(s);let u=c.length;for(;u-- >0;){const f=c[u],h=r[f];if(h){const b=s[f],y=b===void 0||h(b,f,s);if(y!==!0)throw new Ce("option "+f+" must be "+y,Ce.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new Ce("Unknown option "+f,Ce.ERR_BAD_OPTION)}}const dr={assertOptions:jv,validators:vr},Tn=dr.validators;let Va=class{constructor(r){this.defaults=r||{},this.interceptors={request:new zh,response:new zh}}async request(r,o){try{return await this._request(r,o)}catch(c){if(c instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{c.stack?f&&!String(c.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+f):c.stack=f}catch{}}throw c}}_request(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=Ga(this.defaults,o);const{transitional:c,paramsSerializer:u,headers:f}=o;c!==void 0&&dr.assertOptions(c,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),u!=null&&(Y.isFunction(u)?o.paramsSerializer={serialize:u}:dr.assertOptions(u,{encode:Tn.function,serialize:Tn.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),dr.assertOptions(o,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h=f&&Y.merge(f.common,f[o.method]);f&&Y.forEach(["delete","get","head","post","put","patch","common"],j=>{delete f[j]}),o.headers=Vt.concat(h,f);const b=[];let y=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(o)===!1||(y=y&&C.synchronous,b.unshift(C.fulfilled,C.rejected))});const p=[];this.interceptors.response.forEach(function(C){p.push(C.fulfilled,C.rejected)});let v,x=0,w;if(!y){const j=[Vh.bind(this),void 0];for(j.unshift(...b),j.push(...p),w=j.length,v=Promise.resolve(o);x<w;)v=v.then(j[x++],j[x++]);return v}w=b.length;let N=o;for(;x<w;){const j=b[x++],C=b[x++];try{N=j(N)}catch(_){C.call(this,_);break}}try{v=Vh.call(this,N)}catch(j){return Promise.reject(j)}for(x=0,w=p.length;x<w;)v=v.then(p[x++],p[x++]);return v}getUri(r){r=Ga(this.defaults,r);const o=Tp(r.baseURL,r.url,r.allowAbsoluteUrls);return Sp(o,r.params,r.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(r){Va.prototype[r]=function(o,c){return this.request(Ga(c||{},{method:r,url:o,data:(c||{}).data}))}});Y.forEach(["post","put","patch"],function(r){function o(c){return function(f,h,b){return this.request(Ga(b||{},{method:r,headers:c?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}Va.prototype[r]=o(),Va.prototype[r+"Form"]=o(!0)});let Sv=class kp{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(f){o=f});const c=this;this.promise.then(u=>{if(!c._listeners)return;let f=c._listeners.length;for(;f-- >0;)c._listeners[f](u);c._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(b=>{c.subscribe(b),f=b}).then(u);return h.cancel=function(){c.unsubscribe(f)},h},r(function(f,h,b){c.reason||(c.reason=new Ml(f,h,b),o(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const o=this._listeners.indexOf(r);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const r=new AbortController,o=c=>{r.abort(c)};return this.subscribe(o),r.signal.unsubscribe=()=>this.unsubscribe(o),r.signal}static source(){let r;return{token:new kp(function(u){r=u}),cancel:r}}};function _v(s){return function(o){return s.apply(null,o)}}function wv(s){return Y.isObject(s)&&s.isAxiosError===!0}const ed={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ed).forEach(([s,r])=>{ed[r]=s});function Dp(s){const r=new Va(s),o=dp(Va.prototype.request,r);return Y.extend(o,Va.prototype,r,{allOwnKeys:!0}),Y.extend(o,r,null,{allOwnKeys:!0}),o.create=function(u){return Dp(Ga(s,u))},o}const dt=Dp(Ls);dt.Axios=Va;dt.CanceledError=Ml;dt.CancelToken=Sv;dt.isCancel=Np;dt.VERSION=zp;dt.toFormData=br;dt.AxiosError=Ce;dt.Cancel=dt.CanceledError;dt.all=function(r){return Promise.all(r)};dt.spread=_v;dt.isAxiosError=wv;dt.mergeConfig=Ga;dt.AxiosHeaders=Vt;dt.formToJSON=s=>wp(Y.isHTMLForm(s)?new FormData(s):s);dt.getAdapter=Ap.getAdapter;dt.HttpStatusCode=ed;dt.default=dt;const{Axios:dj,AxiosError:uj,CanceledError:fj,isCancel:mj,CancelToken:hj,VERSION:pj,all:gj,Cancel:xj,isAxiosError:yj,spread:bj,toFormData:vj,AxiosHeaders:jj,HttpStatusCode:Sj,formToJSON:_j,getAdapter:wj,mergeConfig:Nj}=dt,Nv="https://facerecognition.mpanel.app",Cv=parseInt("30000",10),ce=dt.create({baseURL:Nv,timeout:Cv});ce.interceptors.request.use(s=>{const r=Jt.getToken();return r&&(s.headers.Authorization=r),s},s=>Promise.reject(s));ce.interceptors.response.use(s=>s,s=>{if(s.response?.status===401||s.response?.status===403){const r=["/recognize","/api/test/recognize","/upload-for-detection"],o=s.config?.url||"";if(r.some(f=>o.includes(f)))return Promise.reject(s);if(!!localStorage.getItem("photolytics_auth_token")){Jt.clearToken();const f=Jt.isTokenExpired()?"Your session has expired. Please log in again.":"Authentication failed. Please log in again.";sessionStorage.setItem("auth_redirect_message",f)}setTimeout(()=>{window.location.href="/"},100)}return s.response?.status===404?console.warn("API endpoint not found:",s.config?.url):s.response?.status>=500?console.error("Server error:",s.response.status,s.config?.url):s.code==="ECONNABORTED"&&console.error("Request timeout:",s.config?.url),Promise.reject(s)});const bt={async generateNames(s,r=[]){const o={country:s};return r&&r.length>0&&(o.occupation=r.join(",")),(await ce.get("/api/excel/check-excel",{params:o,timeout:6e4})).data},async processNext(){return(await ce.get("/api/excel/process",{timeout:4e4})).data},async getQueueStatus(){return(await ce.get("/api/training/queue-status")).data},async getTrainingProgress(s="serbia",r="production",o=1,c=50,u=null,f=!1){const h={domain:s,view:r,page:o,limit:c};return u&&(h.search=u),f&&(h.hide_approved="true"),(await ce.get("/api/training/progress",{params:h})).data},async getQueueList(){return(await ce.get("/api/training/queue-list")).data},async removeFromQueue(s){return(await ce.delete("/api/training/queue",{data:{id:s}})).data},async getOccupations(){return(await ce.get("/api/excel/occupations")).data},async syncFaces(){return(await ce.post("/sync-faces")).data},async testRecognition(s){const r=new FormData;return r.append("image",s),(await ce.post("/recognize",r,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4})).data},async abTestRecognition(s,r=null){const o=new FormData;return o.append("image",s),r&&o.append("ground_truth",r),(await ce.post("/api/test/recognize",o,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})).data},async getNameMappings(){return(await ce.get("/admin/name-mappings")).data},async deleteImage(s,r="serbia"){const o=s.split("/").pop();return(await ce.post("/manage-image",{filename:o,action:"delete",domain:r})).data},async getFolderImages(s,r="serbia",o="production",c=1,u=50){return(await ce.get(`/api/training/folders/${encodeURIComponent(s)}`,{params:{domain:r,view:o,page:c,limit:u}})).data},async getSmartQueue(s="serbia"){return(await ce.get("/api/training/smart/queue",{params:{domain:s}})).data},async startBatchTraining(s={}){const{domain:r="serbia",discoverNew:o=!1,benchmarkExisting:c=!1,maxTraining:u=30,imagesPerPerson:f=30}=s;return(await ce.post("/api/training/smart/run",{domain:r,discover_new:o,benchmark_existing:c,max_new_discoveries:0,max_training_per_run:u,images_per_person:f},{timeout:3e4})).data},async getTrainingRuns(s="serbia",r=20){return(await ce.get("/api/training/smart/runs",{params:{domain:s,limit:r}})).data},async getApprovals(s="serbia",r="production"){return(await ce.get("/api/training/approvals",{params:{domain:s,view:r}})).data},async approvePerson(s,r="serbia",o="production",c=0){return(await ce.post(`/api/training/approvals/${encodeURIComponent(s)}`,{domain:r,view:o,image_count:c})).data},async unapprovePerson(s,r="serbia",o="production"){return(await ce.delete(`/api/training/approvals/${encodeURIComponent(s)}`,{params:{domain:r,view:o}})).data},async deletePerson(s,r="serbia"){return(await ce.post("/api/training/delete-person",{person_name:s,domain:r})).data}};function qs(s,r=5e3,o=!0,c=[]){const[u,f]=g.useState(null),[h,b]=g.useState(!0),[y,p]=g.useState(null),[v,x]=g.useState(o),w=g.useRef(null),N=g.useRef(!0),j=async()=>{try{const O=await s();N.current&&(f(O),p(null))}catch(O){N.current&&p(O.message||"Failed to fetch data")}finally{N.current&&b(!1)}},C=()=>{x(!0)},_=()=>{x(!1),w.current&&(clearInterval(w.current),w.current=null)},T=async()=>{b(!0),await j()};return g.useEffect(()=>(N.current=!0,()=>{N.current=!1,w.current&&clearInterval(w.current)}),[]),g.useEffect(()=>{if(!v){w.current&&(clearInterval(w.current),w.current=null);return}return j(),w.current=setInterval(j,r),()=>{w.current&&(clearInterval(w.current),w.current=null)}},[v,r,...c]),{data:u,loading:h,error:y,refetch:T,startPolling:C,stopPolling:_,isPolling:v}}function Le({children:s,content:r,position:o="top"}){const[c,u]=g.useState(!1);return r?n.jsxs("div",{className:"tooltip-wrapper",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[s,c&&n.jsx("div",{className:`tooltip tooltip-${o}`,children:r})]}):s}function It({pageName:s}){const{openHelp:r}=pr();return n.jsx(Le,{content:"Get help for this page",position:"left",children:n.jsx("button",{className:"help-button",onClick:()=>r(s),"aria-label":"Help",children:"?"})})}function Tv(){const[s,r]=g.useState(!0),o=async()=>{const v=await bt.getQueueStatus();if(v.success)return v.data;throw new Error(v.message||"Failed to fetch stats")},{data:c,loading:u,error:f,isPolling:h,startPolling:b,stopPolling:y}=qs(o,1e4,s),p=()=>{h?(y(),r(!1)):(b(),r(!0))};return n.jsxs("div",{className:"page-container",children:[n.jsx(It,{pageName:"dashboard"}),n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Training Dashboard"}),n.jsx("p",{className:"subtitle",children:"Overview of face recognition training status"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#10b981",fontSize:"0.875rem"},children:[n.jsx("span",{className:"spinner",style:{width:"16px",height:"16px",borderWidth:"2px"}}),n.jsx("span",{title:"Dashboard automatically refreshes queue statistics every 10 seconds to show real-time progress",children:"Auto-refresh: ON"})]}),!h&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#999",fontSize:"0.875rem"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Auto-refresh: OFF"})]}),n.jsx("button",{className:"btn",onClick:p,title:h?"Stop automatic refresh of dashboard data":"Start automatic refresh of dashboard data",style:{background:h?"#ef4444":"#10b981",color:"white",border:"none"},children:h?" Pause Updates":" Resume Updates"})]})]}),f&&n.jsx("div",{className:"alert alert-error",children:f}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Queue Size"}),n.jsx("div",{className:"stat-value",children:u?"...":c?.queue?.total_in_queue??0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Processed Today"}),n.jsx("div",{className:"stat-value",children:u?"...":c?.queue?.processed_today??0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Remaining"}),n.jsx("div",{className:"stat-value",children:u?"...":c?.queue?.remaining??0})]})]}),c?.queue?.failed_today>0&&n.jsxs(Ge,{to:"/rejected-faces",className:"stat-card",style:{textDecoration:"none",cursor:"pointer"},children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Failed Today"}),n.jsx("div",{className:"stat-value",children:c.queue.failed_today}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#999",marginTop:"0.25rem"},children:"Click to view"})]})]})]}),n.jsxs("div",{className:"dashboard-columns",children:[n.jsxs("div",{className:"section",children:[n.jsx("h2",{children:"Quick Actions"}),n.jsxs("div",{className:"actions-grid-compact",children:[n.jsxs(Ge,{to:"/training",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Training"}),n.jsx("p",{children:"Generate, queue, and benchmark training data"})]})]}),n.jsxs(Ge,{to:"/training/benchmarks",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Benchmarks"}),n.jsx("p",{children:"View recognition accuracy benchmarks"})]})]}),n.jsxs("a",{href:"https://photolytics.mpanel.app/",target:"_blank",rel:"noopener noreferrer",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Test Recognition"}),n.jsx("p",{children:"Upload images to test face recognition"})]})]}),n.jsxs(Ge,{to:"/video-recognition",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Video Recognition"}),n.jsx("p",{children:"Process videos for face recognition"})]})]})]})]}),n.jsxs("div",{className:"section",children:[n.jsx("h2",{children:"Recent Activity"}),n.jsx("div",{className:"activity-log",children:n.jsx("p",{className:"text-muted",children:"Activity log will be displayed here once processing begins."})})]})]})]})}const Rv=[{id:"serbia",name:"Serbia"},{id:"usa",name:"USA"},{id:"uk",name:"UK"},{id:"france",name:"France"},{id:"croatia",name:"Croatia"},{id:"bosnia",name:"Bosnia"}],Ev=[{id:"actor",name:"Actor"},{id:"politician",name:"Politician"},{id:"tennis_player",name:"Tennis Player"},{id:"football_player",name:"Football Player"},{id:"basketball_player",name:"Basketball Player"},{id:"musician",name:"Musician"},{id:"singer",name:"Singer"},{id:"writer",name:"Writer"},{id:"director",name:"Director"}],El={success:!0,batch_id:"mock_batch_123",status:"processing",created_at:new Date().toISOString(),total:2,completed:0,processing:1,failed:0,queued:1,progress_percentage:0,people:[{full_name:"Novak Djokovic",name:"Novak",last_name:"Djokovic",occupation:"tennis_player",folder_name:"novak_djokovic",status:"processing",current_step:"downloading_images",photos_downloaded:15,photos_validated:0,error:null,started_at:new Date().toISOString(),completed_at:null},{full_name:"Ana Ivanovic",name:"Ana",last_name:"Ivanovic",occupation:"tennis_player",folder_name:"ana_ivanovic",status:"queued",current_step:null,photos_downloaded:0,photos_validated:0,error:null,started_at:null,completed_at:null}]},Qh=[{folder_name:"novak_djokovic",image_count:28,ready_for_production:!0},{folder_name:"ana_ivanovic",image_count:31,ready_for_production:!0},{folder_name:"unknown_person",image_count:3,ready_for_production:!1}],pt={async getCountries(){try{return(await ce.get("/api/training/countries")).data}catch(s){return console.warn("API not available, using mock data:",s.message),{success:!0,countries:Rv}}},async getOccupations(){try{return(await ce.get("/api/training/occupations")).data}catch(s){return console.warn("API not available, using mock data:",s.message),{success:!0,occupations:Ev}}},async generateCandidates(s,r,o){try{return(await ce.post("/api/training/generate-candidates",{country:s,occupation:r,domain:o},{timeout:12e4})).data}catch(c){throw console.error(" Generate candidates API call failed:",c),console.error("Error details:",{message:c.message,response:c.response?.data,status:c.response?.status,url:c.config?.url,params:{country:s,occupation:r,domain:o}}),c}},async startBatch(s,r){try{return(await ce.post("/api/training/start-batch",{candidates:s,domain:r})).data}catch(o){return console.warn("API not available, using mock data:",o.message),{success:!0,message:`Started batch training for ${s.length} people`,batch_id:"mock_batch_"+Date.now(),total_people:s.length}}},async getBatchStatus(s){try{return(await ce.get(`/api/training/batch/${s}/status`)).data}catch(r){console.warn("API not available, using mock data:",r.message);const o=Math.min(100,Date.now()%1e5/1e3),c=Math.floor(El.total*o/100);return{...El,batch_id:s,progress_percentage:Math.round(o),completed:c,processing:c<El.total?1:0,queued:El.total-c-1,status:c===El.total?"completed":"processing",people:El.people.map((u,f)=>({...u,status:f<c?"completed":f===c?"processing":"queued",photos_downloaded:f<c?28:f===c?15:0,completed_at:f<c?new Date().toISOString():null}))}}},async cancelBatch(s){try{return(await ce.post(`/api/training/batch/${s}/cancel`)).data}catch(r){return console.warn("API not available, using mock data:",r.message),{success:!0,message:"Batch cancelled successfully",batch_id:s}}},async getStagingList(s){try{const r=await ce.get("/api/training/staging-list",{params:{domain:s}});return console.log(" Staging list loaded from API:",r.data),r.data}catch(r){throw console.error(" Staging list API call failed:",r),console.error("Error details:",{message:r.message,response:r.response?.data,status:r.response?.status,url:r.config?.url}),r}},async deployToProduction(s,r){try{return(await ce.post("/api/training/deploy",{people:s,domain:r})).data}catch(o){console.warn("API not available, using mock data:",o.message);const c=Qh.filter(f=>s.includes(f.folder_name)&&f.ready_for_production),u=Qh.filter(f=>s.includes(f.folder_name)&&!f.ready_for_production);return{success:!0,message:`Deployed ${c.length} people to production`,deployed:c.map(f=>({folder:f.folder_name,image_count:f.image_count})),skipped:u.map(f=>({folder:f.folder_name,reason:`Too few images (${f.image_count}), minimum is 5`})),errors:[],statistics:{deployed_count:c.length,skipped_count:u.length,error_count:0}}}},async removeFromStaging(s,r){try{return(await ce.post("/api/training/staging/remove",{people:s,domain:r})).data}catch(o){throw console.error("Failed to remove from staging:",o),o}},async deleteStagingImage(s,r,o){try{return(await ce.delete(`/api/training/staging/image/${s}/${r}/${o}`)).data}catch(c){throw console.error("Failed to delete staging image:",c),c}},async trainViaSERP(s,r){try{return(await ce.post("/api/training/staging/train-serp",{people:s,domain:r})).data}catch(o){throw console.error("Failed to start SERP training:",o),o}},async getSerpBatchStatus(s){try{return(await ce.get(`/api/training/staging/serp-status/${s}`)).data}catch(r){throw console.error("Failed to get SERP batch status:",r),r}},async listSerpBatches(){try{return(await ce.get("/api/training/staging/serp-batches")).data}catch(s){throw console.error("Failed to list SERP batches:",s),s}},async listTrainingBatches(){try{return(await ce.get("/api/training/staging/training-batches")).data}catch(s){throw console.error("Failed to list training batches:",s),s}},async listAllBatches(){try{const[s,r]=await Promise.all([ce.get("/api/training/staging/serp-batches"),ce.get("/api/training/staging/training-batches")]),o=s.data,c=r.data,u=[...(o.running_batches||[]).map(h=>({...h,type:"serp"})),...(c.running_batches||[]).map(h=>({...h,type:"wikidata"}))],f=[...(o.completed_batches||[]).map(h=>({...h,type:"serp"})),...(c.completed_batches||[]).map(h=>({...h,type:"wikidata"}))];return u.sort((h,b)=>new Date(b.created_at)-new Date(h.created_at)),f.sort((h,b)=>new Date(b.created_at||b.completed_at)-new Date(h.created_at||h.completed_at)),{success:!0,running_batches:u,completed_batches:f,running_count:u.length,completed_count:f.length}}catch(s){throw console.error("Failed to list all batches:",s),s}}};function Av(){const[s,r]=g.useState("serbia"),[o,c]=g.useState(["actor"]),[u,f]=g.useState(!1),[h,b]=g.useState([]),[y,p]=g.useState([]),[v,x]=g.useState(!1),[w,N]=g.useState(null),[j,C]=g.useState(null),[_,T]=g.useState([]),[O,D]=g.useState(null),[z,R]=g.useState(!1),[q,B]=g.useState("new"),[X,te]=g.useState(!1),[W,H]=g.useState(!1),[ue,ge]=g.useState(null),[Ee,Oe]=g.useState(null),[Q,le]=g.useState(null),[J,be]=g.useState(!0);g.useEffect(()=>{(async()=>{try{const[pe,Ye]=await Promise.all([pt.getCountries(),pt.getOccupations()]);pe.success&&b(pe.countries),Ye.success&&p(Ye.occupations)}catch(pe){console.error("Failed to load data:",pe)}})()},[]),g.useEffect(()=>{const ne=pe=>{u&&(pe.target.closest(".occupation-dropdown-container")||f(!1))};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[u]);const je=async()=>{const ne=await bt.getTrainingProgress();if(ne.success)return ne.data.folders||[];throw new Error(ne.message||"Failed to fetch progress")},{data:A,loading:L,error:Z,refetch:I,isPolling:oe,startPolling:ye,stopPolling:de}=qs(je,15e3,J),Me=ne=>{console.log("Toggling occupation:",ne),c(pe=>{console.log("Previous selections:",pe);const Ye=pe.includes(ne)?pe.filter(rt=>rt!==ne):[...pe,ne];return console.log("New selections:",Ye),Ye})},Qe=async ne=>{if(ne.preventDefault(),N(null),C(null),T([]),D(null),o.length===0){N("Please select at least one occupation");return}x(!0);try{const pe=o.map(lt=>pt.generateCandidates(s,lt,s)),Ye=await Promise.all(pe);let rt=[],Qa=0,$n=0;Ye.forEach(lt=>{if(lt.success&&lt.candidates){const ae=lt.candidates.map(re=>({...re,isSelected:!re.exists_in_db}));rt=[...rt,...ae],Qa+=lt.statistics?.new_people||lt.candidates.filter(re=>!re.exists_in_db).length,$n+=lt.statistics?.existing_people||lt.candidates.filter(re=>re.exists_in_db).length}});const mn=rt.filter((lt,ae,re)=>ae===re.findIndex(qe=>qe.wikidata_id===lt.wikidata_id));T(mn),D({total:mn.length,new_people:mn.filter(lt=>!lt.exists_in_db).length,existing_people:mn.filter(lt=>lt.exists_in_db).length}),R(!0),B("new");const ja=o.map(lt=>y.find(ae=>ae.id===lt)?.name||lt).join(", ");C(`Found ${mn.length} people in ${o.length} occupation(s) from ${s}! (${O?.new_people||Qa} new)`)}catch(pe){const Ye=pe.response?.data?.error||pe.message||"Failed to generate candidates from Wikidata";N(Ye)}finally{x(!1)}},zt=ne=>{T(pe=>pe.map(Ye=>Ye.wikidata_id===ne?{...Ye,isSelected:!Ye.isSelected}:Ye))},jn=()=>{T(ne=>ne.map(pe=>({...pe,isSelected:!0})))},Et=()=>{T(ne=>ne.map(pe=>({...pe,isSelected:!pe.exists_in_db})))},Sn=()=>{T(ne=>ne.map(pe=>({...pe,isSelected:!1})))},kt=()=>_.filter(ne=>ne.isSelected).length,se=()=>{T([]),D(null),N(null),C(null),R(!1)},M=_.filter(ne=>q==="new"?!ne.exists_in_db:q==="existing"?ne.exists_in_db:!0),ie=async()=>{Oe(null),le(null),te(!0);try{const ne=await bt.processNext();if(ne.success&&ne.data){const pe=ne.data.name&&ne.data.last_name?`${ne.data.name} ${ne.data.last_name}`:ne.data.person;if(!pe||pe==="N/A"||!ne.images?.count){Oe("Queue is empty. Generate names first to add people to the queue."),ge(null);return}ge(ne.data),le(`Processed: ${pe} (${ne.images?.count||0} images downloaded)`),I()}else{const pe=ne.message||"Queue is empty. Generate names first.";Oe(pe),ge(null)}}catch(ne){ne.message?.toLowerCase().includes("no data")||ne.message?.toLowerCase().includes("not found")?Oe('Queue is empty. Click "Generate from Wikidata" to add people to the queue.'):Oe(ne.message||"An error occurred while processing"),ge(null)}finally{te(!1)}},Se=async()=>{const ne=_.filter(pe=>pe.isSelected);if(ne.length===0){N("Please select at least one candidate to train");return}Oe(null),le(null),H(!0);try{const pe=await pt.startBatch(ne,s);pe.success?(le(`Started training ${ne.length} people! Monitor progress below.`),se(),setTimeout(()=>I(),2e3)):Oe(pe.message||"Failed to start batch training")}catch(pe){Oe(pe.message||"Failed to start batch training")}finally{H(!1)}},we=()=>{oe?(de(),be(!1)):(ye(),be(!0))},at=ne=>ne===0?{label:"Empty",className:"status-empty"}:ne<20?{label:"Insufficient",className:"status-insufficient"}:ne<40?{label:"Adequate",className:"status-adequate"}:{label:"Ready",className:"status-ready"};return n.jsxs("div",{className:"page-container",children:[n.jsx(It,{pageName:"training-workflow"}),n.jsx("div",{className:"workflow-header",children:n.jsxs("div",{children:[n.jsx("h1",{children:"Training Workflow"}),n.jsx("p",{className:"subtitle",children:"Complete pipeline: Generate  Select  Train  Monitor"})]})}),n.jsxs("div",{className:"step-indicator",children:[n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"1"}),n.jsx("div",{className:"step-label",children:"Generate from Wikidata"})]}),n.jsx("div",{className:"step-divider"}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"2"}),n.jsx("div",{className:"step-label",children:"Select Candidates"})]}),n.jsx("div",{className:"step-divider"}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"3"}),n.jsx("div",{className:"step-label",children:"Train & Monitor"})]})]}),n.jsxs("div",{className:"workflow-grid",children:[n.jsxs("div",{className:"workflow-actions",children:[n.jsxs("div",{className:"workflow-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"step-badge",children:"1"}),"Generate from Wikidata"]}),n.jsx("span",{className:"card-subtitle",children:"Query Wikidata for celebrities (~5-10s)"})]}),n.jsxs("form",{onSubmit:Qe,style:{marginTop:"1.5rem"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"country",children:"Country"}),n.jsx("select",{id:"country",className:"form-input",value:s,onChange:ne=>r(ne.target.value),disabled:v,children:h.map(ne=>n.jsx("option",{value:ne.code,children:ne.name},ne.code))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"occupation-dropdown",children:"Select Occupations"}),n.jsxs("div",{className:"occupation-dropdown-container",style:{position:"relative"},children:[n.jsxs("button",{type:"button",id:"occupation-dropdown",className:"form-input",onClick:()=>f(!u),disabled:v,style:{width:"100%",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"white",border:"1px solid #d1d5db",borderRadius:"0.375rem",cursor:"pointer"},children:[n.jsx("span",{style:{color:o.length>0?"#111827":"#999"},children:o.length>0?`${o.length} occupation${o.length>1?"s":""} selected`:"Select occupations..."}),n.jsx("span",{style:{fontSize:"0.875rem"},children:u?"":""})]}),u&&n.jsx("div",{className:"occupation-dropdown-menu",style:{position:"absolute",top:"calc(100% + 0.25rem)",left:0,right:0,background:"white",border:"1px solid #d1d5db",borderRadius:"0.375rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",maxHeight:"300px",overflowY:"auto",zIndex:1e3},children:y.map(ne=>{const pe=o.includes(ne.id);return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",cursor:"pointer",background:pe?"#eff6ff":"white",borderBottom:"1px solid #333",transition:"background 0.15s"},onClick:Ye=>{Ye.stopPropagation(),Me(ne.id)},onMouseEnter:Ye=>{pe||(Ye.currentTarget.style.background="#242424")},onMouseLeave:Ye=>{pe||(Ye.currentTarget.style.background="white")},children:[n.jsx("input",{type:"checkbox",checked:pe,onChange:()=>{},style:{width:"16px",height:"16px",cursor:"pointer",pointerEvents:"none",margin:0}}),n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:pe?600:400,userSelect:"none"},children:ne.name})]},ne.id)})})]}),n.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:"#999"},children:"Click to select multiple occupations"})]}),w&&n.jsx("div",{className:"alert alert-error",children:w}),j&&n.jsx("div",{className:"alert alert-success",children:j}),n.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:v,children:v?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Querying Wikidata..."]}):n.jsx(n.Fragment,{children:" Generate from Wikidata"})})]})]}),_.length>0&&n.jsxs("div",{className:"workflow-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"step-badge",children:"2"}),"Select Candidates"]}),n.jsxs("span",{className:"card-subtitle",children:[O?.total||_.length," found (",O?.new_people||_.filter(ne=>!ne.exists_in_db).length," new)"]})]}),O&&n.jsxs("div",{className:"stats-summary-compact",style:{marginTop:"1rem"},children:[n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:O.total}),n.jsx("span",{children:"Total"})]}),n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:O.new_people}),n.jsx("span",{children:"New"})]}),n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:O.existing_people}),n.jsx("span",{children:"Existing"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[n.jsxs("button",{onClick:()=>B("new"),className:"btn btn-sm",style:{flex:1,fontSize:"0.75rem",padding:"0.4rem",background:q==="new"?"#10b981":"#3a3a3a",color:q==="new"?"white":"#999",border:"none"},children:["New (",O?.new_people||0,")"]}),n.jsxs("button",{onClick:()=>B("existing"),className:"btn btn-sm",style:{flex:1,fontSize:"0.75rem",padding:"0.4rem",background:q==="existing"?"#999":"#3a3a3a",color:q==="existing"?"white":"#999",border:"none"},children:["Existing (",O?.existing_people||0,")"]}),n.jsxs("button",{onClick:()=>B("all"),className:"btn btn-sm",style:{flex:1,fontSize:"0.75rem",padding:"0.4rem",background:q==="all"?"#3b82f6":"#3a3a3a",color:q==="all"?"white":"#999",border:"none"},children:["All (",O?.total||0,")"]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem",flexWrap:"wrap"},children:[n.jsx("button",{onClick:Et,className:"btn btn-sm",style:{fontSize:"0.75rem",padding:"0.4rem 0.8rem",background:"#10b981",color:"white",border:"none"},children:" New Only"}),n.jsx("button",{onClick:jn,className:"btn btn-sm",style:{fontSize:"0.75rem",padding:"0.4rem 0.8rem",background:"#3b82f6",color:"white",border:"none"},children:" All"}),n.jsx("button",{onClick:Sn,className:"btn btn-sm",style:{fontSize:"0.75rem",padding:"0.4rem 0.8rem",background:"#999",color:"white",border:"none"},children:" None"}),n.jsx("button",{onClick:se,className:"btn btn-sm",style:{fontSize:"0.75rem",padding:"0.4rem 0.8rem",background:"#ef4444",color:"white",border:"none",marginLeft:"auto"},children:"Clear"})]}),n.jsxs("div",{className:"folders-list",style:{marginTop:"1rem",maxHeight:"300px",overflowY:"auto"},children:[M.length===0?n.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"No candidates match the current filter"}):M.slice(0,50).map(ne=>n.jsx("div",{className:"folder-item",style:{padding:"0.75rem",cursor:"pointer",borderBottom:"1px solid #3a3a3a"},onClick:()=>zt(ne.wikidata_id),children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("input",{type:"checkbox",checked:ne.isSelected,onChange:()=>zt(ne.wikidata_id),onClick:pe=>pe.stopPropagation(),style:{width:"16px",height:"16px"}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontWeight:500,color:"#111827"},children:ne.full_name}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:ne.description})]}),ne.exists_in_db?n.jsx("span",{className:"status-badge-sm",style:{background:"#3a3a3a",color:"#999"},children:" EXISTS"}):n.jsx("span",{className:"status-badge-sm",style:{background:"#d1fae5",color:"#065f46"},children:" NEW"})]})},ne.wikidata_id)),M.length>50&&n.jsxs("div",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",color:"#999"},children:["... and ",M.length-50," more"]})]}),n.jsx("button",{onClick:Se,disabled:kt()===0||W,className:"btn btn-block",style:{marginTop:"1rem",background:"#10b981",color:"white",border:"none",padding:"0.75rem",fontSize:"1rem",fontWeight:600},children:W?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Starting Training..."]}):n.jsxs(n.Fragment,{children:[" Start Training (",kt()," selected)"]})})]}),_.length===0&&n.jsxs("div",{className:"workflow-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"step-badge",children:"2"}),"Process Queue"]}),n.jsx("span",{className:"card-subtitle",children:"Process Excel-based queue (legacy)"})]}),n.jsx("div",{className:"button-group",style:{marginTop:"1.5rem"},children:n.jsx("button",{className:"btn btn-primary",onClick:ie,disabled:X||W||v,style:{flex:1},children:X?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Processing..."]}):n.jsx(n.Fragment,{children:" Process Next"})})}),Ee&&n.jsx("div",{className:"alert alert-error",children:Ee}),Q&&n.jsx("div",{className:"alert alert-success",children:Q}),ue&&n.jsxs("div",{className:"result-box",children:[n.jsx("h4",{children:"Last Processed"}),n.jsxs("div",{className:"result-details",children:[n.jsxs("div",{className:"result-row",children:[n.jsx("span",{children:"Person:"}),n.jsx("strong",{children:ue.person||"N/A"})]}),n.jsxs("div",{className:"result-row",children:[n.jsx("span",{children:"Images:"}),n.jsx("strong",{children:ue.images_downloaded||0})]})]})]})]})]}),n.jsx("div",{className:"workflow-monitor",children:n.jsxs("div",{className:"workflow-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"step-badge",children:"3"}),"Training Progress"]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[oe&&n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.4rem",color:"#10b981",fontSize:"0.75rem"},children:[n.jsx("span",{className:"spinner",style:{width:"12px",height:"12px",borderWidth:"2px"}}),"Auto-updating"]}),n.jsx("button",{className:"btn btn-sm",onClick:we,title:oe?"Pause auto-updates":"Resume auto-updates",style:{padding:"0.25rem 0.75rem",fontSize:"0.75rem",background:oe?"#ef4444":"#10b981",color:"white",border:"none"},children:oe?"":""}),n.jsx("button",{className:"btn btn-sm btn-primary",onClick:I,disabled:L,title:"Refresh now",style:{padding:"0.25rem 0.75rem",fontSize:"0.75rem"},children:""})]})]}),Z&&n.jsx("div",{className:"alert alert-error",children:Z}),Q&&n.jsx("div",{className:"alert alert-success",children:Q}),L?n.jsxs("div",{className:"loading-state-inline",children:[n.jsx("span",{className:"spinner"}),n.jsx("span",{children:"Loading..."})]}):!A||A.length===0?n.jsxs("div",{className:"empty-state-inline",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{children:"No training data yet"}),n.jsx("small",{children:"Generate and train candidates to start"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stats-summary-compact",children:[n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:A.length}),n.jsx("span",{children:"Folders"})]}),n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:A.reduce((ne,pe)=>ne+(pe.image_count||0),0)}),n.jsx("span",{children:"Images"})]}),n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:A.filter(ne=>(ne.image_count||0)>=20).length}),n.jsx("span",{children:"Ready"})]})]}),n.jsxs("div",{className:"folders-list",children:[A.slice(0,10).map((ne,pe)=>{const Ye=at(ne.image_count||0);return n.jsxs("div",{className:"folder-item",children:[n.jsxs("div",{className:"folder-item-header",children:[n.jsx("span",{className:"folder-name-short",title:ne.display_name,children:ne.display_name||ne.name||"Unknown"}),n.jsx("span",{className:`status-badge-sm ${Ye.className}`,children:Ye.label})]}),n.jsxs("div",{className:"folder-item-stats",children:[n.jsxs("span",{children:[ne.image_count||0," images"]}),ne.image_count>0&&n.jsx("div",{className:"progress-bar-sm",children:n.jsx("div",{className:"progress-fill",style:{width:`${Math.min(ne.image_count/40*100,100)}%`,backgroundColor:ne.image_count>=20?"#10b981":"#f59e0b"}})})]})]},pe)}),A.length>10&&n.jsxs("div",{className:"folder-item-more",children:["+",A.length-10," more folders"]})]})]})]})})]}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" Complete Workflow Guide"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"0.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Step 1:"})," Query Wikidata for celebrities by occupation"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Step 2:"})," Select which candidates to train"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Step 3:"})," Start batch training & monitor progress"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ready:"})," 40+ images optimal for training"]})]})]})]})}function zv(){const[s,r]=g.useState([]),[o,c]=g.useState(!0),[u,f]=g.useState(null),[h,b]=g.useState(!0),[y,p]=g.useState(null),[v,x]=g.useState(null),w=async()=>{const X=await bt.getQueueList();if(X.success)return X.data;throw new Error(X.message||"Failed to fetch queue")},{data:N,loading:j,error:C,refetch:_,isPolling:T,startPolling:O,stopPolling:D}=qs(w,3e4,h);g.useEffect(()=>{N&&(r(N.queue||[]),c(!1))},[N]),g.useEffect(()=>{C&&(f(C),c(!1))},[C]);const z=()=>{T?(D(),b(!1)):(O(),b(!0))},R=async X=>{if(confirm(`Remove "${X.name} ${X.last_name}" from queue?`)){p(X.id),f(null),x(null);try{const te=await bt.removeFromQueue(X.id);te.success?(x(`Removed ${X.name} ${X.last_name}. ${te.remaining_count} remaining in queue.`),_()):f(te.message||"Failed to remove entry")}catch(te){f(te.message||"An error occurred while removing entry")}finally{p(null),setTimeout(()=>x(null),3e3)}}},q=X=>{const te={};return X.forEach(W=>{const H=W.occupation||"Unknown";te[H]||(te[H]=[]),te[H].push(W)}),te},B=s.length>0?q(s):{};return n.jsxs("div",{className:"page-container",children:[n.jsx(It,{pageName:"queue-management"}),n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Queue Management"}),n.jsx("p",{className:"subtitle",children:"View and manage generated celebrity names waiting to be processed"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#10b981",fontSize:"0.875rem"},children:[n.jsx("span",{className:"spinner",style:{width:"16px",height:"16px",borderWidth:"2px"}}),n.jsx("span",{children:"Auto-refresh: ON"})]}),!T&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#999",fontSize:"0.875rem"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Auto-refresh: OFF"})]}),n.jsx("button",{className:"btn",onClick:z,style:{background:T?"#ef4444":"#10b981",color:"white",border:"none"},children:T?" Pause":" Resume"}),n.jsx("button",{className:"btn btn-primary",onClick:_,disabled:j,children:" Refresh"})]})]}),n.jsxs("div",{className:"queue-stats",children:[n.jsxs("div",{className:"stat-card-simple",children:[n.jsx("span",{className:"stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"stat-value",children:N?.total||0}),n.jsx("div",{className:"stat-label",children:"Total in Queue"})]})]}),n.jsxs("div",{className:"stat-card-simple",children:[n.jsx("span",{className:"stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"stat-value",children:N?.processed||0}),n.jsx("div",{className:"stat-label",children:"Processed"})]})]}),n.jsxs("div",{className:"stat-card-simple",children:[n.jsx("span",{className:"stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"stat-value",children:N?.remaining||0}),n.jsx("div",{className:"stat-label",children:"Remaining"})]})]}),n.jsxs("div",{className:"stat-card-simple",children:[n.jsx("span",{className:"stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"stat-value",children:Object.keys(B).length}),n.jsx("div",{className:"stat-label",children:"Categories"})]})]})]}),u&&n.jsx("div",{className:"alert alert-error",children:u}),v&&n.jsx("div",{className:"alert alert-success",children:v}),o?n.jsxs("div",{className:"loading-state",children:[n.jsx("span",{className:"spinner"}),n.jsx("span",{children:"Loading queue..."})]}):s.length===0?n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"Queue is Empty"}),n.jsx("p",{children:"No celebrities in the training queue"}),n.jsx("small",{children:"Go to Training Workflow to generate names"})]}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"queue-sections",children:Object.entries(B).map(([X,te])=>n.jsxs("div",{className:"queue-section",children:[n.jsx("div",{className:"section-header",children:n.jsxs("h2",{children:[X,n.jsx("span",{className:"count-badge",children:te.length})]})}),n.jsx("div",{className:"queue-table-container",children:n.jsxs("table",{className:"queue-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Country"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:te.map(W=>n.jsxs("tr",{children:[n.jsx("td",{children:W.id}),n.jsx("td",{children:n.jsxs("strong",{children:[W.name," ",W.last_name]})}),n.jsx("td",{children:n.jsx("span",{className:"country-badge",children:W.country||"Unknown"})}),n.jsx("td",{children:n.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>R(W),disabled:y===W.id,children:y===W.id?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner-sm"}),"Removing..."]}):n.jsx(n.Fragment,{children:" Remove"})})})]},W.id))})]})})]},X))})}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" About Queue Management"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem",lineHeight:"1.8"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Queue:"})," These are celebrity names generated by AI, waiting to be processed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Processing:"})," Each person will be processed to download 20-70 images from the web"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Remove:"})," Use the Remove button to delete names you don't want to train"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Auto-refresh:"})," Queue updates automatically every 30 seconds"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Go to Training Workflow:"})," To generate more names or start processing"]})]})]})]})}function kv(){const[s,r]=g.useState([]),[o,c]=g.useState(!1),[u,f]=g.useState([]),[h,b]=g.useState(null),[y,p]=g.useState(!1),[v,x]=g.useState(!1),w=D=>{if(!D||D.length===0)return;const z=[],R=[];if(Array.from(D).forEach((B,X)=>{if(!B.type.startsWith("image/")){R.push(`${B.name}: Not an image file`);return}if(B.size>10*1024*1024){R.push(`${B.name}: File size must be less than 10MB`);return}z.push(B)}),R.length>0){if(b(R.join(", ")),z.length===0)return}else b(null);const q=z.map(B=>({file:B,preview:null,result:null,loading:!1}));q.forEach((B,X)=>{const te=new FileReader;te.onloadend=()=>{B.preview=te.result,X===q.length-1&&(r([...s,...q]),f([]))},te.readAsDataURL(B.file)}),q.length===0&&r([...s,...q])},N=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?p(!0):D.type==="dragleave"&&p(!1)},j=D=>{D.preventDefault(),D.stopPropagation(),p(!1),D.dataTransfer.files&&D.dataTransfer.files.length>0&&w(D.dataTransfer.files)},C=D=>{D.preventDefault(),D.target.files&&D.target.files.length>0&&w(D.target.files)},_=async()=>{if(s.length===0)return;c(!0),b(null);const D=[];for(let z=0;z<s.length;z++)try{const R=await bt.testRecognition(s[z].file);D.push({fileName:s[z].file.name,...R})}catch(R){let q="Failed to test recognition";R.response?.status===401||R.response?.status===403?q="Session expired - please log in again":R.response?.status===404?q="Recognition service not available":R.response?.status>=500?q="Server error - please try again later":R.code==="ECONNABORTED"?q="Request timeout - file may be too large":R.message&&(q=R.message),D.push({fileName:s[z].file.name,status:"error",message:q})}f(D),c(!1)},T=()=>{r([]),f([]),b(null)},O=D=>{const z=s.filter((R,q)=>q!==D);if(r(z),u.length>0){const R=u.filter((q,B)=>B!==D);f(R)}};return n.jsxs("div",{className:"page-container",children:[n.jsx(It,{pageName:"testing"}),n.jsx("h1",{children:"Test Recognition"}),n.jsx("p",{className:"subtitle",children:"Upload one or multiple images to test face recognition accuracy."}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{style:{marginTop:0},children:"Upload Images"}),n.jsxs("div",{className:`upload-zone ${y?"drag-active":""}`,onDragEnter:N,onDragLeave:N,onDragOver:N,onDrop:j,style:{border:`2px dashed ${y?"#f5a623":"#d1d5db"}`,borderRadius:"12px",padding:"2rem",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",background:y?"rgba(245, 166, 35, 0.05)":"#242424"},children:[n.jsx("input",{type:"file",id:"file-upload",accept:"image/*",multiple:!0,onChange:C,style:{display:"none"}}),n.jsxs("label",{htmlFor:"file-upload",style:{cursor:"pointer",display:"block"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("p",{style:{margin:"0 0 0.5rem 0",fontWeight:500},children:"Drop images here or click to browse"}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#999"},children:"Supports JPG, PNG, GIF (max 10MB per file) - Multiple files supported"})]})]}),h&&n.jsx("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:h}),s.length>0&&n.jsxs("div",{style:{marginTop:"1.5rem"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsxs("h4",{style:{margin:0},children:[s.length," image",s.length>1?"s":""," selected"]}),n.jsxs("div",{className:"button-group",children:[n.jsx("button",{className:"btn btn-primary",onClick:_,disabled:o||s.length===0,children:o?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Testing..."]}):` Test All (${s.length})`}),n.jsx("button",{className:"btn",onClick:T,disabled:o,style:{background:"#ef4444",color:"white",border:"none"},children:"Clear All"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:s.map((D,z)=>n.jsxs("div",{style:{position:"relative",border:"1px solid #3a3a3a",borderRadius:"8px",overflow:"hidden"},children:[D.preview&&n.jsx("img",{src:D.preview,alt:`Preview ${z+1}`,style:{width:"100%",height:"150px",objectFit:"cover"}}),n.jsx("div",{style:{padding:"0.5rem",fontSize:"0.75rem",wordBreak:"break-all"},children:D.file.name}),!o&&n.jsx("button",{onClick:()=>O(z),style:{position:"absolute",top:"4px",right:"4px",background:"rgba(239, 68, 68, 0.9)",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",fontSize:"1rem",lineHeight:"1",padding:0},children:""})]},z))})]})]}),u.length>0&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsx("h2",{children:"Recognition Results"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem",marginTop:"1rem"},children:u.map((D,z)=>n.jsxs("div",{className:"card",children:[n.jsx("h4",{style:{marginTop:0,fontSize:"0.875rem",color:"#999",wordBreak:"break-all"},children:D.fileName}),D.status==="success"&&D.person?n.jsxs("div",{className:"result-box",style:{border:"2px solid #10b981"},children:[n.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#10b981"},children:" Recognized"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem"},children:D.person}),D.best_match?.confidence_metrics?.confidence_percentage&&n.jsxs("div",{style:{marginTop:"0.75rem"},children:[n.jsxs("div",{style:{marginBottom:"0.5rem",fontSize:"0.875rem"},children:["Confidence: ",D.best_match.confidence_metrics.confidence_percentage.toFixed(2),"%"]}),n.jsx("div",{className:"progress-bar",style:{height:"6px"},children:n.jsx("div",{className:"progress-fill",style:{width:`${D.best_match.confidence_metrics.confidence_percentage}%`,backgroundColor:"#10b981"}})})]})]}):D.status==="no_faces"||D.status==="error"?n.jsxs("div",{className:"result-box",style:{border:"2px solid #f59e0b"},children:[n.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#f59e0b"},children:" No Face Detected"}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:D.message||"No valid faces found in the image"})]}):n.jsxs("div",{className:"result-box",style:{border:"2px solid #999"},children:[n.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#999"},children:" Unknown Person"}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:"No matching person found"})]})]},z))})]}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" Testing Tips"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsx("li",{children:"Use clear, frontal face photos for best results"}),n.jsx("li",{children:"Ensure good lighting and no obstructions"}),n.jsx("li",{children:"Single face per image works best"}),n.jsx("li",{children:"Test with various angles and expressions"}),n.jsx("li",{children:"Images should be similar to training data quality"})]})]})]})}function Dv({src:s,alt:r,onClick:o,style:c}){const u=g.useRef(null),[f,h]=g.useState(!1),[b,y]=g.useState(!1),[p,v]=g.useState(!1),x=g.useRef(0),w=2;g.useEffect(()=>{const j=u.current;if(!j)return;const C=new IntersectionObserver(([_])=>{_.isIntersecting&&(v(!0),C.disconnect())},{rootMargin:"200px"});return C.observe(j),()=>C.disconnect()},[]);const N=g.useCallback(()=>{x.current<w?(x.current+=1,setTimeout(()=>{y(!1)},1e3+x.current*1500)):y(!0)},[]);return n.jsx("div",{ref:u,style:{minHeight:"120px",...c},children:p&&!b?n.jsx("img",{src:s,alt:r,onClick:o,onLoad:()=>h(!0),onError:N,style:{cursor:"zoom-in",opacity:f?1:.3,transition:"opacity 0.3s"}}):b?n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"120px",color:"#666",fontSize:"0.8rem",cursor:"pointer"},onClick:()=>{x.current=0,y(!1)},title:"Click to retry",children:" Load failed  click to retry"}):n.jsx("div",{style:{height:"120px",background:"#1a1a1a"}})})}function Bv(){const[s,r]=g.useState("serbia"),[o,c]=g.useState("production"),[u,f]=g.useState(1),[h,b]=g.useState(""),[y,p]=g.useState(null),[v,x]=g.useState(!1),[w,N]=g.useState(null),[j,C]=g.useState(null),[_,T]=g.useState(null),[O,D]=g.useState(""),[z,R]=g.useState(""),[q,B]=g.useState(new Set),[X,te]=g.useState(!1),[W,H]=g.useState({}),[ue,ge]=g.useState(!1),[Ee,Oe]=g.useState(!1),Q=50,le=24;g.useEffect(()=>{(async()=>{ge(!0);try{const re=await bt.getApprovals(s,o);re.success&&H(re.data.approvals||{})}catch(re){console.error("Failed to load approvals:",re)}finally{ge(!1)}})()},[s,o]);const[J,be]=g.useState({}),[je,A]=g.useState(null);g.useEffect(()=>{const ae=setTimeout(()=>{R(O),f(1)},300);return()=>clearTimeout(ae)},[O]),g.useEffect(()=>{Ee&&h&&W[h]&&(b(""),p(null))},[Ee,h,W]);const{data:L}=qs(async()=>{const ae=await bt.getTrainingProgress(s,o,u,Q,z||null,Ee);return ae.success?ae:null},3e4,!0,[s,o,u,z,Ee]),Z=L?.data?.folders||[],I=L?.data?.pagination||{},oe=L?.data?.summary||{},ye=ae=>!!W[ae],de=Z,Me=async(ae,re=1)=>{if(ae)try{x(!0),N(null);const qe=await bt.getFolderImages(ae,s,o,re,le);qe.success&&(p(qe.data),qe.data?.pagination?.total_items!==void 0&&be(Pe=>({...Pe,[ae]:qe.data.pagination.total_items})))}catch(qe){N(qe.message||"Failed to load images")}finally{x(!1)}},Qe=ae=>{const re=ae.target.value;b(re),re?Me(re,1):p(null)},zt=ae=>{console.log("Domain change triggered:",ae.target.value),r(ae.target.value),f(1),b(""),p(null),D("")},jn=ae=>{c(ae.target.value),f(1),b(""),p(null),D("")},Et=ae=>{f(ae),window.scrollTo({top:0,behavior:"smooth"})},Sn=async ae=>{if(confirm("Are you sure you want to delete this image? This will also remove it from the recognition database."))try{C(ae),await bt.deleteImage(ae,s),await Me(h,y?.pagination?.page||1)}catch(re){N(re.message||"Failed to delete image")}finally{C(null)}},kt=ae=>{const re=new Set(q);re.has(ae)?re.delete(ae):re.add(ae),B(re)},se=()=>{if(!y?.images)return;const ae=new Set(y.images.map(re=>typeof re=="string"?re:re.path));B(ae)},M=()=>{B(new Set)},ie=async()=>{if(q.size===0)return;const ae=q.size;if(confirm(`Are you sure you want to delete ${ae} image${ae>1?"s":""}? This will also remove them from the recognition database.`))try{te(!0),N(null);const re=Array.from(q);let qe=0,Pe=0;for(const Te of re)try{await bt.deleteImage(Te,s),qe++}catch(jt){console.error(`Failed to delete ${Te}:`,jt),Pe++}B(new Set),await Me(h,y?.pagination?.page||1),Pe>0&&N(`Deleted ${qe} images, but ${Pe} failed to delete.`)}catch(re){N(re.message||"Failed to delete images")}finally{te(!1)}},Se=ae=>{T(ae)},we=()=>{T(null)},at=()=>{if(!de||!h)return-1;const ae=de.findIndex(re=>re.name===h);return ae===-1?-1:(u-1)*Q+ae},ne=()=>{if(!de||de.length===0)return;const ae=de.findIndex(re=>re.name===h);if(ae>0){const re=de[ae-1];b(re.name),Me(re.name,1),B(new Set)}else if(u>1){const re=u-1;A({select:"last",forPage:re}),f(re)}},pe=()=>{if(!de||de.length===0)return;const ae=de.findIndex(re=>re.name===h);if(ae<de.length-1){const re=de[ae+1];b(re.name),Me(re.name,1),B(new Set)}else if(u<(I.total_pages||1)){const re=u+1;A({select:"first",forPage:re}),f(re)}};g.useEffect(()=>{if(je&&de&&de.length>0&&I.page===je.forPage){if(je.select==="first"){const ae=de[0];b(ae.name),Me(ae.name,1),B(new Set)}else if(je.select==="last"){const ae=de[de.length-1];b(ae.name),Me(ae.name,1),B(new Set)}A(null)}},[de,je,I.page]);const Ye=async()=>{if(h)try{const ae=y?.pagination?.total_items||0;await bt.approvePerson(h,s,o,ae),H(re=>({...re,[h]:{approved_at:new Date().toISOString(),image_count:ae}}))}catch(ae){console.error("Failed to approve:",ae),N("Failed to save approval")}},rt=async()=>{if(h)try{await bt.unapprovePerson(h,s,o),H(ae=>{const re={...ae};return delete re[h],re})}catch(ae){console.error("Failed to unapprove:",ae),N("Failed to remove approval")}},Qa=()=>{Ye(),pe()},[$n,mn]=g.useState(!1),ja=async()=>{if(!h)return;const ae=y?.pagination?.total_items||0,re=ae>0?`Are you sure you want to delete "${h}"?

This will permanently delete ${ae} image(s) and the database entry.

This action cannot be undone.`:`Are you sure you want to delete "${h}"?

This person has 0 images and will be removed from the database.`;if(confirm(re)){mn(!0),N(null);try{const qe=await bt.deletePerson(h,s);if(qe.success){const Pe=de.findIndex(Te=>Te.name===h);if(Pe<de.length-1){const Te=de[Pe+1];b(Te.name),Me(Te.name,1)}else if(Pe>0){const Te=de[Pe-1];b(Te.name),Me(Te.name,1)}else b(""),p(null);B(new Set),W[h]&&H(Te=>{const jt={...Te};return delete jt[h],jt})}else N(qe.error||"Failed to delete person")}catch(qe){N(qe.response?.data?.error||qe.message||"Failed to delete person")}finally{mn(!1)}}},lt=()=>{if(!I||I.total_pages<=1)return null;const ae=[],re=5;let qe=Math.max(1,u-Math.floor(re/2)),Pe=Math.min(I.total_pages,qe+re-1);Pe-qe<re-1&&(qe=Math.max(1,Pe-re+1));for(let Te=qe;Te<=Pe;Te++)ae.push(Te);return n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center",marginTop:"2rem"},children:[n.jsx("button",{className:"btn",onClick:()=>Et(1),disabled:u===1,style:{padding:"0.5rem 1rem",opacity:u===1?.5:1,cursor:u===1?"not-allowed":"pointer"},children:" First"}),n.jsx("button",{className:"btn",onClick:()=>Et(u-1),disabled:u===1,style:{padding:"0.5rem 1rem",opacity:u===1?.5:1,cursor:u===1?"not-allowed":"pointer"},children:" Prev"}),qe>1&&n.jsx("span",{children:"..."}),ae.map(Te=>n.jsx("button",{className:"btn",onClick:()=>Et(Te),style:{padding:"0.5rem 1rem",background:Te===u?"#f5a623":"#3a3a3a",color:Te===u?"white":"#1a202c",fontWeight:Te===u?"bold":"normal"},children:Te},Te)),Pe<I.total_pages&&n.jsx("span",{children:"..."}),n.jsx("button",{className:"btn",onClick:()=>Et(u+1),disabled:u===I.total_pages,style:{padding:"0.5rem 1rem",opacity:u===I.total_pages?.5:1,cursor:u===I.total_pages?"not-allowed":"pointer"},children:"Next "}),n.jsx("button",{className:"btn",onClick:()=>Et(I.total_pages),disabled:u===I.total_pages,style:{padding:"0.5rem 1rem",opacity:u===I.total_pages?.5:1,cursor:u===I.total_pages?"not-allowed":"pointer"},children:"Last "}),n.jsxs("span",{style:{marginLeft:"1rem",color:"#718096"},children:["Page ",u," of ",I.total_pages]})]})};return n.jsxs("div",{className:"page-container",children:[n.jsx(It,{pageName:"gallery"}),n.jsx("h1",{children:"Image Gallery"}),n.jsx("p",{className:"subtitle",children:"Browse and manage training images by domain, view, and folder."}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"domain-select",children:"Domain"}),n.jsxs("select",{id:"domain-select",className:"form-input",value:s,onChange:zt,style:{fontSize:"1rem",padding:"0.75rem"},children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"view-select",children:"View"}),n.jsxs("select",{id:"view-select",className:"form-input",value:o,onChange:jn,style:{fontSize:"1rem",padding:"0.75rem"},children:[n.jsx("option",{value:"production",children:"Production (Live Recognition)"}),n.jsx("option",{value:"staging",children:"Staging (Awaiting Deployment)"})]})]})]}),oe&&n.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f7fafc",borderRadius:"0.5rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#718096"},children:"Total People"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2d3748"},children:I.total_items||0})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#718096"},children:"Total Images"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2d3748"},children:oe.total_images||0})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#718096"},children:"Ready (50+ images)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#38a169"},children:oe.ready_for_training||0})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#718096"},children:"Insufficient (<20)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#e53e3e"},children:oe.insufficient_images||0})]})]})]}),lt(),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[n.jsx("label",{htmlFor:"folder-search",children:"Search Person"}),n.jsx("input",{id:"folder-search",type:"text",className:"form-input",value:O,onChange:ae=>D(ae.target.value),placeholder:"Type to filter people...",style:{fontSize:"1rem",padding:"0.75rem"}}),O&&n.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#718096"},children:["Found ",de.length," of ",Z.length," people"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[n.jsx("input",{id:"hide-approved",type:"checkbox",checked:Ee,onChange:ae=>Oe(ae.target.checked),style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#f5a623"}}),n.jsxs("label",{htmlFor:"hide-approved",style:{cursor:"pointer",fontSize:"0.95rem",color:"#4a5568",userSelect:"none"},children:["Hide approved (",Object.keys(W).length," approved)"]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"folder-select",children:"Select Training Folder"}),n.jsxs("select",{id:"folder-select",className:"form-input",value:h,onChange:Qe,style:{fontSize:"1rem",padding:"0.75rem"},children:[n.jsx("option",{value:"",children:"-- Choose a folder --"}),de&&de.map((ae,re)=>{const qe=J[ae.name]??ae.image_count??0;return n.jsxs("option",{value:ae.name,children:[ye(ae.name)?" ":"",ae.display_name||ae.name," (",qe," images)"]},re)})]})]}),h&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"1rem",padding:"1rem",background:"#f7fafc",borderRadius:"0.5rem"},children:[n.jsx("button",{className:"btn",onClick:ne,disabled:at()<=0,style:{padding:"0.5rem 1rem",opacity:at()<=0?.5:1,cursor:at()<=0?"not-allowed":"pointer"},children:" Previous"}),n.jsxs("span",{style:{color:"#4a5568",fontWeight:"500"},children:["Person ",at()+1," of ",I.total_items||de.length]}),n.jsx("button",{className:"btn",onClick:pe,disabled:at()>=(I.total_items||de.length)-1,style:{padding:"0.5rem 1rem",opacity:at()>=(I.total_items||de.length)-1?.5:1,cursor:at()>=(I.total_items||de.length)-1?"not-allowed":"pointer"},children:"Next "}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"0.5rem"},children:[ye(h)?n.jsx("button",{className:"btn",onClick:rt,style:{background:"#718096",color:"white",border:"none",padding:"0.5rem 1rem"},children:" Approved - Undo"}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn",onClick:Ye,style:{background:"#38a169",color:"white",border:"none",padding:"0.5rem 1rem"},children:" Approve"}),n.jsx("button",{className:"btn",onClick:Qa,style:{background:"#2b6cb0",color:"white",border:"none",padding:"0.5rem 1rem"},children:" Approve & Next "})]}),n.jsx("button",{className:"btn",onClick:ja,disabled:$n,style:{background:"#dc2626",color:"white",border:"none",padding:"0.5rem 1rem",opacity:$n?.7:1},title:"Delete this person from the database",children:$n?"Removing...":"Remove"})]})]})]}),w&&n.jsx("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:w}),v?n.jsxs("div",{className:"loading-state",style:{marginTop:"3rem"},children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading images..."})]}):y?n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[n.jsxs("h2",{style:{margin:0},children:[y.folder," - ",y.pagination?.total_items||0," images"]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",alignItems:"center"},children:[q.size>0&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{style:{color:"#4a5568",fontWeight:"500"},children:[q.size," selected"]}),n.jsx("button",{className:"btn",onClick:se,style:{background:"#4299e1",color:"white",border:"none"},children:"Select All"}),n.jsx("button",{className:"btn",onClick:M,style:{background:"#718096",color:"white",border:"none"},children:"Clear"}),n.jsx("button",{className:"btn",onClick:ie,disabled:X,style:{background:"#e53e3e",color:"white",border:"none"},children:X?"Deleting...":"Delete Selected"})]}),n.jsx("button",{className:"btn",onClick:()=>Me(h,y.pagination?.page||1),style:{background:"#f5a623",color:"white",border:"none"},children:"Refresh"})]})]}),y.images&&y.images.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"gallery-grid",children:y.images.map((ae,re)=>{const qe=typeof ae=="string"?ae:ae.name,Pe=typeof ae=="string"?ae:ae.path,Te=q.has(Pe),jt=`https://facerecognition.mpanel.app/api/training/image/production/${s}/${qe}`;return n.jsxs("div",{className:"gallery-item",style:{border:Te?"3px solid #e53e3e":"1px solid #3a3a3a",boxShadow:Te?"0 0 10px rgba(229, 62, 62, 0.5)":"none",position:"relative"},children:[n.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",zIndex:10},children:n.jsx("input",{type:"checkbox",checked:Te,onChange:()=>kt(Pe),style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"#e53e3e"}})}),n.jsx(Dv,{src:jt,alt:`${y.folder} - ${re+1}`,onClick:()=>Se({name:qe,path:Pe,url:jt})}),n.jsxs("div",{className:"gallery-item-overlay",children:[n.jsx("button",{className:"gallery-action-btn view-btn",onClick:()=>Se({name:qe,path:Pe,url:jt}),title:"View full size",children:""}),n.jsx("button",{className:"gallery-action-btn delete-btn",onClick:()=>Sn(Pe),disabled:j===Pe,title:"Delete image",children:j===Pe?"":""})]}),n.jsx("div",{className:"gallery-item-info",children:n.jsx("small",{children:qe||`Image ${re+1}`})})]},re)})}),y.pagination&&y.pagination.total_pages>1&&n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center",marginTop:"2rem"},children:[n.jsx("button",{className:"btn",onClick:()=>Me(h,1),disabled:y.pagination.page===1,style:{padding:"0.5rem 1rem",opacity:y.pagination.page===1?.5:1,cursor:y.pagination.page===1?"not-allowed":"pointer"},children:" First"}),n.jsx("button",{className:"btn",onClick:()=>Me(h,y.pagination.page-1),disabled:y.pagination.page===1,style:{padding:"0.5rem 1rem",opacity:y.pagination.page===1?.5:1,cursor:y.pagination.page===1?"not-allowed":"pointer"},children:" Prev"}),n.jsxs("span",{style:{color:"#718096"},children:["Page ",y.pagination.page," of ",y.pagination.total_pages]}),n.jsx("button",{className:"btn",onClick:()=>Me(h,y.pagination.page+1),disabled:y.pagination.page===y.pagination.total_pages,style:{padding:"0.5rem 1rem",opacity:y.pagination.page===y.pagination.total_pages?.5:1,cursor:y.pagination.page===y.pagination.total_pages?"not-allowed":"pointer"},children:"Next "}),n.jsx("button",{className:"btn",onClick:()=>Me(h,y.pagination.total_pages),disabled:y.pagination.page===y.pagination.total_pages,style:{padding:"0.5rem 1rem",opacity:y.pagination.page===y.pagination.total_pages?.5:1,cursor:y.pagination.page===y.pagination.total_pages?"not-allowed":"pointer"},children:"Last "})]})]}):n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"No Images Found"}),n.jsx("p",{children:"This folder doesn't contain any images yet."})]})]}):h?n.jsxs("div",{className:"empty-state",style:{marginTop:"3rem"},children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"Loading..."}),n.jsx("p",{children:"Please wait while we load the images."})]}):n.jsxs("div",{className:"empty-state",style:{marginTop:"3rem"},children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"No Folder Selected"}),n.jsx("p",{children:"Select a training folder above to view its images."})]}),_&&n.jsx("div",{className:"lightbox",onClick:we,children:n.jsxs("div",{className:"lightbox-content",onClick:ae=>ae.stopPropagation(),children:[n.jsx("button",{className:"lightbox-close",onClick:we,children:""}),n.jsx("img",{src:_.url||_.path,alt:_.name||"Full size image"}),n.jsxs("div",{className:"lightbox-info",children:[n.jsx("p",{children:_.name||"Image"}),_.size&&n.jsxs("small",{children:["Size: ",(_.size/1024).toFixed(2)," KB"]})]})]})}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" Gallery Features"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Production View:"})," Browse all 29k+ images currently used for face recognition"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Staging View:"})," Review validated images awaiting deployment"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Domain Switching:"})," Switch between Serbia and Slovenia databases"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Pagination:"})," Navigate large datasets efficiently (50 items per page)"]}),n.jsx("li",{children:"Click any image to view full size"}),n.jsx("li",{children:"Delete unwanted or low-quality images"}),n.jsx("li",{children:"Minimum 20 images per person recommended, 50+ optimal for training"})]})]})]})}function Ov(){const[s,r]=g.useState(!1),[o,c]=g.useState(null),[u,f]=g.useState([]),[h,b]=g.useState(null);return{candidates:u,statistics:h,loading:s,error:o,generateCandidates:async(_,T,O)=>{r(!0),c(null),f([]),b(null);try{const D=await pt.generateCandidates(_,T,O);if(D.success){const z=D.candidates.map(R=>({...R,isSelected:!R.exists_in_db}));return f(z),b(D.statistics),D}else throw new Error(D.message||"Failed to generate candidates")}catch(D){const z=D.response?.data?.error||D.message||"Failed to generate candidates";throw c(z),D}finally{r(!1)}},toggleCandidate:_=>{f(T=>T.map(O=>O.wikidata_id===_?{...O,isSelected:!O.isSelected}:O))},selectAll:()=>{f(_=>_.map(T=>({...T,isSelected:!0})))},selectOnlyNew:()=>{f(_=>_.map(T=>({...T,isSelected:!T.exists_in_db})))},deselectAll:()=>{f(_=>_.map(T=>({...T,isSelected:!1})))},getSelectedCandidates:()=>u.filter(_=>_.isSelected),getSelectedCount:()=>u.filter(_=>_.isSelected).length,clearCandidates:()=>{f([]),b(null),c(null)}}}function Mv(){const s=Wn(),[r,o]=g.useState([]),[c,u]=g.useState([]),[f,h]=g.useState("serbia"),[b,y]=g.useState(""),[p,v]=g.useState("new"),[x,w]=g.useState(!1),{candidates:N,statistics:j,loading:C,error:_,generateCandidates:T,toggleCandidate:O,selectAll:D,selectOnlyNew:z,deselectAll:R,getSelectedCount:q,clearCandidates:B}=Ov();g.useEffect(()=>{(async()=>{try{const[ue,ge]=await Promise.all([pt.getCountries(),pt.getOccupations()]);ue.success&&o(ue.countries),ge.success&&u(ge.occupations)}catch(ue){console.error("Failed to load data:",ue)}})()},[]),g.useEffect(()=>{c.length>0&&!b&&y(c[0].id||c[0].code)},[c]);const X=async()=>{if(!(!f||!b)){w(!0);try{await T(f,b,f),v("new")}catch(H){console.error("Generate failed:",H)}finally{w(!1)}}},te=async()=>{const H=N.filter(ue=>ue.isSelected);if(H.length===0){alert("Please select at least one candidate");return}try{const ue=await pt.startBatch(H,f);ue.success&&s(`/training/batch/${ue.batch_id}`)}catch(ue){console.error("Failed to start batch:",ue)}},W=N.filter(H=>p==="new"?!H.exists_in_db:p==="existing"?H.exists_in_db:!0);return n.jsxs("div",{className:"generate-candidates-container",children:[n.jsx(It,{pageName:"automated-generate"}),n.jsxs("div",{className:"generate-header",children:[n.jsx("h1",{children:"Generate Training Candidates"}),n.jsx("p",{children:"Select country and occupation to generate celebrity candidates from Wikidata"})]}),n.jsx("div",{className:"form-section",children:n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Country"}),n.jsx("select",{value:f,onChange:H=>h(H.target.value),disabled:x||C,children:r.map(H=>n.jsx("option",{value:H.id||H.code,children:H.name},H.id||H.code))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Occupation"}),n.jsx("select",{value:b,onChange:H=>y(H.target.value),disabled:x||C,children:c.map(H=>n.jsx("option",{value:H.id||H.code,children:H.name},H.id||H.code))})]}),n.jsx(Le,{content:"Query Wikidata to find celebrities from the selected country and occupation",position:"top",children:n.jsx("button",{onClick:X,disabled:x||C,className:"btn-primary",style:{alignSelf:"flex-end"},children:x?"Generating...":"Generate"})})]})}),_&&n.jsxs("div",{className:"error-box",children:[n.jsx("p",{children:"Error"}),n.jsx("p",{children:_})]}),N.length>0&&n.jsxs("div",{className:"results-section",children:[j&&n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-box blue",children:[n.jsx("p",{children:"Total Found"}),n.jsx("div",{className:"stat-number",children:j.total})]}),n.jsxs("div",{className:"stat-box green",children:[n.jsx("p",{children:"New People"}),n.jsx("div",{className:"stat-number",children:j.new_people})]}),n.jsxs("div",{className:"stat-box gray",children:[n.jsx("p",{children:"Already in DB"}),n.jsx("div",{className:"stat-number",children:j.existing_people})]})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("button",{onClick:()=>v("new"),className:`filter-button ${p==="new"?"active green":""}`,children:["Show New (",j?.new_people||0,")"]}),n.jsxs("button",{onClick:()=>v("existing"),className:`filter-button ${p==="existing"?"active gray":""}`,children:["Show Existing (",j?.existing_people||0,")"]}),n.jsxs("button",{onClick:()=>v("all"),className:`filter-button ${p==="all"?"active blue":""}`,children:["Show All (",j?.total||0,")"]})]}),n.jsxs("div",{className:"selection-buttons",children:[n.jsx("button",{onClick:z,className:"selection-button green",children:"Select New Only"}),n.jsx("button",{onClick:D,className:"selection-button blue",children:"Select All"}),n.jsx("button",{onClick:R,className:"selection-button gray",children:"Deselect All"}),n.jsx("button",{onClick:B,className:"selection-button red",children:"Clear Results"})]}),n.jsx("div",{className:"candidates-list",children:W.length===0?n.jsx("div",{className:"candidates-empty",children:"No candidates match the current filter"}):n.jsx(n.Fragment,{children:W.map(H=>n.jsxs("div",{className:"candidate-item",children:[n.jsx("input",{type:"checkbox",checked:H.isSelected,onChange:()=>O(H.wikidata_id),className:"candidate-checkbox"}),n.jsxs("div",{className:"candidate-content",children:[n.jsxs("div",{className:"candidate-name",children:[H.full_name||H.name,H.exists_in_db?n.jsx(Le,{content:`Already trained with ${H.existing_photo_count||0} photos. Training again will add ${50-(H.existing_photo_count||0)} more photos (target: 50)`,position:"top",children:n.jsxs("span",{className:"candidate-badge exists",children:[" EXISTS (",H.existing_photo_count||0,")"]})}):n.jsx("span",{className:"candidate-badge new",children:" NEW"})]}),n.jsxs("div",{className:"candidate-meta",children:[n.jsx("a",{href:H.wikipedia_url,target:"_blank",rel:"noopener noreferrer",children:"Wikipedia"}),n.jsxs("span",{children:["Wikidata: ",H.wikidata_id]}),H.wikimedia_available_count>0&&n.jsxs("span",{children:[" ",H.wikimedia_available_count," Wikimedia photos"]}),H.exists_in_db&&H.existing_photo_count>0&&n.jsxs("span",{className:"extra-info",children:[H.existing_photo_count," in DB  Will add ",Math.max(0,50-H.existing_photo_count)," more"]})]}),"                    "]})]},H.wikidata_id))})}),n.jsx("div",{className:"action-buttons",children:n.jsxs("button",{onClick:te,disabled:q()===0,className:"btn-primary",children:["Start Training (",q()," selected)"]})})]}),N.length===0&&!C&&!_&&n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:'Select a country and occupation, then click "Generate" to find celebrity candidates'})})]})}function Uv(s,r=3e3){const[o,c]=g.useState(null),u=g.useCallback(async()=>{if(!s)return null;try{c(null);const w=await pt.getBatchStatus(s);if(w.success)return w;throw new Error(w.message||"Failed to fetch batch status")}catch(w){const N=w.message||"Failed to fetch batch status";throw c(N),w}},[s]),{data:f,loading:h,refetch:b,isPolling:y,startPolling:p,stopPolling:v}=qs(u,r,!!s),x=g.useCallback(async()=>{if(s)try{const w=await pt.cancelBatch(s);return w.success&&(v(),await b()),w}catch(w){throw c(w.message||"Failed to cancel batch"),w}},[s,v,b]);return{batchStatus:f,loading:h,error:o,refetch:b,isPolling:y,startPolling:p,stopPolling:v,cancelBatch:x}}function Yh(){const{batchId:s}=Fy(),r=Wn(),{batchStatus:o,loading:c,error:u,isPolling:f,startPolling:h,stopPolling:b,cancelBatch:y}=Uv(s,3e3);g.useEffect(()=>(h(),()=>b()),[h,b]),g.useEffect(()=>{o?.status==="completed"&&(b(),setTimeout(()=>{r("/training/review")},2e3))},[o?.status,r,b]);const p=async()=>{if(confirm("Are you sure you want to cancel this batch?"))try{await y()}catch(_){console.error("Failed to cancel batch:",_)}},v=()=>o?Math.round(o.completed/o.total*100):0,x={page:{width:"100%",minHeight:"100vh",padding:"24px",paddingBottom:"100px",boxSizing:"border-box",backgroundColor:"#f8fafc"},container:{maxWidth:"1200px",margin:"0 auto"},header:{marginBottom:"24px"},title:{fontSize:"28px",fontWeight:"bold",color:"#1a1a1a",margin:"0 0 8px 0"},subtitle:{color:"#666",margin:0,fontSize:"14px"},batchId:{fontFamily:"monospace",backgroundColor:"#3a3a3a",padding:"2px 8px",borderRadius:"4px"},card:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #3a3a3a"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},cardTitle:{fontSize:"20px",fontWeight:"600",color:"#1a1a1a",margin:0},statusBadge:{padding:"6px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},progressBarContainer:{backgroundColor:"#3a3a3a",borderRadius:"10px",height:"20px",overflow:"hidden",marginBottom:"24px"},progressBar:{height:"100%",borderRadius:"10px",transition:"width 0.5s ease-in-out"},progressText:{display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#666",marginBottom:"8px"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},statCard:{padding:"20px",borderRadius:"12px",textAlign:"center"},statLabel:{fontSize:"13px",color:"#666",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},statValue:{fontSize:"32px",fontWeight:"bold",margin:0},personCard:{border:"2px solid #3a3a3a",borderRadius:"12px",padding:"20px",marginBottom:"16px",backgroundColor:"#fff",transition:"all 0.2s ease"},personHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},personInfo:{display:"flex",alignItems:"center",gap:"12px"},personIcon:{fontSize:"28px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},personName:{fontSize:"16px",fontWeight:"600",color:"#1a1a1a",margin:"0 0 4px 0",textTransform:"capitalize"},wikidataId:{fontSize:"12px",color:"#666",margin:0},miniProgressContainer:{backgroundColor:"#3a3a3a",borderRadius:"4px",height:"8px",overflow:"hidden",marginTop:"8px"},miniProgressBar:{height:"100%",borderRadius:"4px",transition:"width 0.3s ease"},progressLabel:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",marginBottom:"4px"},btn:{padding:"10px 20px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.2s ease"},pollingIndicator:{display:"flex",alignItems:"center",gap:"8px",marginTop:"16px",fontSize:"13px",color:"#666"},pulsingDot:{width:"8px",height:"8px",backgroundColor:"#3b82f6",borderRadius:"50%",animation:"pulse 1.5s ease-in-out infinite"},completionBanner:{marginTop:"24px",padding:"24px",borderRadius:"12px",border:"2px solid"}},w=_=>{switch(_){case"completed":return{badge:{backgroundColor:"#dcfce7",color:"#166534"},border:"#86efac",bg:"#f0fdf4",icon:{backgroundColor:"#dcfce7"}};case"processing":return{badge:{backgroundColor:"#dbeafe",color:"#1d4ed8"},border:"#93c5fd",bg:"#eff6ff",icon:{backgroundColor:"#dbeafe"}};case"failed":return{badge:{backgroundColor:"#fef2f2",color:"#dc2626"},border:"#fca5a5",bg:"#fef2f2",icon:{backgroundColor:"#fef2f2"}};default:return{badge:{backgroundColor:"#333",color:"#999"},border:"#3a3a3a",bg:"#242424",icon:{backgroundColor:"#333"}}}},N=_=>{switch(_){case"completed":return"";case"processing":return"";case"failed":return"";default:return""}},j=()=>o?.status==="completed"?"#16a34a":o?.status==="cancelled"?"#dc2626":"#3b82f6";if(c&&!o)return n.jsx("div",{style:x.page,children:n.jsx("div",{style:x.container,children:n.jsxs("div",{style:{...x.card,textAlign:"center",padding:"60px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #3a3a3a",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),n.jsx("p",{style:{color:"#666",fontSize:"16px"},children:"Loading batch status..."})]})})});if(u&&!o)return n.jsx("div",{style:x.page,children:n.jsx("div",{style:x.container,children:n.jsxs("div",{style:{...x.card,backgroundColor:"#fef2f2",borderColor:"#fca5a5"},children:[n.jsx("p",{style:{fontWeight:"600",color:"#dc2626",marginBottom:"8px",fontSize:"18px"},children:"Error Loading Batch"}),n.jsx("p",{style:{color:"#991b1b",marginBottom:"20px"},children:u}),n.jsx("button",{onClick:()=>r("/training/generate"),style:{...x.btn,backgroundColor:"#dc2626",color:"#fff"},children:"Back to Generate"})]})})});const C=o?.status==="running"?"Processing":o?.status==="completed"?"Complete":o?.status==="cancelled"?"Cancelled":"Unknown";return n.jsxs("div",{style:x.page,children:[n.jsx("style",{children:`
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
      `}),n.jsxs("div",{style:x.container,children:[n.jsx(It,{pageName:"automated-batch"}),n.jsxs("div",{style:x.header,children:[n.jsx("h1",{style:x.title,children:"Batch Training Progress"}),n.jsxs("p",{style:x.subtitle,children:["Batch ID: ",n.jsx("span",{style:x.batchId,children:s})]})]}),n.jsxs("div",{style:x.card,children:[n.jsxs("div",{style:x.cardHeader,children:[n.jsxs("div",{children:[n.jsx("h2",{style:x.cardTitle,children:"Overall Progress"}),n.jsx("p",{style:{color:"#666",margin:"4px 0 0 0",fontSize:"14px"},children:C})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o?.status==="running"&&n.jsx("button",{onClick:p,style:{...x.btn,backgroundColor:"#dc2626",color:"#fff"},children:"Cancel Batch"}),n.jsx("div",{style:{...x.statusBadge,backgroundColor:o?.status==="completed"?"#dcfce7":o?.status==="cancelled"?"#fef2f2":"#dbeafe",color:o?.status==="completed"?"#166534":o?.status==="cancelled"?"#dc2626":"#1d4ed8"},children:C})]})]}),n.jsxs("div",{style:x.progressText,children:[n.jsxs("span",{children:[o?.completed||0," of ",o?.total||0," people processed"]}),n.jsxs("span",{style:{fontWeight:"600"},children:[v(),"%"]})]}),n.jsx("div",{style:x.progressBarContainer,children:n.jsx("div",{style:{...x.progressBar,width:`${v()}%`,backgroundColor:j()}})}),n.jsxs("div",{style:x.statsGrid,children:[n.jsxs("div",{style:{...x.statCard,backgroundColor:"#eff6ff",borderLeft:"4px solid #3b82f6"},children:[n.jsx("p",{style:x.statLabel,children:"Total"}),n.jsx("p",{style:{...x.statValue,color:"#3b82f6"},children:o?.total||0})]}),n.jsxs("div",{style:{...x.statCard,backgroundColor:"#f0fdf4",borderLeft:"4px solid #16a34a"},children:[n.jsx("p",{style:x.statLabel,children:"Completed"}),n.jsx("p",{style:{...x.statValue,color:"#16a34a"},children:o?.completed||0})]}),n.jsxs("div",{style:{...x.statCard,backgroundColor:"#fefce8",borderLeft:"4px solid #ca8a04"},children:[n.jsx("p",{style:x.statLabel,children:"Processing"}),n.jsx("p",{style:{...x.statValue,color:"#ca8a04"},children:o?.processing||0})]}),n.jsxs("div",{style:{...x.statCard,backgroundColor:"#fef2f2",borderLeft:"4px solid #dc2626"},children:[n.jsx("p",{style:x.statLabel,children:"Failed"}),n.jsx("p",{style:{...x.statValue,color:"#dc2626"},children:o?.failed||0})]})]}),f&&o?.status==="running"&&n.jsxs("div",{style:x.pollingIndicator,children:[n.jsx("div",{style:x.pulsingDot}),n.jsx("span",{children:"Auto-refreshing every 3 seconds..."})]})]}),n.jsxs("div",{style:x.card,children:[n.jsx("h2",{style:{...x.cardTitle,marginBottom:"20px"},children:"Person-by-Person Progress"}),o?.people?.length===0?n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"No people in this batch"}):n.jsx("div",{children:o?.people?.map(_=>{const T=w(_.status);return n.jsxs("div",{style:{...x.personCard,borderColor:T.border,backgroundColor:T.bg},children:[n.jsxs("div",{style:x.personHeader,children:[n.jsxs("div",{style:x.personInfo,children:[n.jsx("div",{style:{...x.personIcon,...T.icon,color:T.badge.color,fontWeight:"bold"},children:N(_.status)}),n.jsxs("div",{children:[n.jsx("h3",{style:x.personName,children:_.full_name||_.name?.replace(/_/g," ")}),n.jsxs("p",{style:x.wikidataId,children:["Wikidata: ",_.wikidata_id]})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{...x.statusBadge,...T.badge,textTransform:"uppercase",fontSize:"11px",letterSpacing:"0.5px"},children:_.status||"pending"}),_.gallery_url&&n.jsx("a",{href:`https://facerecognition.mpanel.app${_.gallery_url}`,target:"_blank",rel:"noopener noreferrer",style:{padding:"4px 8px",backgroundColor:"#3b82f6",color:"#fff",fontSize:"11px",borderRadius:"4px",textDecoration:"none"},children:"Gallery"})]})]}),_.current_step&&n.jsxs("div",{style:{fontSize:"13px",color:"#666",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{color:"#3b82f6"},children:""}),_.current_step.replace(/_/g," ")]}),_.photos_downloaded!==void 0&&n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsxs("div",{style:x.progressLabel,children:[n.jsx("span",{children:"Images Downloaded"}),n.jsxs("span",{style:{fontWeight:"600"},children:[_.photos_downloaded||0,(_.photos_from_wikimedia!==void 0||_.photos_from_serp!==void 0)&&n.jsxs("span",{style:{color:"#666",fontWeight:"normal"},children:[" ","(Wikimedia: ",_.photos_from_wikimedia||0,", SERP: ",_.photos_from_serp||0,")"]})]})]}),n.jsx("div",{style:x.miniProgressContainer,children:n.jsx("div",{style:{...x.miniProgressBar,width:`${Math.min(100,_.photos_downloaded/40*100)}%`,backgroundColor:"#3b82f6"}})})]}),_.valid_photos!==void 0&&_.status==="completed"&&n.jsx("div",{style:{marginTop:"12px",padding:"12px",borderRadius:"8px",backgroundColor:_.valid_photos>=5?"#dcfce7":"#fef9c3",border:`1px solid ${_.valid_photos>=5?"#86efac":"#fde047"}`},children:n.jsx("p",{style:{margin:0,fontSize:"13px",color:_.valid_photos>=5?"#166534":"#854d0e",fontWeight:"500"},children:_.valid_photos>=5?` ${_.valid_photos} valid photos - Ready for production`:` Only ${_.valid_photos} valid photos - Needs ${5-_.valid_photos} more`})}),_.error_message&&n.jsx("div",{style:{marginTop:"12px",padding:"12px",borderRadius:"8px",backgroundColor:"#fef2f2",border:"1px solid #fca5a5"},children:n.jsx("p",{style:{margin:0,fontSize:"13px",color:"#dc2626"},children:_.error_message})})]},_.person_id)})})]}),o?.status==="completed"&&n.jsxs("div",{style:{...x.completionBanner,backgroundColor:"#f0fdf4",borderColor:"#86efac"},children:[n.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"600",color:"#166534"},children:"Batch Training Complete!"}),n.jsx("p",{style:{margin:0,color:"#15803d",fontSize:"14px"},children:"Redirecting to review and deploy page in a moment..."})]}),o?.status==="cancelled"&&n.jsxs("div",{style:{...x.completionBanner,backgroundColor:"#fef2f2",borderColor:"#fca5a5"},children:[n.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"600",color:"#dc2626"},children:"Batch Cancelled"}),n.jsx("p",{style:{margin:"0 0 16px 0",color:"#991b1b",fontSize:"14px"},children:"This batch was cancelled by the user."}),n.jsx("button",{onClick:()=>r("/training/generate"),style:{...x.btn,backgroundColor:"#dc2626",color:"#fff"},children:"Start New Batch"})]})]})]})}function Lv(){const s=Wn(),[r,o]=g.useState(!0),[c,u]=g.useState(null),[f,h]=g.useState([]),[b,y]=g.useState([]),[p,v]=g.useState(!1),[x,w]=g.useState(null),[N,j]=g.useState({}),[C,_]=g.useState(!1),[T,O]=g.useState(null),[D,z]=g.useState(null),[R,q]=g.useState(null),[B,X]=g.useState(!1),[te,W]=g.useState({running:[],completed:[]}),[H,ue]=g.useState(null);g.useEffect(()=>{console.log("DEBUG: ReviewDeploy useEffect mounted"),ge(),je();const M=setInterval(je,3e3);return()=>clearInterval(M)},[]),g.useEffect(()=>{if(!D)return;const M=async()=>{try{const Se=await pt.getSerpBatchStatus(D);q(Se),Se.status==="completed"&&(z(null),setTimeout(()=>ge(),1e3))}catch(Se){console.error("Failed to poll SERP status:",Se)}};M();const ie=setInterval(M,2e3);return()=>clearInterval(ie)},[D]);const ge=async()=>{o(!0),u(null);try{const M=await pt.getStagingList("serbia");if(console.log("DEBUG: loadStagingList response:",M),M.success){console.log("DEBUG: Setting stagingList with",M.people.length,"people"),h(M.people);const ie=M.people.filter(Se=>Se.ready_for_production).map(Se=>Se.folder_name);console.log("DEBUG: readyPeople from response:",ie),y(ie),j({}),O(null)}else throw new Error(M.message||"Failed to load staging list")}catch(M){u(M.message||"Failed to load staging list")}finally{o(!1)}},Ee=M=>{y(ie=>ie.includes(M)?ie.filter(Se=>Se!==M):[...ie,M])},Oe=()=>{const M=f.filter(ie=>ie.ready_for_production).map(ie=>ie.folder_name);y(M)},Q=()=>{y([])},le=async()=>{if(b.length===0){alert("Please select at least one person to deploy");return}if(confirm(`Deploy ${b.length} people to production?`)){v(!0),w(null),u(null);try{const M=await pt.deployToProduction(b,"serbia");if(M.success)w(M),setTimeout(()=>{ge(),y([])},2e3);else throw new Error(M.message||"Deployment failed")}catch(M){u(M.message||"Deployment failed")}finally{v(!1)}}},J=(M,ie)=>{j(Se=>{const we={...Se};return we[M]===ie?delete we[M]:we[M]=ie,we})},be=async()=>{const M=[],ie=[];if(Object.entries(N).forEach(([we,at])=>{at==="serp"?M.push({folder_name:we,full_name:we.replace(/_/g," ")}):at==="remove"&&ie.push(we)}),M.length===0&&ie.length===0){alert("Please select at least one action");return}const Se=[];if(M.length>0&&Se.push(`Train ${M.length} via SERP`),ie.length>0&&Se.push(`Remove ${ie.length}`),!!confirm(`Apply actions?

${Se.join(`
`)}`)){_(!0),O(null);try{const we={serp:null,remove:null};M.length>0&&(we.serp=await pt.trainViaSERP(M,"serbia"),we.serp.batch_id&&z(we.serp.batch_id)),ie.length>0&&(we.remove=await pt.removeFromStaging(ie,"serbia")),O(we),j({}),ie.length>0&&M.length===0&&setTimeout(()=>ge(),1e3)}catch(we){u(we.message||"Failed to apply actions")}finally{_(!1)}}},je=async()=>{try{const M=await pt.listAllBatches();M.success&&W({running:M.running_batches||[],completed:M.completed_batches||[]})}catch(M){console.error("Failed to load batches:",M)}},A=M=>{ue(H===M?null:M)},L=M=>`https://facerecognition.mpanel.app${M}`,Z=(M,ie,Se)=>{console.warn(`Image failed to load: ${M}/${ie}`),Se?.target?.parentElement&&(Se.target.parentElement.style.display="none")},I=async(M,ie,Se)=>{Se.preventDefault(),Se.stopPropagation();try{const we=await pt.deleteStagingImage("serbia",M,ie);we.success&&h(at=>at.map(ne=>ne.folder_name===M?{...ne,images:ne.images.filter(pe=>pe.filename!==ie),image_count:we.remaining_images,ready_for_production:we.remaining_images>=5,status:we.remaining_images>=5?"ready":"insufficient"}:ne))}catch(we){alert("Failed to delete image: "+we.message)}},oe=async M=>{try{const ie=await pt.deployToProduction([M],"serbia");ie.success?(h(Se=>Se.filter(we=>we.folder_name!==M)),y(Se=>Se.filter(we=>we!==M))):alert("Failed to approve: "+(ie.message||"Unknown error"))}catch(ie){alert("Failed to approve: "+ie.message)}},ye=async M=>{if(confirm(`Remove "${M.replace(/_/g," ")}" from staging?`))try{const ie=await pt.removeFromStaging([M],"serbia");ie.success?ge():alert("Failed to remove: "+(ie.message||"Unknown error"))}catch(ie){alert("Failed to remove: "+ie.message)}},de=f.filter(M=>M.ready_for_production);console.log("DEBUG readyPeople for rendering:",de);const Me=new Set(te.running.flatMap(M=>(M.people||[]).filter(ie=>ie.status==="queued"||ie.status==="processing").map(ie=>ie.folder_name))),Qe=f.filter(M=>!M.ready_for_production&&!Me.has(M.folder_name)),zt=f.filter(M=>!M.ready_for_production&&Me.has(M.folder_name)),jn=f.filter(M=>b.includes(M.folder_name)).reduce((M,ie)=>M+ie.image_count,0),Et=Object.values(N).filter(M=>M==="serp").length,Sn=Object.values(N).filter(M=>M==="remove").length,kt=Et>0||Sn>0,se={page:{width:"100%",minHeight:"100vh",padding:"24px",paddingBottom:"100px",boxSizing:"border-box"},container:{maxWidth:"1200px",margin:"0 auto"},header:{marginBottom:"24px"},title:{fontSize:"28px",fontWeight:"bold",color:"#1a1a1a",margin:"0 0 8px 0"},subtitle:{color:"#666",margin:0},statsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},statCard:{padding:"20px",borderRadius:"12px",border:"1px solid #e0e0e0",backgroundColor:"#fff"},statLabel:{fontSize:"14px",color:"#666",marginBottom:"4px"},statValue:{fontSize:"36px",fontWeight:"bold",margin:0},buttonRow:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},btn:{padding:"10px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"500",fontSize:"14px"},section:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #e0e0e0"},sectionTitle:{fontSize:"20px",fontWeight:"bold",color:"#1a1a1a",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},personCard:{padding:"16px",borderRadius:"8px",marginBottom:"12px",display:"flex",alignItems:"center",gap:"16px"},personName:{fontSize:"16px",fontWeight:"600",color:"#1a1a1a",textTransform:"capitalize",margin:"0 0 4px 0"},badge:{display:"inline-block",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},checkbox:{width:"20px",height:"20px",cursor:"pointer"},floatingButton:{position:"fixed",bottom:"24px",right:"90px",padding:"14px 24px",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",alignItems:"center",gap:"8px"},actionCheckbox:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",border:"2px solid transparent",transition:"all 0.2s"},imageGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"8px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px",marginTop:"12px",overflow:"visible"},imageThumbnail:{width:"100%",aspectRatio:"1",objectFit:"cover",borderRadius:"6px",border:"2px solid #e0e0e0",cursor:"pointer",transition:"transform 0.2s, border-color 0.2s"},expandButton:{padding:"6px 12px",backgroundColor:"#eff6ff",color:"#1d4ed8",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500",display:"flex",alignItems:"center",gap:"4px"},imageContainer:{position:"relative",display:"inline-block"},deleteImageBtn:{position:"absolute",top:"4px",right:"4px",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"rgba(220, 38, 38, 0.9)",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",lineHeight:1,padding:0,boxShadow:"0 1px 3px rgba(0,0,0,0.3)",zIndex:10}};return r?n.jsx("div",{style:se.page,children:n.jsx("div",{style:se.container,children:n.jsxs("div",{style:{...se.section,textAlign:"center",padding:"48px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e0e0e0",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),n.jsx("p",{style:{color:"#666"},children:"Loading staging list..."})]})})}):c&&!x?n.jsx("div",{style:se.page,children:n.jsx("div",{style:se.container,children:n.jsxs("div",{style:{...se.section,backgroundColor:"#fef2f2",borderColor:"#fecaca"},children:[n.jsx("p",{style:{fontWeight:"600",color:"#dc2626",marginBottom:"8px"},children:"Error"}),n.jsx("p",{style:{color:"#991b1b",marginBottom:"16px"},children:c}),n.jsx("button",{onClick:ge,style:{...se.btn,backgroundColor:"#dc2626",color:"#fff"},children:"Retry"})]})})}):n.jsx("div",{style:se.page,children:n.jsxs("div",{style:se.container,children:[n.jsx(It,{pageName:"automated-review"}),n.jsxs("div",{style:se.header,children:[n.jsx("h1",{style:se.title,children:"Review & Deploy"}),n.jsx("p",{style:se.subtitle,children:"Review trained people in staging and deploy to production"})]}),R&&n.jsxs("div",{style:{...se.section,backgroundColor:R.status==="completed"?"#f0fdf4":"#eff6ff",borderColor:R.status==="completed"?"#86efac":"#93c5fd",marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsx("p",{style:{fontWeight:"600",color:R.status==="completed"?"#166534":"#1d4ed8",margin:0},children:R.status==="completed"?"SERP Training Complete":"SERP Training in Progress"}),n.jsxs("span",{style:{...se.badge,backgroundColor:R.status==="completed"?"#16a34a":"#3b82f6",color:"#fff"},children:[R.completed,"/",R.total," completed"]})]}),n.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",marginBottom:"12px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${R.completed/R.total*100}%`,height:"100%",backgroundColor:R.status==="completed"?"#16a34a":"#3b82f6",transition:"width 0.3s ease"}})}),R.current_person&&n.jsxs("p",{style:{color:"#1d4ed8",margin:"0 0 12px 0",fontSize:"14px"},children:["Currently processing: ",n.jsx("strong",{children:R.current_person})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:R.people?.map((M,ie)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",backgroundColor:M.status==="completed"?"#dcfce7":M.status==="processing"?"#dbeafe":M.status==="failed"?"#fef2f2":"#333",borderRadius:"6px",fontSize:"14px"},children:[n.jsx("span",{style:{fontSize:"16px"},children:M.status==="completed"?"":M.status==="processing"?"":M.status==="failed"?"":""}),n.jsx("span",{style:{flex:1,fontWeight:M.status==="processing"?"600":"400",color:M.status==="failed"?"#dc2626":"#1a1a1a"},children:M.full_name}),M.status==="completed"&&n.jsxs("span",{style:{color:"#16a34a",fontWeight:"500"},children:["+",M.photos_added," photos (",M.photos_after," total)"]}),M.status==="failed"&&M.error&&n.jsxs("span",{style:{color:"#dc2626",fontSize:"12px"},children:[M.error.substring(0,50),"..."]}),n.jsx("span",{style:{...se.badge,backgroundColor:M.status==="completed"?"#16a34a":M.status==="processing"?"#3b82f6":M.status==="failed"?"#dc2626":"#9ca3af",color:"#fff",fontSize:"11px",padding:"2px 8px"},children:M.status.toUpperCase()})]},M.folder_name))}),R.status==="completed"&&n.jsx("button",{onClick:()=>q(null),style:{...se.btn,marginTop:"12px",backgroundColor:"#16a34a",color:"#fff"},children:"Dismiss"})]}),T&&!R&&n.jsxs("div",{style:{...se.section,backgroundColor:"#f0fdf4",borderColor:"#86efac",marginBottom:"16px"},children:[n.jsx("p",{style:{fontWeight:"600",color:"#166534",marginBottom:"8px"},children:"Actions Applied"}),T.serp&&n.jsxs("p",{style:{color:"#15803d",margin:"4px 0"},children:["SERP training started for ",T.serp.people_count," people (processing in background)"]}),T.remove&&n.jsxs("p",{style:{color:"#15803d",margin:"4px 0"},children:["Removed ",T.remove.removed_count," people from staging"]})]}),x&&n.jsxs("div",{style:{...se.section,backgroundColor:"#f0fdf4",borderColor:"#86efac"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#166534",margin:0},children:"Deployment Complete!"}),n.jsx("span",{style:{fontSize:"14px",color:"#15803d"},children:new Date().toLocaleString()})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #86efac"},children:[n.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"Successfully Deployed"}),n.jsx("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#16a34a",margin:"0 0 12px 0"},children:x.deployed?.length||0}),x.deployed?.map(M=>n.jsxs("div",{style:{fontSize:"12px",backgroundColor:"#f0fdf4",padding:"8px",borderRadius:"4px",marginBottom:"4px"},children:[n.jsx("p",{style:{fontWeight:"500",color:"#166534",margin:"0 0 4px 0"},children:M.folder.replace(/_/g," ")}),n.jsxs("p",{style:{color:"#15803d",margin:0},children:[M.image_count," photos added"]}),M.duplicates_skipped>0&&n.jsxs("p",{style:{color:"#ea580c",margin:"4px 0 0 0"},children:[M.duplicates_skipped," duplicates skipped"]})]},M.folder))]}),n.jsxs("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #fde047"},children:[n.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"Skipped (Not Ready)"}),n.jsx("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#ca8a04",margin:"0 0 12px 0"},children:x.skipped?.length||0}),x.skipped?.map(M=>n.jsxs("div",{style:{fontSize:"12px",backgroundColor:"#fefce8",padding:"8px",borderRadius:"4px",marginBottom:"4px"},children:[n.jsx("p",{style:{fontWeight:"500",color:"#854d0e",margin:"0 0 4px 0"},children:M.folder.replace(/_/g," ")}),n.jsx("p",{style:{color:"#a16207",margin:0},children:M.reason})]},M.folder))]}),n.jsxs("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #fca5a5"},children:[n.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"Errors"}),n.jsx("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#dc2626",margin:"0 0 12px 0"},children:x.errors?.length||0}),x.errors?.map(M=>n.jsxs("div",{style:{fontSize:"12px",backgroundColor:"#fef2f2",padding:"8px",borderRadius:"4px",marginBottom:"4px"},children:[n.jsx("p",{style:{fontWeight:"500",color:"#991b1b",margin:"0 0 4px 0"},children:M.folder.replace(/_/g," ")}),n.jsx("p",{style:{color:"#b91c1c",margin:0},children:M.error})]},M.folder))]})]})]}),n.jsxs("div",{style:se.statsGrid,children:[n.jsxs("div",{style:{...se.statCard,borderLeftColor:"#3b82f6",borderLeftWidth:"4px"},children:[n.jsx("p",{style:se.statLabel,children:"Total in Staging"}),n.jsx("p",{style:{...se.statValue,color:"#3b82f6"},children:f.length})]}),n.jsxs("div",{style:{...se.statCard,borderLeftColor:"#16a34a",borderLeftWidth:"4px"},children:[n.jsx("p",{style:se.statLabel,children:"Ready for Production"}),n.jsx("p",{style:{...se.statValue,color:"#16a34a"},children:de.length})]}),n.jsxs("div",{style:{...se.statCard,borderLeftColor:"#ca8a04",borderLeftWidth:"4px"},children:[n.jsx("p",{style:se.statLabel,children:"Not Ready"}),n.jsx("p",{style:{...se.statValue,color:"#ca8a04"},children:Qe.length})]})]}),n.jsxs("div",{style:se.buttonRow,children:[n.jsxs("button",{onClick:Oe,style:{...se.btn,backgroundColor:"#dcfce7",color:"#166534"},children:["Select All Ready (",de.length,")"]}),n.jsx("button",{onClick:Q,style:{...se.btn,backgroundColor:"#333",color:"#999"},children:"Deselect All"}),n.jsx("button",{onClick:ge,style:{...se.btn,backgroundColor:"#dbeafe",color:"#1d4ed8"},children:"Refresh"}),n.jsx("button",{onClick:()=>{je(),X(!0)},style:{...se.btn,backgroundColor:"#fef3c7",color:"#92400e"},children:"View SERP Batches"}),n.jsx("button",{onClick:le,disabled:p||b.length===0,style:{...se.btn,marginLeft:"auto",backgroundColor:p||b.length===0?"#9ca3af":"#16a34a",color:"#fff",cursor:p||b.length===0?"not-allowed":"pointer"},children:p?"Deploying...":`Deploy to Production (${b.length} ${b.length===1?"person":"people"}, ${jn} photos)`})]}),de.length>0&&n.jsxs("div",{style:se.section,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h2",{style:se.sectionTitle,children:[n.jsx("span",{style:{color:"#16a34a"},children:""}),"Ready for Production"]}),n.jsx("span",{style:{...se.badge,backgroundColor:"#dcfce7",color:"#166534"},children:"5+ valid photos"})]}),n.jsx("div",{children:de.map(M=>n.jsxs("div",{style:{...se.personCard,backgroundColor:"#f0fdf4",border:"2px solid #86efac",flexDirection:"column",alignItems:"stretch"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[n.jsx("input",{type:"checkbox",checked:b.includes(M.folder_name),onChange:()=>Ee(M.folder_name),style:se.checkbox}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:se.personName,children:M.full_name||M.folder_name.replace(/_/g," ")}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#bbf7d0",color:"#166534"},children:[M.image_count," photos"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsxs("button",{onClick:()=>A(M.folder_name),style:{...se.expandButton,backgroundColor:H===M.folder_name?"#dbeafe":"#eff6ff"},children:[H===M.folder_name?" Hide":" Show"," Photos"]}),n.jsx("button",{onClick:()=>oe(M.folder_name),style:{...se.btn,padding:"6px 16px",backgroundColor:"#16a34a",color:"#fff",fontSize:"12px",fontWeight:"600"},children:"Approve"}),n.jsx("button",{onClick:()=>ye(M.folder_name),style:{...se.btn,padding:"6px 12px",backgroundColor:"#fef2f2",color:"#dc2626",fontSize:"12px"},children:"Remove"})]})]}),H===M.folder_name&&M.images&&n.jsxs("div",{style:se.imageGrid,children:[(console.log(`DEBUG: Rendering ${M.images.length} images for ${M.folder_name}:`,M.images.map(ie=>ie.filename)),null),M.images.map((ie,Se)=>n.jsxs("div",{style:se.imageContainer,children:[n.jsx("button",{onClick:we=>I(M.folder_name,ie.filename,we),style:se.deleteImageBtn,title:"Delete this image",children:""}),n.jsx("a",{href:L(ie.url),target:"_blank",rel:"noopener noreferrer",children:n.jsx("img",{src:L(ie.url),alt:ie.filename,style:se.imageThumbnail,onError:we=>Z(M.folder_name,ie.filename,we)})})]},`${M.folder_name}-${ie.filename}-${Se}`))]})]},M.folder_name))})]}),zt.length>0&&n.jsxs("div",{style:se.section,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h2",{style:se.sectionTitle,children:[n.jsx("span",{style:{color:"#3b82f6"},children:""}),"Currently in SERP Training"]}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#dbeafe",color:"#1d4ed8"},children:[zt.length," people processing"]})]}),n.jsx("div",{children:zt.map(M=>n.jsxs("div",{style:{...se.personCard,backgroundColor:"#eff6ff",border:"2px solid #93c5fd"},children:[n.jsx("div",{style:{width:"20px",height:"20px",border:"3px solid #3b82f6",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:se.personName,children:M.full_name||M.folder_name.replace(/_/g," ")}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#bfdbfe",color:"#1d4ed8"},children:[M.image_count," photos (searching for more...)"]})]}),n.jsx("span",{style:{...se.badge,backgroundColor:"#3b82f6",color:"#fff"},children:"SERP TRAINING"})]},M.folder_name))})]}),Qe.length>0&&n.jsxs("div",{style:se.section,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h2",{style:se.sectionTitle,children:[n.jsx("span",{style:{color:"#ca8a04"},children:""}),"Not Ready for Production"]}),n.jsx("span",{style:{...se.badge,backgroundColor:"#fef2f2",color:"#dc2626"},children:"Less than 5 photos - select action below"})]}),n.jsx("div",{children:Qe.map(M=>{const ie=N[M.folder_name];return n.jsxs("div",{style:{...se.personCard,backgroundColor:"#fefce8",border:"2px solid #fde047",flexDirection:"column",alignItems:"stretch"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:se.personName,children:M.full_name||M.folder_name.replace(/_/g," ")}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#fecaca",color:"#991b1b"},children:["Only ",M.image_count," ",M.image_count===1?"photo":"photos"]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsxs("button",{onClick:()=>A(M.folder_name),style:{...se.expandButton,backgroundColor:H===M.folder_name?"#fef3c7":"#fffbeb"},children:[H===M.folder_name?" Hide":" Show"," Photos"]}),n.jsxs("label",{style:{...se.actionCheckbox,backgroundColor:ie==="serp"?"#dbeafe":"#333",borderColor:ie==="serp"?"#3b82f6":"transparent",color:ie==="serp"?"#1d4ed8":"#666"},children:[n.jsx("input",{type:"checkbox",checked:ie==="serp",onChange:()=>J(M.folder_name,"serp"),style:{width:"16px",height:"16px"}}),"Add via SERP"]}),n.jsxs("label",{style:{...se.actionCheckbox,backgroundColor:ie==="remove"?"#fef2f2":"#333",borderColor:ie==="remove"?"#dc2626":"transparent",color:ie==="remove"?"#dc2626":"#666"},children:[n.jsx("input",{type:"checkbox",checked:ie==="remove",onChange:()=>J(M.folder_name,"remove"),style:{width:"16px",height:"16px"}}),"Remove"]})]}),n.jsxs("div",{style:{textAlign:"right",minWidth:"80px"},children:[n.jsx("span",{style:{...se.badge,backgroundColor:"#ca8a04",color:"#fff"},children:"NOT READY"}),n.jsxs("p",{style:{fontSize:"12px",color:"#dc2626",margin:"8px 0 0 0"},children:["Needs ",5-M.image_count," more"]})]})]}),H===M.folder_name&&M.images&&n.jsxs("div",{style:{...se.imageGrid,backgroundColor:"#fef9e7"},children:[(console.log(`DEBUG: Rendering ${M.images.length} images for ${M.folder_name} (not ready):`,M.images.map(Se=>Se.filename)),null),M.images.map((Se,we)=>n.jsxs("div",{style:se.imageContainer,children:[n.jsx("button",{onClick:at=>I(M.folder_name,Se.filename,at),style:se.deleteImageBtn,title:"Delete this image",children:""}),n.jsx("a",{href:L(Se.url),target:"_blank",rel:"noopener noreferrer",children:n.jsx("img",{src:L(Se.url),alt:Se.filename,style:se.imageThumbnail,onError:at=>Z(M.folder_name,Se.filename,at)})})]},`${M.folder_name}-${Se.filename}-${we}`))]})]},M.folder_name)})}),n.jsxs("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:"#eff6ff",borderLeft:"4px solid #3b82f6",borderRadius:"0 8px 8px 0"},children:[n.jsx("p",{style:{fontWeight:"600",color:"#1a1a1a",marginBottom:"8px"},children:"How to handle Not Ready people:"}),n.jsxs("ul",{style:{color:"#666",margin:0,paddingLeft:"20px",fontSize:"14px"},children:[n.jsxs("li",{style:{marginBottom:"4px"},children:[n.jsx("strong",{children:"Add via SERP"}),": Search Google for more photos and add them to training"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Remove"}),": Delete from staging (cannot be deployed with less than 5 photos)"]})]})]})]}),kt&&n.jsx("button",{onClick:be,disabled:C,style:{...se.floatingButton,backgroundColor:C?"#9ca3af":"#3b82f6",color:"#fff",cursor:C?"not-allowed":"pointer"},children:C?"Applying...":n.jsxs(n.Fragment,{children:["Apply Actions",Et>0&&n.jsxs("span",{style:{backgroundColor:"#1d4ed8",padding:"2px 8px",borderRadius:"12px",fontSize:"12px"},children:["SERP: ",Et]}),Sn>0&&n.jsxs("span",{style:{backgroundColor:"#dc2626",padding:"2px 8px",borderRadius:"12px",fontSize:"12px"},children:["Remove: ",Sn]})]})}),f.length===0&&n.jsxs("div",{style:{...se.section,textAlign:"center",padding:"48px"},children:[n.jsx("p",{style:{color:"#666",fontSize:"16px",marginBottom:"16px"},children:"No people in staging. Complete a batch training first."}),n.jsx("button",{onClick:()=>s("/training/generate"),style:{...se.btn,backgroundColor:"#3b82f6",color:"#fff"},children:"Start New Batch"})]}),B&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",maxWidth:"800px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600"},children:"SERP Training Batches"}),n.jsx("button",{onClick:()=>X(!1),style:{...se.btn,backgroundColor:"#333",color:"#999",padding:"8px 16px"},children:"Close"})]}),te.running.length>0&&n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1d4ed8",marginBottom:"12px"},children:["Running (",te.running.length,")"]}),te.running.map(M=>n.jsxs("div",{style:{backgroundColor:"#eff6ff",border:"1px solid #93c5fd",borderRadius:"8px",padding:"16px",marginBottom:"12px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[n.jsxs("span",{style:{fontWeight:"600",color:"#1d4ed8"},children:["Batch: ",M.batch_id?.substring(0,20),"..."]}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#3b82f6",color:"#fff"},children:[M.completed,"/",M.total," completed"]})]}),n.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"#dbeafe",borderRadius:"3px",marginBottom:"8px"},children:n.jsx("div",{style:{width:`${M.completed/M.total*100}%`,height:"100%",backgroundColor:"#3b82f6",borderRadius:"3px"}})}),n.jsx("div",{style:{fontSize:"13px",color:"#4b5563"},children:M.people?.map(ie=>n.jsxs("span",{style:{display:"inline-block",backgroundColor:ie.status==="completed"?"#dcfce7":ie.status==="processing"?"#dbeafe":"#333",color:ie.status==="completed"?"#166534":ie.status==="processing"?"#1d4ed8":"#666",padding:"2px 8px",borderRadius:"4px",marginRight:"4px",marginBottom:"4px",fontSize:"12px"},children:[ie.full_name," (",ie.status,")"]},ie.folder_name))}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"8px"},children:["Started: ",new Date(M.started_at).toLocaleString()]})]},M.batch_id))]}),te.completed.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#16a34a",marginBottom:"12px"},children:["Recently Completed (",te.completed.length,")"]}),te.completed.map(M=>n.jsx("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px",padding:"12px 16px",marginBottom:"8px"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500",color:"#166534",fontSize:"14px"},children:M.people?.map(ie=>ie.full_name).join(", ")}),n.jsxs("div",{style:{fontSize:"11px",color:"#16a34a",marginTop:"4px"},children:[M.total," people processed"]})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("span",{style:{...se.badge,backgroundColor:"#16a34a",color:"#fff",fontSize:"11px"},children:"COMPLETED"}),n.jsx("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"4px"},children:M.completed_at?new Date(M.completed_at).toLocaleString():"N/A"})]})]})},M.batch_id))]}),te.running.length===0&&te.completed.length===0&&n.jsxs("div",{style:{textAlign:"center",padding:"32px",color:"#666"},children:[n.jsx("p",{children:"No SERP batches found."}),n.jsx("p",{style:{fontSize:"14px",color:"#9ca3af"},children:'Start SERP training from the "Not Ready" section below.'})]}),n.jsxs("div",{style:{marginTop:"16px",textAlign:"right"},children:[n.jsx("button",{onClick:()=>je(),style:{...se.btn,backgroundColor:"#dbeafe",color:"#1d4ed8",marginRight:"8px"},children:"Refresh"}),n.jsx("button",{onClick:()=>X(!1),style:{...se.btn,backgroundColor:"#3b82f6",color:"#fff"},children:"Close"})]})]})})]})})}const he={container:{maxWidth:"1200px",margin:"0 auto",padding:"24px"},header:{marginBottom:"32px"},title:{fontSize:"28px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},subtitle:{fontSize:"14px",color:"#999",margin:0},section:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #3a3a3a"},sectionTitle:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"8px"},badge:{display:"inline-block",padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"500"},batchCard:{backgroundColor:"#242424",border:"1px solid #3a3a3a",borderRadius:"8px",padding:"16px",marginBottom:"12px"},batchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},batchId:{fontWeight:"600",color:"#1f2937",fontSize:"14px"},progressBar:{width:"100%",height:"6px",backgroundColor:"#3a3a3a",borderRadius:"3px",overflow:"hidden",marginBottom:"8px"},progressFill:{height:"100%",transition:"width 0.3s ease"},peopleList:{fontSize:"13px",color:"#4b5563"},personTag:{display:"inline-block",padding:"2px 8px",borderRadius:"4px",marginRight:"4px",marginBottom:"4px",fontSize:"11px"},emptyState:{textAlign:"center",padding:"48px 24px",color:"#999"},emptyStateIcon:{fontSize:"48px",marginBottom:"16px"},btn:{padding:"8px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},loadingSpinner:{display:"inline-block",width:"16px",height:"16px",border:"2px solid #3a3a3a",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"24px"},statCard:{backgroundColor:"#fff",borderRadius:"12px",padding:"20px",border:"1px solid #3a3a3a",textAlign:"center"},statValue:{fontSize:"32px",fontWeight:"700",color:"#1f2937",marginBottom:"4px"},statLabel:{fontSize:"13px",color:"#999",fontWeight:"500"},controlsBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",padding:"16px",backgroundColor:"#242424",borderRadius:"8px",border:"1px solid #3a3a3a"},pollingIndicator:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#10b981"}};function qv(){const[s,r]=g.useState({running:[],completed:[]}),[o,c]=g.useState(!0),[u,f]=g.useState(null),[h,b]=g.useState(!0);g.useEffect(()=>{if(y(),h){const N=setInterval(y,5e3);return()=>clearInterval(N)}},[h]);const y=async()=>{try{f(null);const N=await pt.listAllBatches();N.success?r({running:N.running_batches||[],completed:N.completed_batches||[]}):f(N.message||"Failed to load batches")}catch(N){f(N.message||"Failed to load batches")}finally{c(!1)}},p=()=>{b(!h)},v=()=>{const N=[...s.running,...s.completed],j=N.reduce((T,O)=>T+(O.people?.length||0),0),C=N.reduce((T,O)=>T+(O.people?.filter(D=>D.status==="completed").length||0),0),_=N.reduce((T,O)=>T+(O.people?.filter(D=>D.gallery_url).length||0),0);return{totalBatches:N.length,runningBatches:s.running.length,completedBatches:s.completed.length,totalPeople:j,completedPeople:C,totalGalleries:_}},x=N=>{switch(N){case"completed":return{bg:"#dcfce7",color:"#166534"};case"processing":return{bg:"#dbeafe",color:"#1d4ed8"};case"queued":return{bg:"#333",color:"#666"};case"failed":return{bg:"#fee2e2",color:"#991b1b"};default:return{bg:"#333",color:"#666"}}};if(o)return n.jsxs("div",{style:he.container,children:[n.jsxs("div",{style:he.header,children:[n.jsx("h1",{style:he.title,children:"Batch Processing"}),n.jsx("p",{style:he.subtitle,children:"Monitor SERP training batches"})]}),n.jsxs("div",{style:he.emptyState,children:[n.jsx("div",{style:he.loadingSpinner}),n.jsx("p",{style:{marginTop:"16px"},children:"Loading batches..."})]})]});const w=v();return n.jsxs("div",{style:he.container,children:[n.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `}),n.jsxs("div",{style:he.header,children:[n.jsx("h1",{style:he.title,children:"Batch Processing"}),n.jsx("p",{style:he.subtitle,children:"Monitor all automated training batches (Wikidata + SERP)"})]}),u&&n.jsx("div",{style:{...he.section,backgroundColor:"#fee2e2",borderColor:"#fca5a5",color:"#991b1b"},children:u}),!o&&(s.running.length>0||s.completed.length>0)&&n.jsxs("div",{style:he.statsGrid,children:[n.jsxs("div",{style:he.statCard,children:[n.jsx("div",{style:he.statValue,children:w.totalBatches}),n.jsx("div",{style:he.statLabel,children:"Total Batches"})]}),n.jsxs("div",{style:he.statCard,children:[n.jsx("div",{style:{...he.statValue,color:"#3b82f6"},children:w.runningBatches}),n.jsx("div",{style:he.statLabel,children:"Running"})]}),n.jsxs("div",{style:he.statCard,children:[n.jsx("div",{style:{...he.statValue,color:"#10b981"},children:w.completedBatches}),n.jsx("div",{style:he.statLabel,children:"Completed"})]}),n.jsxs("div",{style:he.statCard,children:[n.jsx("div",{style:he.statValue,children:w.totalPeople}),n.jsx("div",{style:he.statLabel,children:"Total People"})]}),n.jsxs("div",{style:he.statCard,children:[n.jsx("div",{style:{...he.statValue,color:"#10b981"},children:w.completedPeople}),n.jsx("div",{style:he.statLabel,children:"People Trained"})]}),n.jsxs("div",{style:he.statCard,children:[n.jsx("div",{style:{...he.statValue,color:"#8b5cf6"},children:w.totalGalleries}),n.jsx("div",{style:he.statLabel,children:"Galleries Available"})]})]}),!o&&(s.running.length>0||s.completed.length>0)&&n.jsxs("div",{style:he.controlsBar,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[h&&n.jsxs("div",{style:he.pollingIndicator,children:[n.jsx("div",{style:he.loadingSpinner}),n.jsx("span",{children:"Auto-updating every 5s"})]}),!h&&n.jsx("div",{style:{...he.pollingIndicator,color:"#999"},children:n.jsx("span",{children:"Auto-update paused"})})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:p,style:{...he.btn,backgroundColor:h?"#ef4444":"#10b981",color:"#fff"},children:h?" Pause":" Resume"}),n.jsx("button",{onClick:y,disabled:o,style:{...he.btn,backgroundColor:"#3b82f6",color:"#fff"},children:" Refresh"})]})]}),s.running.length>0&&n.jsxs("div",{style:he.section,children:[n.jsxs("h2",{style:he.sectionTitle,children:[n.jsx("span",{children:""}),"Running Batches",n.jsxs("span",{style:{...he.badge,backgroundColor:"#dbeafe",color:"#1d4ed8",marginLeft:"auto"},children:[s.running.length," active"]})]}),s.running.map(N=>n.jsxs("div",{style:he.batchCard,children:[n.jsxs("div",{style:he.batchHeader,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsxs("span",{style:he.batchId,children:["Batch: ",N.batch_id?.substring(0,16)]}),n.jsx("span",{style:{...he.badge,backgroundColor:N.type==="wikidata"?"#8b5cf6":"#f59e0b",color:"#fff",fontSize:"10px"},children:N.type==="wikidata"?"WIKIDATA":"SERP"})]}),n.jsxs("span",{style:{...he.badge,backgroundColor:"#3b82f6",color:"#fff"},children:[N.completed||N.people?.filter(j=>j.status==="completed").length||0,"/",N.total||N.total_people||0," completed"]})]}),n.jsx("div",{style:he.progressBar,children:n.jsx("div",{style:{...he.progressFill,width:`${(N.completed||N.people?.filter(j=>j.status==="completed").length||0)/(N.total||N.total_people||1)*100}%`,backgroundColor:"#3b82f6"}})}),n.jsx("div",{style:he.peopleList,children:N.people?.map(j=>{const C=x(j.status);let _="";return j.photos_downloaded>0&&(j.photos_from_wikimedia>0&&j.photos_from_serp>0?_=` - ${j.photos_downloaded} images (Wikimedia: ${j.photos_from_wikimedia}, SERP: ${j.photos_from_serp})`:j.photos_from_wikimedia>0?_=` - ${j.photos_downloaded} images (Wikimedia: ${j.photos_from_wikimedia})`:j.photos_from_serp>0?_=` - ${j.photos_downloaded} images (SERP: ${j.photos_from_serp})`:_=` - ${j.photos_downloaded} images`),n.jsxs("div",{style:{display:"inline-block",marginRight:"8px",marginBottom:"4px"},children:[n.jsxs("span",{style:{...he.personTag,backgroundColor:C.bg,color:C.color},children:[j.full_name," (",j.status,")",_]}),j.gallery_url&&n.jsx("a",{href:`https://facerecognition.mpanel.app${j.gallery_url}`,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"6px",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",backgroundColor:"#3b82f6",color:"#fff",textDecoration:"none",display:"inline-block"},children:"View Gallery"})]},j.folder_name)})}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"8px"},children:["Started: ",new Date(N.started_at).toLocaleString()]})]},N.batch_id))]}),s.completed.length>0&&n.jsxs("div",{style:he.section,children:[n.jsxs("h2",{style:he.sectionTitle,children:[n.jsx("span",{children:""}),"Completed Batches",n.jsxs("span",{style:{...he.badge,backgroundColor:"#dcfce7",color:"#166534",marginLeft:"auto"},children:[s.completed.length," total"]})]}),s.completed.map(N=>n.jsxs("div",{style:he.batchCard,children:[n.jsxs("div",{style:he.batchHeader,children:[n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsx("span",{style:he.batchId,children:N.people?.map(j=>j.full_name).join(", ")||`Batch ${N.batch_id?.substring(0,8)}`}),n.jsx("span",{style:{...he.badge,backgroundColor:N.type==="wikidata"?"#8b5cf6":"#f59e0b",color:"#fff",fontSize:"10px"},children:N.type==="wikidata"?"WIKIDATA":"SERP"})]}),n.jsxs("div",{style:{fontSize:"12px",color:"#999"},children:[N.total||N.total_people||N.people?.length||0," people processed"]})]}),n.jsx("span",{style:{...he.badge,backgroundColor:"#16a34a",color:"#fff"},children:"COMPLETED"})]}),N.people?.some(j=>j.gallery_url)&&n.jsx("div",{style:{marginTop:"12px",marginBottom:"8px"},children:N.people?.map(j=>j.gallery_url&&n.jsxs("a",{href:`https://facerecognition.mpanel.app${j.gallery_url}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",marginRight:"8px",marginBottom:"4px",padding:"4px 12px",borderRadius:"6px",fontSize:"12px",backgroundColor:"#3b82f6",color:"#fff",textDecoration:"none"},children:[" ",j.full_name," Gallery"]},j.folder_name))}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af"},children:["Completed: ",N.completed_at?new Date(N.completed_at).toLocaleString():"N/A"]})]},N.batch_id))]}),s.running.length===0&&s.completed.length===0&&n.jsx("div",{style:he.section,children:n.jsxs("div",{style:he.emptyState,children:[n.jsx("div",{style:he.emptyStateIcon,children:""}),n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1f2937"},children:"No batches yet"}),n.jsx("p",{style:{margin:0,color:"#999"},children:"Start SERP training from the Review & Deploy page to see batch processing here."})]})})]})}new Date().toISOString();const Ht={async getInfo(){try{return(await ce.get("/api/video/info")).data}catch(s){return console.error("Failed to get video API info:",s),{success:!1,message:s.response?.data?.message||"Failed to get API info"}}},async uploadSync(s,r="serbia",o=3){try{const c=new FormData;return c.append("file",s),c.append("domain",r),c.append("interval_seconds",o),(await ce.post("/api/video/upload",c,{headers:{"Content-Type":"multipart/form-data"},timeout:6e5})).data}catch(c){return console.error("Failed to upload video:",c),{success:!1,message:c.response?.data?.message||"Failed to upload video"}}},async uploadAsync(s,r="serbia",o=3){try{const c=new FormData;return c.append("file",s),c.append("domain",r),c.append("interval_seconds",o),(await ce.post("/api/video/upload-async",c,{headers:{"Content-Type":"multipart/form-data"},timeout:3e5})).data}catch(c){return console.error("Failed to upload video:",c),{success:!1,message:c.response?.data?.message||"Failed to upload video"}}},async getStatus(s){try{const r=await ce.get(`/api/video/status/${s}`);return r.status===202?{success:!1,video_id:s,status:"processing",message:"Video is still being processed"}:r.data}catch(r){return r.response?.status===404?{success:!1,video_id:s,status:"not_found",message:"Video not found"}:(console.error("Failed to get video status:",r),{success:!1,video_id:s,status:"error",message:r.response?.data?.message||"Failed to get video status"})}},validateFile(s){const r=[];if(!s)return r.push("No file selected"),{valid:!1,errors:r};const o=100,c=s.size/(1024*1024);c>o&&r.push(`File too large. Maximum size: ${o} MB (current: ${c.toFixed(2)} MB)`);const u=["mp4","avi","mov","mkv","webm","flv","wmv"],f=s.name.split(".").pop().toLowerCase();return u.includes(f)||r.push(`Invalid format. Allowed: ${u.join(", ")}`),{valid:r.length===0,errors:r}},validateInterval(s){return s<.1||s>60?{valid:!1,error:`Interval must be between ${.1} and 60 seconds`}:{valid:!0}},async getAllVideos(){try{return(await ce.get("/api/storage/videos")).data}catch(s){return console.error("Failed to get videos list:",s),{success:!1,message:s.response?.data?.message||"Failed to get videos list",videos:[]}}},async deleteVideo(s){try{return(await ce.delete(`/api/storage/videos/${s}`)).data}catch(r){return console.error("Failed to delete video:",r),{success:!1,message:r.response?.data?.message||"Failed to delete video"}}}};function Bp(){const[s,r]=g.useState(!1),[o,c]=g.useState(0),[u,f]=g.useState(null),h=g.useCallback(async(p,v="serbia",x=3)=>{const w=Ht.validateFile(p);if(!w.valid)return f(w.errors.join(", ")),{success:!1,message:w.errors.join(", ")};const N=Ht.validateInterval(x);if(!N.valid)return f(N.error),{success:!1,message:N.error};r(!0),f(null),c(0);try{const j=setInterval(()=>{c(_=>Math.min(_+10,90))},200),C=await Ht.uploadSync(p,v,x);if(clearInterval(j),c(100),!C.success)throw new Error(C.message||"Upload failed");return C}catch(j){return f(j.message||"Failed to upload video"),{success:!1,message:j.message||"Failed to upload video"}}finally{r(!1)}},[]),b=g.useCallback(async(p,v="serbia",x=3)=>{const w=Ht.validateFile(p);if(!w.valid)return f(w.errors.join(", ")),{success:!1,message:w.errors.join(", ")};const N=Ht.validateInterval(x);if(!N.valid)return f(N.error),{success:!1,message:N.error};r(!0),f(null),c(0);try{const j=setInterval(()=>{c(_=>Math.min(_+10,90))},100),C=await Ht.uploadAsync(p,v,x);if(clearInterval(j),c(100),!C.success)throw new Error(C.message||"Upload failed");return C}catch(j){return f(j.message||"Failed to upload video"),{success:!1,message:j.message||"Failed to upload video"}}finally{r(!1),setTimeout(()=>c(0),1e3)}},[]),y=g.useCallback(()=>{f(null)},[]);return{uploading:s,uploadProgress:o,error:u,uploadSync:h,uploadAsync:b,clearError:y}}function Op(s,r=3e3,o=!1){const[c,u]=g.useState(null),[f,h]=g.useState(!1),[b,y]=g.useState(null),[p,v]=g.useState(!1),x=g.useRef(null),w=g.useCallback(async()=>{if(s){h(!0),y(null);try{const C=await Ht.getStatus(s);if(C.status==="processing")return u({...C,isProcessing:!0,isComplete:!1}),C;if(C.success&&C.status==="completed")return u({...C,isProcessing:!1,isComplete:!0}),j(),C;throw new Error(C.message||"Failed to get video status")}catch(C){const _=C.message||"Failed to get video status";throw y(_),j(),new Error(_)}finally{h(!1)}}},[s]),N=g.useCallback(()=>{if(!s)return;v(!0);const C=async()=>{try{(await w())?.status==="processing"?x.current=setTimeout(C,r):v(!1)}catch{v(!1)}};C()},[s,r,w]),j=g.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),v(!1)},[]);return g.useEffect(()=>(o&&s&&N(),()=>{j()}),[o,s,N,j]),g.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),{status:c,loading:f,error:b,isPolling:p,startPolling:N,stopPolling:j,refetch:w}}function Hv(){const[s,r]=g.useState(null),[o,c]=g.useState(null),[u,f]=g.useState("serbia"),[h,b]=g.useState(3),[y,p]=g.useState(null),[v,x]=g.useState(null),[w,N]=g.useState(!1),[j,C]=g.useState(null),{uploading:_,uploadProgress:T,error:O,uploadAsync:D,clearError:z}=Bp(),{status:R,loading:q,error:B,isPolling:X,startPolling:te}=Op(y,3e3,!1);g.useEffect(()=>{(async()=>{const be=await Ht.getInfo();be.success&&C(be)})()},[]),g.useEffect(()=>{R&&R.isComplete&&R.success&&(x(R),p(null))},[R]);const W=J=>{if(!J)return;const be=Ht.validateFile(J);if(!be.valid){alert(be.errors.join(`
`));return}r(J),x(null),p(null),z(),c({name:J.name,size:(J.size/(1024*1024)).toFixed(2)+" MB",type:J.type})},H=J=>{J.preventDefault(),J.stopPropagation(),J.type==="dragenter"||J.type==="dragover"?N(!0):J.type==="dragleave"&&N(!1)},ue=J=>{J.preventDefault(),J.stopPropagation(),N(!1),J.dataTransfer.files&&J.dataTransfer.files[0]&&W(J.dataTransfer.files[0])},ge=J=>{J.target.files&&J.target.files[0]&&W(J.target.files[0])},Ee=async()=>{if(!s)return;const J=await D(s,u,h);J.success&&J.video_id&&(p(J.video_id),te())},Oe=()=>{r(null),c(null),x(null),p(null),z()},Q=J=>J>=70?"text-green-600":J>=40?"text-yellow-600":"text-red-600",le=_||X||q;return n.jsxs("div",{className:"page-container",children:[n.jsx(It,{pageName:"video-recognition"}),n.jsx("h1",{children:"Video Face Recognition"}),n.jsxs("p",{className:"subtitle",children:["Upload a video to extract frames and recognize faces automatically. The system extracts 1 frame every ",h," seconds."]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{style:{marginTop:0},children:"Upload Video"}),n.jsxs("div",{className:`upload-zone ${w?"drag-active":""}`,onDragEnter:H,onDragLeave:H,onDragOver:H,onDrop:ue,style:{border:"2px dashed #cbd5e0",borderRadius:"8px",padding:"3rem",textAlign:"center",backgroundColor:w?"#f7fafc":"#ffffff",cursor:"pointer",transition:"all 0.2s"},children:[n.jsx("input",{type:"file",accept:"video/*",onChange:ge,style:{display:"none"},id:"video-file-input",disabled:le}),s?n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("p",{children:n.jsx("strong",{children:o.name})}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096"},children:["Size: ",o.size]}),n.jsx("button",{onClick:Oe,className:"btn btn-secondary",style:{marginTop:"1rem"},disabled:le,children:"Choose Different Video"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsxs("label",{htmlFor:"video-file-input",style:{cursor:"pointer"},children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Click to upload"})," or drag and drop"]}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096",marginTop:"0.5rem"},children:["Supported formats: ",j?.supported_formats?.join(", ").toUpperCase()||"MP4, AVI, MOV, MKV, WebM, FLV, WMV"]}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096"},children:["Maximum file size: ",j?.max_file_size_mb||100," MB"]})]})]})]}),s&&!le&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:n.jsx(Le,{content:"Number of seconds between each extracted frame. Lower values = more frames = longer processing time",position:"right",children:n.jsx("span",{children:"Frame Extraction Interval (seconds)"})})}),n.jsx("input",{type:"number",value:h,onChange:J=>b(parseFloat(J.target.value)),min:"0.1",max:"60",step:"0.5",className:"input-field",style:{width:"150px",marginRight:"1rem"}}),n.jsxs("span",{style:{fontSize:"0.9rem",color:"#718096"},children:["1 frame every ",h,"s"]})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:n.jsx(Le,{content:"Select which face database to use for recognition. Each domain has its own trained faces",position:"right",children:n.jsx("span",{children:"Recognition Domain"})})}),n.jsxs("select",{value:u,onChange:J=>f(J.target.value),className:"input-field",style:{width:"200px"},children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"bosnia",children:"Bosnia"})]})]}),n.jsx(Le,{content:"Upload video and start face recognition processing",position:"top",children:n.jsx("button",{onClick:Ee,className:"btn btn-primary",children:"Upload and Process Video"})})]}),_&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Uploading..."}),n.jsxs("span",{children:[T,"%"]})]}),n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-bar-fill",style:{width:`${T}%`}})})]}),X&&R&&n.jsx("div",{style:{marginTop:"2rem",padding:"1.5rem",backgroundColor:"#edf2f7",borderRadius:"8px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[n.jsx("div",{className:"spinner",style:{marginRight:"1rem"}}),n.jsxs("div",{children:[n.jsx("p",{style:{fontWeight:"500",margin:0},children:"Processing Video..."}),n.jsx("p",{style:{fontSize:"0.9rem",color:"#718096",margin:0},children:"This may take a few minutes. You can leave this page and come back later."})]})]})}),(O||B)&&n.jsx("div",{className:"error-message",style:{marginTop:"1rem"},children:O||B})]}),v&&v.success&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{children:"Recognition Statistics"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},children:[n.jsx(Le,{content:"Total number of frames extracted from the video",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Total Frames"}),n.jsx("p",{className:"stat-value",children:v.statistics.total_frames})]})}),n.jsx(Le,{content:"Number of frames where a face was successfully recognized",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Recognized"}),n.jsx("p",{className:"stat-value",style:{color:"#10b981"},children:v.statistics.recognized_frames})]})}),n.jsx(Le,{content:"Percentage of frames with recognized faces. Green (70%) = Excellent, Yellow (40-69%) = Moderate, Red (<40%) = Poor",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Recognition Rate"}),n.jsxs("p",{className:`stat-value ${Q(v.statistics.recognition_rate)}`,children:[v.statistics.recognition_rate.toFixed(1),"%"]})]})}),n.jsx(Le,{content:"Number of different people identified in the video",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Unique Persons"}),n.jsx("p",{className:"stat-value",children:v.statistics.unique_persons})]})})]}),v.statistics.persons_list.length>0&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsx("p",{style:{fontWeight:"500",marginBottom:"0.5rem"},children:"Detected Persons:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:v.statistics.persons_list.map((J,be)=>n.jsx("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"20px",fontSize:"0.9rem"},children:J},be))})]})]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{children:"System Performance"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},children:[n.jsx(Le,{content:"Total time taken to process all frames",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Processing Time"}),n.jsxs("p",{className:"stat-value",children:[v.performance.processing_time_seconds.toFixed(1),"s"]})]})}),n.jsx(Le,{content:"Number of frames processed per second by the recognition engine",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Frames Per Second"}),n.jsxs("p",{className:"stat-value",children:[v.performance.frames_per_second.toFixed(2)," FPS"]})]})}),n.jsx(Le,{content:"Average CPU utilization during video processing",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Avg CPU Usage"}),n.jsxs("p",{className:"stat-value",children:[v.performance.avg_cpu_percent.toFixed(1),"%"]})]})}),n.jsx(Le,{content:"Peak memory usage during video processing",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Memory Used"}),n.jsxs("p",{className:"stat-value",children:[v.performance.memory_used_mb.toFixed(1)," MB"]})]})})]}),n.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsxs("p",{style:{fontSize:"0.9rem",margin:0},children:[n.jsx("strong",{children:"Video Info:"})," ",v.extraction_info.video_info.width,"x",v.extraction_info.video_info.height," @ ",v.extraction_info.video_info.fps," FPS, ",v.extraction_info.video_info.duration.toFixed(1),"s duration"]}),n.jsxs("p",{style:{fontSize:"0.9rem",margin:"0.5rem 0 0 0"},children:[n.jsx("strong",{children:"Extraction:"})," ",v.extraction_info.extracted_count," frames extracted from ",v.extraction_info.total_frames," total in ",v.extraction_info.extraction_time.toFixed(1),"s"]})]})]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("h3",{children:["Frame-by-Frame Results (",v.results.length," frames)"]}),n.jsx("div",{style:{maxHeight:"500px",overflowY:"auto",marginTop:"1.5rem"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Timestamp"}),n.jsx("th",{children:"Frame"}),n.jsx("th",{children:"Person"}),n.jsx("th",{children:"Confidence"}),n.jsx("th",{children:"Status"})]})}),n.jsx("tbody",{children:v.results.map((J,be)=>n.jsxs("tr",{children:[n.jsxs("td",{children:[J.timestamp.toFixed(2),"s"]}),n.jsxs("td",{children:["#",J.frame_number]}),n.jsx("td",{children:J.recognized?J.person:n.jsx("em",{children:"Unknown"})}),n.jsx("td",{children:J.recognized?`${J.confidence.toFixed(1)}%`:"-"}),n.jsx("td",{children:n.jsx("span",{className:`badge ${J.recognized?"badge-success":"badge-secondary"}`,children:J.recognized?"Recognized":"Unknown"})})]},be))})]})})]})]})]})}function Fv(){const s=Wn(),[r,o]=g.useState(null),[c,u]=g.useState(null),[f,h]=g.useState("serbia"),[b,y]=g.useState(3),[p,v]=g.useState(!1),{uploading:x,uploadProgress:w,error:N,uploadAsync:j,clearError:C}=Bp(),_=R=>{if(!R)return;const q=Ht.validateFile(R);if(!q.valid){alert(q.errors.join(`
`));return}o(R),C(),u({name:R.name,size:(R.size/(1024*1024)).toFixed(2)+" MB",type:R.type})},T=R=>{R.preventDefault(),R.stopPropagation(),R.type==="dragenter"||R.type==="dragover"?v(!0):R.type==="dragleave"&&v(!1)},O=R=>{R.preventDefault(),R.stopPropagation(),v(!1),R.dataTransfer.files&&R.dataTransfer.files[0]&&_(R.dataTransfer.files[0])},D=R=>{R.target.files&&R.target.files[0]&&_(R.target.files[0])},z=async()=>{if(!r)return;const R=await j(r,f,b);if(R.success&&R.video_id){const q=localStorage.getItem("videoRecognitionHistory"),B=q?JSON.parse(q):{completed:[],processing:[]},X={video_id:R.video_id,domain:f,status:"processing",addedAt:new Date().toISOString()};B.processing=[X,...B.processing],localStorage.setItem("videoRecognitionHistory",JSON.stringify(B)),s(`/video-recognition/results?video_id=${R.video_id}`)}};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Upload Video for Recognition"}),n.jsx(It,{topic:"video-upload"})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:"Upload Video File"}),n.jsx("p",{style:{color:"#718096",marginBottom:"2rem"},children:"Upload a video file to extract faces and perform recognition. The video will be processed frame by frame using the ArcFace model."}),!r&&n.jsxs("div",{className:`upload-zone ${p?"drag-active":""}`,onDragEnter:T,onDragLeave:T,onDragOver:T,onDrop:O,onClick:()=>document.getElementById("videoFileInput").click(),children:[n.jsx("input",{id:"videoFileInput",type:"file",accept:"video/*,.mp4,.avi,.mov,.mkv",onChange:D,style:{display:"none"}}),n.jsx("div",{className:"upload-icon",children:""}),n.jsx("p",{className:"upload-text",children:"Drag and drop your video here, or click to browse"}),n.jsx("p",{className:"upload-hint",children:"Supported formats: MP4, AVI, MOV, MKV (Max 100MB)"})]}),r&&c&&!x&&n.jsxs("div",{className:"file-preview",children:[n.jsxs("div",{className:"file-info",children:[n.jsx("span",{className:"file-icon",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"file-name",children:c.name}),n.jsx("p",{className:"file-size",children:c.size})]})]}),n.jsx("button",{onClick:()=>o(null),className:"btn btn-secondary",children:"Remove"})]}),r&&!x&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:n.jsx(Le,{content:"How many seconds between extracted frames. Lower = more frames = longer processing",position:"right",children:n.jsx("span",{children:"Frame Extraction Interval"})})}),n.jsx("input",{type:"number",value:b,onChange:R=>y(parseFloat(R.target.value)),min:"0.1",max:"60",step:"0.5",className:"input-field",style:{width:"150px",marginRight:"1rem"}}),n.jsxs("span",{style:{fontSize:"0.9rem",color:"#718096"},children:["1 frame every ",b,"s"]})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:n.jsx(Le,{content:"Select which face database to use for recognition",position:"right",children:n.jsx("span",{children:"Recognition Domain"})})}),n.jsxs("select",{value:f,onChange:R=>h(R.target.value),className:"input-field",style:{width:"200px"},children:[n.jsx("option",{value:"serbia",children:"Serbia (ArcFace - Fast)"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"bosnia",children:"Bosnia"})]})]}),n.jsx(Le,{content:"Upload video and start processing",position:"top",children:n.jsx("button",{onClick:z,className:"btn btn-primary",children:"Upload and Process Video"})})]}),x&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Uploading..."}),n.jsxs("span",{children:[w,"%"]})]}),n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-bar-fill",style:{width:`${w}%`}})})]}),N&&n.jsx("div",{className:"error-message",style:{marginTop:"1rem"},children:N})]})]})}function Vv({videoId:s,results:r,extractionInfo:o}){const c=g.useRef(null),[u,f]=g.useState(0),[h,b]=g.useState(!1),[y,p]=g.useState(null),[v,x]=g.useState(0),w=Jt.getToken(),N=r?.map(X=>X.faces&&Array.isArray(X.faces)?{frameNumber:X.frame_number,timestamp:X.timestamp,persons:X.faces.map(te=>({name:te.identity,confidence:te.confidence}))}:X.recognized&&X.person?{frameNumber:X.frame_number,timestamp:X.timestamp,persons:[{name:X.person,confidence:X.confidence}]}:{frameNumber:X.frame_number,timestamp:X.timestamp,persons:[]})||[],j=o?.video_info||{},C=j.fps||25,_=j.interval_seconds||3,T=j.duration||1;g.useEffect(()=>{if(!c.current||N.length===0)return;const X=Math.floor(u/_),te=N.find(W=>Math.floor(W.frameNumber/(_*C))===X);if(te&&te.persons.length>0){const W=te.persons.reduce((H,ue)=>ue.confidence>H.confidence?ue:H);(!y||y.name!==W.name)&&(p(W),x(Date.now()))}},[u,N,_,C,y]);const D=(y?Date.now()-v<1e3:!1)?y:null,z=()=>{c.current&&f(c.current.currentTime)},R=X=>{if(c.current){const te=X/C;c.current.currentTime=te}},B=(()=>{const X=[],te={},W=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];let H=0;return N.forEach(ue=>{if(ue.persons.length>0){const ge=ue.persons[0];te[ge.name]||(te[ge.name]=W[H%W.length],H++);const Ee=ue.frameNumber/C,Oe=Ee/T*100;X.push({name:ge.name,timestamp:Ee,percentage:Oe,color:te[ge.name],confidence:ge.confidence})}}),X})();return n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxWidth:"900px",margin:"0 auto"},children:[n.jsxs("div",{style:{position:"relative",backgroundColor:"#000",borderRadius:"8px",overflow:"hidden",minHeight:"400px"},children:[n.jsxs("video",{ref:c,style:{width:"100%",display:"block",maxHeight:"500px"},onTimeUpdate:z,onPlay:()=>b(!0),onPause:()=>b(!1),controls:!0,children:[n.jsx("source",{src:`/api/storage/videos/${s}/stream?token=${encodeURIComponent(w)}`,type:"video/mp4"}),"Your browser does not support the video tag."]}),D&&n.jsx("div",{style:{position:"absolute",bottom:"60px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"500",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",zIndex:10,animation:"fadeIn 0.3s ease-in"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem"},children:[n.jsx("span",{children:D.name.replace(/_/g," ")}),n.jsxs("span",{style:{fontSize:"0.85rem",color:"#94a3b8"},children:[D.confidence.toFixed(1),"% confidence"]})]})})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{marginTop:0,marginBottom:"0.5rem",fontSize:"0.9rem",color:"#718096"},children:"Recognition Timeline"}),n.jsxs("div",{style:{position:"relative",height:"40px",backgroundColor:"#f1f5f9",borderRadius:"4px",overflow:"hidden"},children:[B.map((X,te)=>n.jsx("div",{onClick:()=>R(X.timestamp*C),style:{position:"absolute",left:`${X.percentage}%`,top:0,width:"3px",height:"100%",backgroundColor:X.color,cursor:"pointer",transition:"transform 0.2s",zIndex:1},title:`${X.name.replace(/_/g," ")} (${X.confidence.toFixed(1)}%)`,onMouseEnter:W=>W.currentTarget.style.transform="scaleY(1.2)",onMouseLeave:W=>W.currentTarget.style.transform="scaleY(1)"},te)),n.jsx("div",{style:{position:"absolute",left:`${u/T*100}%`,top:0,width:"2px",height:"100%",backgroundColor:"#ef4444",zIndex:2}})]}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",marginTop:"1rem"},children:Object.entries(B.reduce((X,te)=>(X[te.name]||(X[te.name]={color:te.color,count:0}),X[te.name].count++,X),{})).map(([X,te])=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:te.color,borderRadius:"2px"}}),n.jsxs("span",{style:{fontSize:"0.85rem",color:"#475569"},children:[X.replace(/_/g," ")," (",te.count,")"]})]},X))})]}),n.jsx("div",{style:{fontSize:"0.85rem",color:"#718096",fontStyle:"italic"},children:" Tip: Click on timeline markers to jump to when each person appears. Names stay visible for at least 1 second."}),n.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateX(-50%) translateY(10px); }
          to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
      `})]})}function Gv({video:s,onClose:r}){const[o,c]=g.useState("player");if(!s)return null;const u=_=>_>=70?"#10b981":_>=40?"#f59e0b":"#ef4444",f=_=>_?new Date(_).toLocaleString():"N/A",h=s.face_recognition||{},b=s.face_recognition===null&&s.processing_stage!=="complete",y=s.statistics||h.statistics||{},p=s.performance||h.performance||{},v=s.extraction_info||h.extraction_info||{},x=s.results||h.frame_results||[],w=h.tracking_results||{},N=w.identity_results||{},j=()=>{const _=N.confirmed_persons||{},T={};return Object.entries(_).forEach(([O,D])=>{T[O]={frame_count:D.total_frames||0,weighted_score:(D.avg_confidence||0)*(D.total_frames||0),avg_confidence:D.avg_confidence||0,best_confidence:D.avg_confidence||0,occurrence_rate:0}}),{primary_person:N.primary_person,filtered_persons:T,min_frame_occurrence:w.parameters?.min_track_length,use_weighted_voting:!0,persons_filtered_out:N.unresolved_tracks?.map(O=>O.top_candidate)||[],all_detected_persons:T,blacklisted_persons:[]}},C=s.multi_frame_voting||h.multi_frame_voting||(N.confirmed_persons?j():{});return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},onClick:r,children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:_=>_.stopPropagation(),children:[n.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #3a3a3a",display:"flex",justifyContent:"space-between",alignItems:"start"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0},children:"Video Recognition Details"}),n.jsxs("p",{style:{color:"#718096",fontSize:"0.9rem",margin:"0.5rem 0 0 0"},children:["Video ID: ",n.jsx("code",{style:{fontSize:"0.85rem"},children:s.video_id})]})]}),n.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#718096",padding:"0.25rem 0.5rem"},children:""})]}),n.jsxs("div",{style:{padding:"0 1.5rem",borderBottom:"1px solid #3a3a3a",display:"flex",gap:"1rem"},children:[n.jsx("button",{onClick:()=>c("player"),style:{background:"none",border:"none",padding:"1rem 0.5rem",cursor:"pointer",borderBottom:o==="player"?"2px solid #3b82f6":"2px solid transparent",color:o==="player"?"#3b82f6":"#718096",fontWeight:o==="player"?"500":"normal"},children:" Video Player"}),n.jsx("button",{onClick:()=>c("overview"),style:{background:"none",border:"none",padding:"1rem 0.5rem",cursor:"pointer",borderBottom:o==="overview"?"2px solid #3b82f6":"2px solid transparent",color:o==="overview"?"#3b82f6":"#718096",fontWeight:o==="overview"?"500":"normal"},children:"Overview"}),n.jsx("button",{onClick:()=>c("voting"),style:{background:"none",border:"none",padding:"1rem 0.5rem",cursor:"pointer",borderBottom:o==="voting"?"2px solid #3b82f6":"2px solid transparent",color:o==="voting"?"#3b82f6":"#718096",fontWeight:o==="voting"?"500":"normal"},children:"Multi-Frame Voting"}),n.jsxs("button",{onClick:()=>c("frames"),style:{background:"none",border:"none",padding:"1rem 0.5rem",cursor:"pointer",borderBottom:o==="frames"?"2px solid #3b82f6":"2px solid transparent",color:o==="frames"?"#3b82f6":"#718096",fontWeight:o==="frames"?"500":"normal"},children:["Frame Results (",x.length,")"]})]}),n.jsxs("div",{style:{flex:1,overflow:"auto",padding:"1.5rem"},children:[b&&n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("span",{style:{fontSize:"1.25rem"},children:""}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:"#92400e"},children:"Face Recognition In Progress"}),n.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#78350f",fontSize:"0.9rem"},children:s.message||"Face recognition is still processing. Refresh to see updated results."})]})]}),o==="player"&&n.jsx(Vv,{videoId:s.video_id,results:x,extractionInfo:v}),o==="overview"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{marginTop:0},children:"Video Information"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Domain"}),n.jsx("p",{style:{fontWeight:"500",margin:"0.25rem 0 0 0"},children:s.domain||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Processed At"}),n.jsx("p",{style:{fontWeight:"500",margin:"0.25rem 0 0 0"},children:f(s.processed_at||s.completedAt)})]}),n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Duration"}),n.jsxs("p",{style:{fontWeight:"500",margin:"0.25rem 0 0 0"},children:[v.video_info?.duration?.toFixed(1)||"N/A","s"]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Resolution"}),n.jsxs("p",{style:{fontWeight:"500",margin:"0.25rem 0 0 0"},children:[v.video_info?.width||"?","  ",v.video_info?.height||"?"]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{children:"Recognition Statistics"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Total Frames"}),n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:y.total_frames||0})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Recognized"}),n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0",color:"#10b981"},children:y.recognized_frames||0})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Recognition Rate"}),n.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0",color:u(y.recognition_rate||0)},children:[y.recognition_rate?.toFixed(1)||0,"%"]})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Unique Persons"}),n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:y.unique_persons||0})]})]}),y.persons_list&&y.persons_list.length>0&&n.jsxs("div",{style:{marginTop:"1rem"},children:[n.jsx("p",{style:{fontWeight:"500",marginBottom:"0.5rem"},children:"Detected Persons:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:y.persons_list.map((_,T)=>n.jsx("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"20px",fontSize:"0.9rem"},children:_},T))})]})]}),n.jsxs("div",{children:[n.jsx("h3",{children:"Performance Metrics"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Processing Time"}),n.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:[p.processing_time_seconds?.toFixed(1)||"N/A","s"]})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Frames Per Second"}),n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:p.frames_per_second?.toFixed(2)||"N/A"})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Avg CPU Usage"}),n.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:[p.avg_cpu_percent?.toFixed(1)||"N/A","%"]})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Memory Used"}),n.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:[p.memory_used_mb?.toFixed(0)||"N/A"," MB"]})]})]})]})]}),o==="voting"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[n.jsxs("div",{children:[n.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:["Primary Person Detected",n.jsx(Le,{text:"The person most frequently and confidently detected across all frames"})]}),n.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#eff6ff",borderRadius:"8px",border:"2px solid #3b82f6"},children:[n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:0,color:"#1e40af"},children:C.primary_person||"None detected"}),C.primary_person&&C.filtered_persons&&C.filtered_persons[C.primary_person]&&n.jsxs("div",{style:{marginTop:"0.5rem",color:"#475569",fontSize:"0.9rem"},children:[n.jsxs("div",{children:["Weighted Score: ",n.jsx("strong",{children:C.filtered_persons[C.primary_person].weighted_score?.toFixed(1)})]}),n.jsxs("div",{children:["Frames: ",n.jsx("strong",{children:C.filtered_persons[C.primary_person].frame_count})," / ",y.total_frames||0," ","(",(C.filtered_persons[C.primary_person].frame_count/(y.total_frames||1)*100).toFixed(1),"%)"]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{children:"Voting Configuration"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsxs("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:["Min Frame Occurrence",n.jsx(Le,{text:"Minimum number of frames a person must appear in to be included in results"})]}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:C.min_frame_occurrence||"N/A"})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsxs("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:["Weighted Voting",n.jsx(Le,{text:"Uses squared confidence values to weight matches - prioritizes quality over quantity"})]}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:s.use_weighted_voting!==!1?" Enabled":" Disabled"})]})]})]}),C.filtered_persons&&Object.keys(C.filtered_persons).length>0&&n.jsxs("div",{children:[n.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["All Confirmed Persons",n.jsx(Le,{text:"Persons who passed the minimum frame occurrence threshold and confidence requirements"})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Person"}),n.jsxs("th",{children:["Frames",n.jsx(Le,{text:"Number of frames where this person was detected"})]}),n.jsxs("th",{children:["Weighted Score",n.jsx(Le,{text:"Sum of squared confidence values - indicates detection quality"})]}),n.jsxs("th",{children:["Avg Confidence",n.jsx(Le,{text:"Average confidence across all detected frames"})]}),n.jsxs("th",{children:["Best Confidence",n.jsx(Le,{text:"Highest confidence value from any single frame"})]})]})}),n.jsx("tbody",{children:Object.entries(C.filtered_persons).sort((_,T)=>(T[1].weighted_score||0)-(_[1].weighted_score||0)).map(([_,T],O)=>n.jsxs("tr",{style:{backgroundColor:_===C.primary_person?"#eff6ff":"transparent"},children:[n.jsxs("td",{children:[n.jsx("strong",{children:_}),_===C.primary_person&&n.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.75rem",color:"#3b82f6",fontWeight:"600"},children:"PRIMARY"})]}),n.jsx("td",{children:T.frame_count}),n.jsx("td",{children:n.jsx("strong",{children:T.weighted_score?.toFixed(1)})}),n.jsxs("td",{children:[T.avg_confidence?.toFixed(1),"%"]}),n.jsx("td",{children:n.jsxs("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:T.best_confidence>=70?"#10b981":T.best_confidence>=60?"#f59e0b":"#ef4444",color:"white",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500"},children:[T.best_confidence?.toFixed(1),"%"]})})]},O))})]})})]}),C.persons_filtered_out&&C.persons_filtered_out.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Filtered Out (Did Not Pass Threshold)",n.jsx(Le,{text:"Persons detected but did not appear in enough frames or with sufficient confidence"})]}),n.jsx("div",{style:{padding:"1rem",backgroundColor:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca"},children:n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:C.persons_filtered_out.map((_,T)=>{const O=C.all_detected_persons?.[_];return n.jsxs("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"20px",fontSize:"0.85rem",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[_,O&&n.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:["(",O.frame_count," frames)"]})]},T)})})})]}),C.blacklisted_persons&&C.blacklisted_persons.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#dc2626"},children:[" Blacklisted Historical Persons",n.jsx(Le,{text:"Historical figures removed from results as they cannot appear in modern videos"})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",border:"2px solid #fbbf24"},children:[n.jsx("p",{style:{margin:"0 0 0.5rem 0",color:"#78350f",fontSize:"0.9rem"},children:"These persons were detected but removed because they are historical figures who died before modern video era:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:C.blacklisted_persons.map((_,T)=>{const O=C.all_detected_persons?.[_];return n.jsxs("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#fde68a",color:"#78350f",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"500",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[_,O&&n.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:["(",O.frame_count," frames, ",O.weighted_score?.toFixed(1)," weighted score)"]})]},T)})})]})]})]}),o==="frames"&&n.jsxs("div",{children:[n.jsx("h3",{style:{marginTop:0},children:"Frame-by-Frame Results"}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Frame #"}),n.jsx("th",{children:"Timestamp"}),n.jsx("th",{children:"Person"}),n.jsx("th",{children:"Confidence"}),n.jsx("th",{children:"Status"})]})}),n.jsx("tbody",{children:x.map((_,T)=>n.jsxs("tr",{children:[n.jsx("td",{children:_.frame_number}),n.jsxs("td",{children:[_.timestamp?.toFixed(2),"s"]}),n.jsx("td",{children:_.recognized&&_.person?_.person:n.jsx("em",{children:"Unknown"})}),n.jsx("td",{children:_.recognized&&_.confidence?`${_.confidence.toFixed(1)}%`:"-"}),n.jsx("td",{children:n.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:_.recognized?"#10b981":"#718096",color:"white",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"500"},children:_.recognized?"Recognized":"Unknown"})})]},T))})]})})]})]}),n.jsx("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #3a3a3a",display:"flex",justifyContent:"flex-end"},children:n.jsx("button",{onClick:r,className:"btn btn-primary",children:"Close"})})]})})}function Qv(){const[s]=k0(),r=s.get("video_id"),[o,c]=g.useState([]),[u,f]=g.useState([]),[h,b]=g.useState(null),[y,p]=g.useState(!1),[v,x]=g.useState(!1),{status:w,isPolling:N}=Op(r,3e3,!!r),j=g.useCallback(async(z,R=[])=>{if(!z||z.length===0)return;p(!0);const q=[],B=[],X=new Set(R.map(te=>te.video_id));for(const te of z)if(!X.has(te.video_id))try{const W=await Ht.getStatus(te.video_id);W.success&&W.status==="completed"?X.has(te.video_id)||(B.push({...W,completedAt:W.processed_at||new Date().toISOString()}),X.add(te.video_id)):W.status==="not_found"?console.warn(`Video ${te.video_id} not found, removing from processing list`):q.push(te)}catch(W){console.error(`Failed to recheck video ${te.video_id}:`,W),q.push(te)}B.length>0&&f(te=>{const W=[...B,...te],H=new Set;return W.filter(ge=>H.has(ge.video_id)?!1:(H.add(ge.video_id),!0)).slice(0,20)}),c(q),p(!1)},[]);g.useEffect(()=>{(async()=>{try{const R=await Ht.getAllVideos();if(R.success&&R.videos){const q=R.videos.filter(B=>B.results_available).map(B=>({video_id:B.video_id,domain:B.domain||"serbia",status:"completed",completedAt:B.uploaded_at,fromBackend:!0,statistics:B.statistics,performance:B.performance}));f(q)}}catch(R){console.error("Failed to load videos from backend:",R)}})()},[]),g.useEffect(()=>{const z=localStorage.getItem("videoRecognitionHistory");if(z)try{const q=JSON.parse(z).processing||[];c(q),q.length>0&&j(q,[])}catch(R){console.error("Failed to parse video history:",R)}x(!0)},[j]),g.useEffect(()=>{if(w&&w.isComplete&&w.success){if(!o.find(q=>q.video_id===w.video_id))return;c(q=>q.filter(B=>B.video_id!==w.video_id));const R={...w,completedAt:new Date().toISOString()};f(q=>{const B=[R,...q],X=new Set;return B.filter(W=>X.has(W.video_id)?!1:(X.add(W.video_id),!0)).slice(0,20)})}},[w,o]),g.useEffect(()=>{try{const z=u.map(R=>({video_id:R.video_id,domain:R.domain,status:R.status,completedAt:R.completedAt,fromBackend:R.fromBackend}));localStorage.setItem("videoRecognitionHistory",JSON.stringify({completed:z,processing:o}))}catch(z){z.name==="QuotaExceededError"&&(console.warn("localStorage quota exceeded, clearing old data"),localStorage.removeItem("videoRecognitionHistory"))}},[u,o]);const C=z=>z>=70?"#10b981":z>=40?"#f59e0b":"#ef4444",_=z=>z?new Date(z).toLocaleString():"N/A",T=async z=>{if(confirm("Are you sure you want to delete this video? This will remove the video file, frames, and results permanently."))try{const R=await Ht.deleteVideo(z);R.success?f(q=>q.filter(B=>B.video_id!==z)):alert(`Failed to delete video: ${R.message}`)}catch(R){console.error("Error deleting video:",R),alert("Failed to delete video. Please try again.")}},O=()=>{confirm("Are you sure you want to clear all completed videos from history?")&&(f([]),localStorage.setItem("videoRecognitionHistory",JSON.stringify({completed:[],processing:o})))},D=async z=>{const R=z.face_recognition||{};if(z.results||z.multi_frame_voting||R.frame_results||R.tracking_results){b(z);return}try{const q=await Ht.getStatus(z.video_id);q.success?b({...z,...q}):alert("Failed to load video details. Please try again.")}catch(q){console.error("Error loading video details:",q),alert("Failed to load video details. Please try again.")}};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Video Recognition Results"}),n.jsx(It,{topic:"video-results"})]}),n.jsx("p",{style:{color:"#718096",marginBottom:"2rem"},children:"View processing status and results for your video recognition tasks."}),(o.length>0||r&&N)&&n.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[n.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("span",{className:"spinner",style:{width:"20px",height:"20px"}}),"Currently Processing (",o.length||(r&&N?1:0),")"]}),n.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[r&&N&&!o.find(z=>z.video_id===r)&&n.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f7fafc",borderRadius:"8px",border:"2px solid #3a3a3a"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsxs("p",{style:{fontWeight:"500",margin:0},children:["Video ID: ",r]}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096",margin:"0.25rem 0 0 0"},children:["Started: ",_(new Date().toISOString())]})]}),n.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"500"},children:"Processing"})]}),w&&w.isProcessing&&n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.9rem",color:"#718096",margin:"0.5rem 0"},children:" Processing frames... This may take several minutes depending on video length."}),n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:" You can leave this page and come back later. Processing continues in the background."})]})]}),o.map(z=>n.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f7fafc",borderRadius:"8px",border:"2px solid #3a3a3a"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsxs("p",{style:{fontWeight:"500",margin:0},children:["Video ID: ",z.video_id]}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096",margin:"0.25rem 0 0 0"},children:["Started: ",_(z.addedAt)]})]}),n.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"500"},children:"Processing"})]}),z.video_id===r&&w&&w.isProcessing&&n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.9rem",color:"#718096",margin:"0.5rem 0"},children:" Processing frames... This may take several minutes depending on video length."}),n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:" You can leave this page and come back later. Processing continues in the background."})]})]},z.video_id))]})]}),o.length===0&&n.jsxs("div",{className:"card",style:{marginBottom:"2rem",textAlign:"center",padding:"2rem"},children:[n.jsx("p",{style:{color:"#718096",marginBottom:"1rem"},children:"No videos currently processing"}),n.jsx(Ge,{to:"/video-recognition/upload",className:"btn btn-primary",children:"Upload New Video"})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsxs("h3",{style:{margin:0},children:["Completed Videos (",u.length,")"]}),u.length>0&&n.jsx("button",{onClick:O,className:"btn btn-secondary",style:{fontSize:"0.9rem"},children:"Clear History"})]}),u.length===0?n.jsx("p",{style:{color:"#718096",textAlign:"center",padding:"2rem 0"},children:"No completed videos yet. Upload a video to get started."}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Video ID"}),n.jsx("th",{children:"Completed"}),n.jsx("th",{children:"Domain"}),n.jsx("th",{children:"Frames"}),n.jsx("th",{children:"Recognition Rate"}),n.jsx("th",{children:"Persons Found"}),n.jsx("th",{children:"Processing Time"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:u.map((z,R)=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx(Le,{content:z.video_id,position:"top",children:n.jsxs("code",{style:{fontSize:"0.85rem"},children:[z.video_id.substring(0,12),"..."]})})}),n.jsx("td",{style:{fontSize:"0.9rem"},children:_(z.completedAt)}),n.jsx("td",{children:n.jsx("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#3a3a3a",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500"},children:z.domain||"N/A"})}),n.jsx("td",{children:n.jsx(Le,{content:`${z.statistics?.recognized_frames||0} recognized out of ${z.statistics?.total_frames||0} total`,position:"top",children:n.jsx("span",{children:z.statistics?.total_frames||0})})}),n.jsx("td",{children:n.jsxs("span",{style:{color:C(z.statistics?.recognition_rate||0),fontWeight:"500"},children:[z.statistics?.recognition_rate?.toFixed(1)||0,"%"]})}),n.jsx("td",{children:n.jsx(Le,{content:z.statistics?.persons_list?.length>0?z.statistics.persons_list.join(", "):"No persons recognized",position:"top",children:n.jsx("span",{style:{fontWeight:"500"},children:z.statistics?.unique_persons||0})})}),n.jsxs("td",{children:[z.performance?.processing_time_seconds?.toFixed(1)||"N/A","s"]}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx(Le,{content:"View detailed results",position:"top",children:n.jsx("button",{onClick:()=>D(z),className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"0.25rem 0.75rem"},children:"Details"})}),n.jsx(Le,{content:"Remove from history",position:"top",children:n.jsx("button",{onClick:()=>T(z.video_id),className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"0.25rem 0.75rem"},children:"Remove"})})]})})]},`${z.video_id}-${R}`))})]})})]}),u.length>0&&n.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:n.jsx(Ge,{to:"/video-recognition/upload",className:"btn btn-primary",children:"Upload Another Video"})}),h&&n.jsx(Gv,{video:h,onClose:()=>b(null)})]})}const xn={async getStorageStats(){try{return(await ce.get("/api/storage/stats")).data}catch(s){return console.error("Failed to get storage stats:",s),{success:!1,message:s.response?.data?.message||"Failed to get storage stats"}}},async getVideos(){try{return(await ce.get("/api/storage/videos")).data}catch(s){return console.error("Failed to get videos list:",s),{success:!1,message:s.response?.data?.message||"Failed to get videos list"}}},async deleteVideo(s){try{return(await ce.delete(`/api/storage/videos/${s}`)).data}catch(r){return console.error(`Failed to delete video ${s}:`,r),{success:!1,message:r.response?.data?.message||"Failed to delete video"}}},async cleanupOldVideos(s){try{return(await ce.post("/api/storage/cleanup",{days:s})).data}catch(r){return console.error("Failed to cleanup videos:",r),{success:!1,message:r.response?.data?.message||"Failed to cleanup videos"}}},formatSize(s){return s<1?`${(s*1024).toFixed(2)} KB`:s<1024?`${s.toFixed(2)} MB`:`${(s/1024).toFixed(2)} GB`},formatDuration(s){if(!s)return"N/A";const r=Math.floor(s/3600),o=Math.floor(s%3600/60),c=Math.floor(s%60);return r>0?`${r}:${String(o).padStart(2,"0")}:${String(c).padStart(2,"0")}`:`${o}:${String(c).padStart(2,"0")}`},formatDate(s){if(!s)return"N/A";try{return new Date(s).toLocaleString()}catch{return s}}};function Yv(){const[s,r]=g.useState(null),[o,c]=g.useState([]),[u,f]=g.useState(!0),[h,b]=g.useState(null),[y,p]=g.useState(null),[v,x]=g.useState(30),[w,N]=g.useState(!1),[j,C]=g.useState(null);g.useEffect(()=>{_()},[]);const _=async()=>{f(!0),b(null);try{const R=await xn.getStorageStats();R.success?(r(R),c(R.videos||[])):b(R.message||"Failed to load storage data")}catch(R){b(R.message||"Failed to load storage data")}finally{f(!1)}},T=async(R,q)=>{if(confirm(`Are you sure you want to delete "${q}"?

This will remove:
- Video file
- All extracted frames
- Recognition results

This action cannot be undone.`)){p(R),b(null);try{const B=await xn.deleteVideo(R);B.success?(await _(),alert(`Successfully deleted video: ${q}`)):b(B.message||"Failed to delete video")}catch(B){b(B.message||"Failed to delete video")}finally{p(null)}}},O=async()=>{if(confirm(`Are you sure you want to delete all videos older than ${v} days?

This action cannot be undone.`)){N(!0),b(null),C(null);try{const R=await xn.cleanupOldVideos(v);R.success?(C(R),await _()):b(R.message||"Cleanup failed")}catch(R){b(R.message||"Cleanup failed")}finally{N(!1)}}},z=(()=>{if(!s||!s.disk_usage)return"normal";const R=s.disk_usage.total_mb;return R>5e3?"critical":R>2e3?"warning":"normal"})();return n.jsxs("div",{className:"page-container",children:[n.jsx(It,{pageName:"storage-management"}),n.jsx("h1",{children:"Storage Management"}),n.jsx("p",{className:"subtitle",children:"Manage video storage, monitor disk usage, and cleanup old files."}),h&&n.jsx("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:h}),u?n.jsxs("div",{className:"loading-state",style:{marginTop:"3rem"},children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading storage data..."})]}):s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:["Storage Overview",z==="critical"&&n.jsx("span",{style:{color:"#dc2626"},children:" Storage Full"}),z==="warning"&&n.jsx("span",{style:{color:"#f59e0b"},children:" High Usage"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},children:[n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Total Videos"}),n.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2d3748",margin:0},children:s.total_videos})]}),n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Total Size"}),n.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2d3748",margin:0},children:xn.formatSize(s.total_size_mb)})]}),n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Video Files"}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#3b82f6",margin:0},children:xn.formatSize(s.disk_usage.videos_mb)})]}),n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Extracted Frames"}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#10b981",margin:0},children:xn.formatSize(s.disk_usage.frames_mb)})]}),n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Results Data"}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#8b5cf6",margin:0},children:xn.formatSize(s.disk_usage.results_mb)})]})]})]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{style:{marginTop:0},children:"Cleanup Old Videos"}),n.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",flexWrap:"wrap"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Delete videos older than:"}),n.jsxs("select",{value:v,onChange:R=>x(parseInt(R.target.value)),className:"input-field",style:{width:"200px"},disabled:w,children:[n.jsx("option",{value:7,children:"7 days"}),n.jsx("option",{value:14,children:"14 days"}),n.jsx("option",{value:30,children:"30 days"}),n.jsx("option",{value:60,children:"60 days"}),n.jsx("option",{value:90,children:"90 days"})]})]}),n.jsx(Le,{content:"Delete all videos older than the selected number of days. This action cannot be undone.",position:"top",children:n.jsx("button",{onClick:O,disabled:w,className:"btn btn-primary",style:{background:"#dc2626",borderColor:"#dc2626"},children:w?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner",style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Cleaning up..."]}):n.jsx(n.Fragment,{children:" Cleanup Old Videos"})})})]}),j&&n.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px"},children:[n.jsx("p",{style:{fontWeight:"500",margin:"0 0 0.5rem 0",color:"#166534"},children:" Cleanup Complete"}),n.jsxs("p",{style:{margin:"0 0 0.5rem 0",color:"#166534"},children:["Deleted ",j.videos_deleted," video(s) older than ",j.days_threshold," days"]}),n.jsxs("p",{style:{margin:0,color:"#166534"},children:["Freed ",xn.formatSize(j.size_freed_mb)," of disk space"]})]})]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("h3",{style:{marginTop:0},children:["Stored Videos (",o.length,")"]}),o.length===0?n.jsxs("div",{style:{padding:"3rem",textAlign:"center",color:"#718096"},children:[n.jsx("p",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),n.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"500",margin:0},children:"No videos stored"}),n.jsx("p",{style:{fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:"Upload videos from the Video Recognition page"})]}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",style:{width:"100%",marginTop:"1rem"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Filename"}),n.jsx("th",{children:"Upload Date"}),n.jsx("th",{children:"Size"}),n.jsx("th",{children:"Duration"}),n.jsx("th",{children:"Frames"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:o.map(R=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx(Le,{content:R.video_id,position:"top",children:n.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.875rem"},children:R.filename})})}),n.jsx("td",{style:{fontSize:"0.875rem"},children:xn.formatDate(R.uploaded_at)}),n.jsx("td",{style:{fontSize:"0.875rem"},children:xn.formatSize(R.size_mb)}),n.jsx("td",{style:{fontSize:"0.875rem"},children:xn.formatDuration(R.duration_seconds)}),n.jsx("td",{style:{fontSize:"0.875rem",textAlign:"center"},children:R.frames_extracted||0}),n.jsx("td",{children:R.results_available?n.jsx("span",{className:"badge badge-success",children:"Processed"}):n.jsx("span",{className:"badge badge-secondary",children:"Pending"})}),n.jsx("td",{children:n.jsx("button",{onClick:()=>T(R.video_id,R.filename),disabled:y===R.video_id,className:"btn btn-secondary",style:{padding:"0.25rem 0.75rem",fontSize:"0.875rem",background:"#dc2626",borderColor:"#dc2626",color:"white"},children:y===R.video_id?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner",style:{width:"0.75rem",height:"0.75rem"}}),"Deleting..."]}):" Delete"})})]},R.video_id))})]})})]}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" Storage Management"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Video Files:"})," Original uploaded video files"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Extracted Frames:"})," JPEG images extracted from videos for recognition"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Results Data:"})," JSON files containing recognition results"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Delete:"})," Removes video, all frames, and results (cannot be undone)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Cleanup:"})," Automatically deletes videos older than specified days"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Storage Warning:"})," System shows warnings when storage exceeds 2GB"]})]})]})]})]})}const vt={async getTrainingQueue(s="serbia"){return(await ce.get("/api/training/smart/queue",{params:{domain:s}})).data},async addToQueue(s,r="serbia",o="medium",c=null,u=null){return(await ce.post("/api/training/smart/queue/add",{person_name:s,domain:r,priority:o,wikidata_id:c,recognition_score:u})).data},async removeFromQueue(s,r="serbia"){return(await ce.post("/api/training/smart/queue/remove",{person_name:s,domain:r})).data},async updatePriority(s,r,o="serbia",c=!1){return(await ce.post("/api/training/smart/queue/priority",{person_name:s,priority:r,domain:o,move_to_top:c})).data},async startSmartCycle(s){return(await ce.post("/api/training/smart/run",{domain:s.domain||"serbia",discover_new:s.discover_new!==!1,benchmark_existing:s.benchmark_existing!==!1,max_new_discoveries:s.max_new_discoveries||10,max_training_per_run:s.max_training_per_run||5,images_per_person:s.images_per_person||20},{timeout:1e4})).data},async getSmartTrainingRuns(s="serbia"){try{console.log(" [Service] Calling /api/training/smart/runs with domain:",s);const r=await ce.get("/api/training/smart/runs",{params:{domain:s,limit:50}});return console.log(" [Service] Response status:",r.status),console.log(" [Service] Response data:",r.data),r.data}catch(r){throw console.error(" [Service] Error calling API:",r.message),console.error(" [Service] Error response:",r.response?.data),r}},async benchmarkPerson(s,r="serbia",o=20){return(await ce.post("/api/training/benchmark/person",{person_name:s,domain:r,num_images:o},{timeout:18e4})).data},async benchmarkBatch(s,r="serbia",o=10){return(await ce.post("/api/training/benchmark/batch",{people:s,domain:r,num_images_per_person:o},{timeout:3e5})).data},async benchmarkAndQueue(s,r="serbia",o=null,c=20){return(await ce.post("/api/training/benchmark/and-queue",{person_name:s,domain:r,wikidata_id:o,num_images:c},{timeout:18e4})).data},async getBenchmarkCandidates(s="serbia",r=80){return(await ce.get("/api/training/benchmark/candidates",{params:{domain:s,min_score:r}})).data},async discoverTrending(s="serbia",r=20){return(await ce.get("/api/training/discover/trending",{params:{country:s,max_results:r},timeout:6e4})).data},async getTopCelebrities(s="serbia",r=50){return(await ce.get("/api/training/discover/top",{params:{country:s,limit:r},timeout:6e4})).data},async searchCelebrity(s,r=null){const o={q:s};return r&&(o.country=r),(await ce.get("/api/training/discover/search",{params:o,timeout:4e4})).data},async getDashboardStats(s="serbia"){try{const[r,o]=await Promise.all([this.getTrainingQueue(s),this.getBenchmarkCandidates(s,80)]),c=r.queue||[],u=o.candidates||[];return{success:!0,stats:{queue_size:r.queue_size||0,high_priority:c.filter(f=>f.priority==="high").length,medium_priority:c.filter(f=>f.priority==="medium").length,low_priority:c.filter(f=>f.priority==="low").length,candidates_needing_training:u.length,avg_recognition_score:u.length>0?Math.round(u.reduce((f,h)=>f+(h.recognition_score||0),0)/u.length):null},queue:c,candidates:u}}catch(r){return{success:!1,error:r.message,stats:{queue_size:0,high_priority:0,medium_priority:0,low_priority:0,candidates_needing_training:0,avg_recognition_score:null}}}}};function Mp({priority:s}){const r=()=>{switch(s){case"high":return"";case"medium":return"";case"low":return"";default:return""}};return n.jsxs("span",{className:`priority-badge ${s||"medium"}`,children:[n.jsx("span",{children:r()}),n.jsx("span",{children:s||"medium"})]})}function td({score:s,size:r=80}){const o=Math.min(Math.max(s||0,0),100),c=(r-8)/2,u=2*Math.PI*c,f=u-o/100*u,h=()=>o>=80?"score-high":o>=50?"score-medium":"score-low";return n.jsxs("div",{className:"score-gauge",style:{width:r,height:r},children:[n.jsxs("svg",{width:r,height:r,children:[n.jsx("circle",{className:"gauge-bg",cx:r/2,cy:r/2,r:c}),n.jsx("circle",{className:`gauge-fill ${h()}`,cx:r/2,cy:r/2,r:c,strokeDasharray:u,strokeDashoffset:f})]}),n.jsx("div",{className:"score-gauge-label",children:Math.round(o)})]})}function Pv({person:s,showScore:r=!1,onRemove:o,onBenchmark:c,onTrain:u}){const f=h=>{if(!h)return"Never";try{const b=new Date(h),p=new Date-b,v=Math.floor(p/(1e3*60*60));if(v<1)return"Just now";if(v<24)return`${v}h ago`;const x=Math.floor(v/24);return x<7?`${x}d ago`:b.toLocaleDateString()}catch{return h}};return n.jsxs("div",{className:"person-card",children:[n.jsxs("div",{className:"person-card-header",children:[s.image_url&&n.jsx("img",{src:s.image_url,alt:s.person_name||s.name,className:"person-card-image",onError:h=>{h.target.style.display="none"}}),n.jsxs("div",{className:"person-card-info",children:[n.jsx("h3",{className:"person-card-name",children:s.person_name||s.name}),n.jsx("p",{className:"person-card-meta",children:s.description||s.occupation||"Celebrity"}),s.priority&&n.jsx(Mp,{priority:s.priority})]}),r&&s.recognition_score!==void 0&&n.jsx(td,{score:s.recognition_score,size:64})]}),r&&n.jsxs("div",{className:"person-card-stats",children:[n.jsxs("div",{className:"person-card-stat",children:[n.jsx("div",{className:"person-card-stat-label",children:"Recognition"}),n.jsx("div",{className:"person-card-stat-value",children:s.recognition_score!==void 0?`${s.recognition_score}%`:"N/A"})]}),n.jsxs("div",{className:"person-card-stat",children:[n.jsx("div",{className:"person-card-stat-label",children:"Last Checked"}),n.jsx("div",{className:"person-card-stat-value",style:{fontSize:"0.875rem"},children:f(s.last_benchmark||s.added_at)})]})]}),n.jsxs("div",{className:"person-card-actions",children:[c&&n.jsx("button",{className:"btn btn-secondary",onClick:()=>c(s),title:"Run recognition benchmark",children:" Benchmark"}),u&&n.jsx("button",{className:"btn btn-primary",onClick:()=>u(s),title:"Train this person",children:" Train"}),o&&n.jsx("button",{className:"btn btn-danger",onClick:()=>o(s),title:"Remove from queue",style:{marginLeft:"auto"},children:""})]})]})}function Up({isOpen:s,onClose:r,onSuccess:o}){const[c,u]=g.useState(""),[f,h]=g.useState("medium"),[b,y]=g.useState(""),[p,v]=g.useState("serbia"),[x,w]=g.useState(!1),[N,j]=g.useState(null),[C,_]=g.useState([]),[T,O]=g.useState(!1),D=async B=>{if(!B||B.length<2){_([]);return}O(!0),j(null);try{const X=await vt.searchCelebrity(B);X.success?_(X.results||[]):j(X.error||"Search failed")}catch(X){console.error("Search error:",X),_([])}finally{O(!1)}},z=B=>{u(B.full_name||B.name),y(B.wikidata_id||""),_([])},R=async B=>{if(B.preventDefault(),!c.trim()){j("Person name is required");return}w(!0),j(null);try{const X=await vt.addToQueue(c,p,f,b||null);X.success?(o&&o(X),q()):j(X.error||"Failed to add to queue")}catch(X){j(X.message||"Failed to add to queue")}finally{w(!1)}},q=()=>{u(""),h("medium"),y(""),_([]),j(null),r()};return s?n.jsx("div",{className:"modal-overlay",onClick:q,children:n.jsxs("div",{className:"modal-content",onClick:B=>B.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Add Person to Training Queue"}),n.jsx("button",{className:"modal-close",onClick:q,children:""})]}),n.jsxs("form",{onSubmit:R,children:[n.jsxs("div",{className:"modal-body",children:[N&&n.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:N}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"personName",className:"form-label",children:"Person Name *"}),n.jsx("input",{type:"text",id:"personName",className:"form-input",value:c,onChange:B=>{u(B.target.value),D(B.target.value)},placeholder:"Search by name...",required:!0}),T&&n.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#999"},children:"Searching Wikidata..."}),C.length>0&&n.jsx("div",{style:{marginTop:"0.5rem",border:"1px solid #3a3a3a",borderRadius:"8px",maxHeight:"200px",overflowY:"auto"},children:C.map((B,X)=>n.jsxs("div",{onClick:()=>z(B),style:{padding:"0.75rem",cursor:"pointer",borderBottom:X<C.length-1?"1px solid #3a3a3a":"none"},onMouseEnter:te=>{te.currentTarget.style.background="#242424"},onMouseLeave:te=>{te.currentTarget.style.background="transparent"},children:[n.jsx("div",{style:{fontWeight:600},children:B.full_name||B.name}),B.description&&n.jsx("div",{style:{fontSize:"0.875rem",color:"#999"},children:B.description})]},X))})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"priority",className:"form-label",children:"Priority"}),n.jsxs("select",{id:"priority",className:"form-select",value:f,onChange:B=>h(B.target.value),children:[n.jsx("option",{value:"high",children:" High"}),n.jsx("option",{value:"medium",children:" Medium"}),n.jsx("option",{value:"low",children:" Low"})]})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"wikidataId",className:"form-label",children:"Wikidata ID (Optional)"}),n.jsx("input",{type:"text",id:"wikidataId",className:"form-input",value:b,onChange:B=>y(B.target.value),placeholder:"e.g., Q12345"}),n.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#999"},children:"Automatically filled if you select from search results"})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"domain",className:"form-label",children:"Domain"}),n.jsxs("select",{id:"domain",className:"form-select",value:p,onChange:B=>v(B.target.value),children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:q,disabled:x,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x||!c.trim(),children:x?"Adding...":"Add to Queue"})]})]})]})}):null}function Xv({isOpen:s,onClose:r,onSuccess:o}){const[c,u]=g.useState({domain:"serbia",discover_new:!0,benchmark_existing:!0,max_new_discoveries:10,max_training_per_run:5,images_per_person:20}),[f,h]=g.useState(!1),[b,y]=g.useState(null),p=async x=>{x.preventDefault(),h(!0),y(null);try{const w=await vt.startSmartCycle(c);w.success?(o&&o(w),v()):y(w.error||"Failed to start smart training")}catch(w){y(w.message||"Failed to start smart training")}finally{h(!1)}},v=()=>{y(null),r()};return s?n.jsx("div",{className:"modal-overlay",onClick:v,children:n.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Run Smart Training Cycle"}),n.jsx("button",{className:"modal-close",onClick:v,children:""})]}),n.jsxs("form",{onSubmit:p,children:[n.jsxs("div",{className:"modal-body",children:[b&&n.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:b}),n.jsxs("div",{style:{background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem"},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:"0.5rem"},children:"How it works:"}),n.jsxs("ol",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",lineHeight:1.6},children:[n.jsx("li",{children:"Discovers trending celebrities (if enabled)"}),n.jsx("li",{children:"Benchmarks existing trained people (if enabled)"}),n.jsx("li",{children:"Builds priority queue based on recognition scores"}),n.jsx("li",{children:"Trains top priority people automatically"})]})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"domain",className:"form-label",children:"Domain"}),n.jsxs("select",{id:"domain",className:"form-select",value:c.domain,onChange:x=>u({...c,domain:x.target.value}),children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"})]})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:c.discover_new,onChange:x=>u({...c,discover_new:x.target.checked})}),n.jsx("span",{children:"Discover new celebrities"})]}),n.jsx("div",{style:{marginLeft:"1.75rem",fontSize:"0.875rem",color:"#999"},children:"Search for trending/hot celebrities in the selected country"})]}),c.discover_new&&n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem",marginLeft:"1.75rem"},children:[n.jsx("label",{htmlFor:"maxDiscoveries",className:"form-label",children:"Max New Discoveries"}),n.jsx("input",{type:"number",id:"maxDiscoveries",className:"form-input",min:"1",max:"50",value:c.max_new_discoveries,onChange:x=>u({...c,max_new_discoveries:parseInt(x.target.value)})})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:c.benchmark_existing,onChange:x=>u({...c,benchmark_existing:x.target.checked})}),n.jsx("span",{children:"Benchmark existing people"})]}),n.jsx("div",{style:{marginLeft:"1.75rem",fontSize:"0.875rem",color:"#999"},children:"Re-test already trained people to detect quality drift"})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"maxTraining",className:"form-label",children:"Max People to Train This Run"}),n.jsx("input",{type:"number",id:"maxTraining",className:"form-input",min:"1",max:"20",value:c.max_training_per_run,onChange:x=>u({...c,max_training_per_run:parseInt(x.target.value)})}),n.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#999"},children:"Prevents overwhelming the system with too many training jobs"})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"imagesPerPerson",className:"form-label",children:"Target Images Per Person"}),n.jsx("input",{type:"number",id:"imagesPerPerson",className:"form-input",min:"5",max:"100",value:c.images_per_person,onChange:x=>u({...c,images_per_person:parseInt(x.target.value)})}),n.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#999"},children:"Number of images to collect and validate for training"})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:v,disabled:f,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Starting...":" Run Smart Training"})]})]})]})}):null}function Wv(){const{user:s}=va(),[r,o]=g.useState(!0),[c,u]=g.useState(!1),[f,h]=g.useState(!1),[b,y]=g.useState(null),[p,v]=g.useState(!1),[x,w]=g.useState(null),[N,j]=g.useState(!0),C=s?.domain||"serbia",_=g.useCallback(async()=>{v(!0);try{const B=await vt.getDashboardStats(C);y(B),w(null)}catch(B){w(B.message)}finally{v(!1)}},[C]);g.useEffect(()=>{_()},[_]),g.useEffect(()=>{if(!r)return;const B=setInterval(_,1e4);return()=>clearInterval(B)},[_,r]);const T=_,O=()=>{r?(o(!1),j(!1)):(o(!0),j(!0))},D=()=>{T()},z=()=>{alert("Smart training cycle started! Check the History page for progress."),T()},R=b?.stats||{},q=b?.queue||[];return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Smart Training Dashboard"}),n.jsxs("p",{className:"subtitle",children:["Self-improving face recognition training system - ",n.jsx("strong",{children:C})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[N&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#10b981",fontSize:"0.875rem"},children:[n.jsx("span",{className:"spinner",style:{width:"16px",height:"16px",borderWidth:"2px"}}),n.jsx("span",{children:"Auto-refresh: ON"})]}),!N&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#999",fontSize:"0.875rem"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Auto-refresh: OFF"})]}),n.jsx("button",{className:"btn",onClick:O,style:{background:N?"#ef4444":"#10b981",color:"white",border:"none"},children:N?" Pause":" Resume"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>h(!0),children:" Run Smart Training"})]})]}),x&&n.jsx("div",{className:"alert alert-error",children:x}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Queue Size"}),n.jsx("div",{className:"stat-value",children:p?"...":R.queue_size||0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"High Priority"}),n.jsx("div",{className:"stat-value",children:p?"...":R.high_priority||0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Avg Recognition"}),n.jsx("div",{className:"stat-value",children:p?"...":R.avg_recognition_score?`${R.avg_recognition_score}%`:"N/A"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Need Training"}),n.jsx("div",{className:"stat-value",children:p?"...":R.candidates_needing_training||0})]})]})]}),n.jsxs("div",{className:"dashboard-columns",children:[n.jsxs("div",{className:"section",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[n.jsx("h2",{children:"Training Queue"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>u(!0),children:"+ Add Person"})]}),p?n.jsx("div",{className:"text-muted",children:"Loading queue..."}):q.length===0?n.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",color:"#999"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("p",{children:"No people in training queue"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>u(!0),style:{marginTop:"1rem"},children:"Add First Person"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:q.slice(0,5).map((B,X)=>n.jsx(Pv,{person:B,showScore:B.recognition_score!==void 0},X))}),q.length>5&&n.jsxs(Ge,{to:"/training/queue",className:"btn btn-secondary",style:{marginTop:"1rem",display:"block",textAlign:"center"},children:["View All (",q.length," people)"]})]})]}),n.jsxs("div",{className:"section",children:[n.jsx("h2",{children:"Quick Actions"}),n.jsxs("div",{className:"actions-grid-compact",children:[n.jsxs(Ge,{to:"/training/discovery",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Discover Celebrities"}),n.jsx("p",{children:"Find trending celebrities to train"})]})]}),n.jsxs(Ge,{to:"/training/benchmarks",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Benchmark Results"}),n.jsx("p",{children:"View recognition quality scores"})]})]}),n.jsxs(Ge,{to:"/training/queue",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Manage Queue"}),n.jsx("p",{children:"View and edit training queue"})]})]}),n.jsxs(Ge,{to:"/training/history",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Training History"}),n.jsx("p",{children:"View past training runs"})]})]}),n.jsxs("button",{onClick:()=>h(!0),className:"action-card-compact",style:{background:"linear-gradient(135deg, #f5a623 0%, #e09520 100%)",color:"white",border:"none",cursor:"pointer"},children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Run Smart Training"}),n.jsx("p",{children:"Start automated training cycle"})]})]})]}),n.jsxs("div",{style:{marginTop:"2rem",background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",padding:"1rem"},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:"0.5rem",color:"#1e40af"},children:" How Smart Training Works"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#1e3a8a",lineHeight:1.6},children:[n.jsx("li",{children:"Discovers trending celebrities automatically"}),n.jsx("li",{children:"Benchmarks recognition quality (0-100%)"}),n.jsx("li",{children:"Queues people with low scores for training"}),n.jsx("li",{children:"Trains using P18 + SERP image validation"}),n.jsx("li",{children:"Re-tests periodically to detect drift"})]})]})]})]}),n.jsx(Up,{isOpen:c,onClose:()=>u(!1),onSuccess:D}),n.jsx(Xv,{isOpen:f,onClose:()=>h(!1),onSuccess:z})]})}function $v(){const{user:s}=va(),[r,o]=g.useState(!1),[c,u]=g.useState("all"),[f,h]=g.useState(null),[b,y]=g.useState(!1),[p,v]=g.useState(null),[x,w]=g.useState(new Set),[N,j]=g.useState(!1),C=s?.domain||"serbia",_=g.useCallback(async()=>{y(!0),v(null);try{const H=await vt.getTrainingQueue(C);h(H)}catch(H){v(H.message)}finally{y(!1)}},[C]);g.useEffect(()=>{_()},[_]);const T=_,O=f?.queue||[],D=c==="all"?O:O.filter(H=>H.priority===c),z=H=>{w(ue=>{const ge=new Set(ue);return ge.has(H)?ge.delete(H):ge.add(H),ge})},R=()=>{const H=D.map(ue=>ue.person_name);w(new Set(H))},q=()=>{w(new Set)},B=D.length>0&&D.every(H=>x.has(H.person_name)),X=async H=>{if(confirm(`Remove ${H.person_name} from queue?`))try{await vt.removeFromQueue(H.person_name,C),T()}catch(ue){alert(`Failed to remove: ${ue.message}`)}},te=async H=>{try{await vt.updatePriority(H.person_name,"high",C,!0),T()}catch(ue){alert(`Failed to move to top: ${ue.message}`)}},W=async()=>{if(x.size===0)return;const H=x.size;if(confirm(`Remove ${H} selected people from queue?`)){j(!0);try{const ue=Array.from(x),ge=5;for(let Ee=0;Ee<ue.length;Ee+=ge){const Oe=ue.slice(Ee,Ee+ge);await Promise.all(Oe.map(Q=>vt.removeFromQueue(Q,C)))}w(new Set),T()}catch(ue){alert(`Failed to remove some people: ${ue.message}`),T()}finally{j(!1)}}};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Training Queue Management"}),n.jsxs("p",{className:"subtitle",children:["Manage people waiting for training - ",n.jsx("strong",{children:C})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:T,disabled:b,children:b?"Loading...":"Refresh"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>o(!0),children:"+ Add Person"})]})]}),p&&n.jsx("div",{className:"alert alert-error",children:p}),n.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsxs("button",{className:`btn ${c==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>u("all"),children:["All (",O.length,")"]}),n.jsxs("button",{className:`btn ${c==="high"?"btn-primary":"btn-secondary"}`,onClick:()=>u("high"),children:["High (",O.filter(H=>H.priority==="high").length,")"]}),n.jsxs("button",{className:`btn ${c==="medium"?"btn-primary":"btn-secondary"}`,onClick:()=>u("medium"),children:["Medium (",O.filter(H=>H.priority==="medium").length,")"]}),n.jsxs("button",{className:`btn ${c==="low"?"btn-primary":"btn-secondary"}`,onClick:()=>u("low"),children:["Low (",O.filter(H=>H.priority==="low").length,")"]})]}),D.length>0&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem 1rem",background:x.size>0?"#fef3c7":"#333",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.5rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:B,onChange:()=>B?q():R(),style:{width:"18px",height:"18px"}}),n.jsx("span",{style:{fontWeight:500},children:B?"Deselect All":"Select All"})]}),x.size>0&&n.jsxs("span",{style:{color:"#92400e",fontWeight:600},children:[x.size," selected"]})]}),x.size>0&&n.jsx("button",{className:"btn btn-danger",onClick:W,disabled:N,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:N?"Removing...":`Remove ${x.size} Selected`})]}),b&&!f?n.jsx("div",{className:"text-muted",children:"Loading queue..."}):D.length===0?n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#999"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:c==="all"?"No people in queue":`No ${c} priority people`}),n.jsx("p",{children:"Add people to start training"})]}):n.jsx("div",{className:"queue-table-container",children:n.jsxs("table",{className:"queue-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{width:"40px"}}),n.jsx("th",{children:"Person"}),n.jsx("th",{children:"Priority"}),n.jsx("th",{children:"Source"}),n.jsx("th",{children:"Recognition Score"}),n.jsx("th",{children:"Added"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:D.map((H,ue)=>n.jsxs("tr",{style:{background:x.has(H.person_name)?"#fef9c3":void 0},children:[n.jsx("td",{children:n.jsx("input",{type:"checkbox",checked:x.has(H.person_name),onChange:()=>z(H.person_name),style:{width:"18px",height:"18px",cursor:"pointer"}})}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:600},children:H.person_name}),H.wikidata_id&&n.jsx("div",{style:{fontSize:"0.875rem",color:"#999"},children:H.wikidata_id})]}),n.jsx("td",{children:n.jsx(Mp,{priority:H.priority})}),n.jsx("td",{children:H.source||"manual"}),n.jsx("td",{children:H.recognition_score!==void 0&&H.recognition_score!==null?`${H.recognition_score}%`:"N/A"}),n.jsx("td",{style:{fontSize:"0.875rem"},children:H.added_at?new Date(H.added_at).toLocaleDateString():"N/A"}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>te(H),style:{padding:"0.5rem 0.75rem",fontSize:"0.875rem"},title:"Move to absolute top of queue",children:" Top"}),n.jsx("button",{className:"btn btn-danger",onClick:()=>X(H),style:{padding:"0.5rem 1rem"},children:"Remove"})]})})]},ue))})]})}),n.jsx(Up,{isOpen:r,onClose:()=>o(!1),onSuccess:()=>T()})]})}function Zv(){const[s,r]=g.useState([]),[o,c]=g.useState(!1),[u,f]=g.useState(null),[h,b]=g.useState(80),[y,p]=g.useState(!1),[v,x]=g.useState(""),[w,N]=g.useState(null),[j,C]=g.useState(!1),_=async()=>{c(!0),f(null);try{const z=await vt.getBenchmarkCandidates("serbia",h);z.success?r(z.candidates||[]):f(z.error||"Failed to load candidates")}catch(z){f(z.message)}finally{c(!1)}},T=async z=>{if(confirm(`Benchmark ${z.person_name}? This may take 1-2 minutes.`)){c(!0);try{const R=await vt.benchmarkPerson(z.person_name,"serbia",10);R.success?(alert(`Benchmark complete! Score: ${R.benchmark.recognition_score}%`),_()):alert(`Benchmark failed: ${R.error}`)}catch(R){alert(`Error: ${R.message}`)}finally{c(!1)}}},O=async()=>{if(!v.trim()){alert("Please enter a person name");return}C(!0),N(null);try{const z=await vt.benchmarkPerson(v.trim(),"serbia",10);z.success?N(z.benchmark):alert(`Benchmark failed: ${z.error}`)}catch(z){alert(`Error: ${z.message}`)}finally{C(!1)}},D=async()=>{if(w)try{await vt.addToQueue(w.person_name,"serbia",w.training_priority||"medium",null,w.recognition_score),alert(`Added ${w.person_name} to training queue!`),p(!1),x(""),N(null)}catch(z){alert(`Failed to add to queue: ${z.message}`)}};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Benchmark Results"}),n.jsx("p",{className:"subtitle",children:"Recognition quality scores for trained people"})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[n.jsx("button",{className:"btn btn-primary",onClick:()=>p(!0),children:" Benchmark Person"}),n.jsx("button",{className:"btn btn-secondary",onClick:_,disabled:o,children:o?"Loading...":" Refresh"})]})]}),u&&n.jsx("div",{className:"alert alert-error",children:u}),n.jsxs("div",{style:{marginBottom:"2rem"},children:[n.jsx("label",{htmlFor:"minScore",className:"form-label",children:"Show people with score below:"}),n.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[n.jsx("input",{type:"range",id:"minScore",min:"0",max:"100",step:"5",value:h,onChange:z=>b(parseInt(z.target.value)),style:{flex:1,maxWidth:"300px"}}),n.jsxs("span",{style:{fontWeight:600,fontSize:"1.125rem"},children:[h,"%"]}),n.jsx("button",{className:"btn btn-primary",onClick:_,children:"Apply Filter"})]})]}),!s.length&&!o&&n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#999"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"No benchmark data yet"}),n.jsx("p",{children:"Click Refresh to load benchmark results"})]}),s.length>0&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:s.map((z,R)=>n.jsxs("div",{className:"person-card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("h3",{className:"person-card-name",children:z.person_name}),n.jsxs("p",{className:"person-card-meta",children:["Last checked: ",z.last_benchmark?new Date(z.last_benchmark).toLocaleDateString():"N/A"]})]}),n.jsx(td,{score:z.recognition_score,size:64})]}),n.jsxs("div",{className:"person-card-stats",children:[n.jsxs("div",{className:"person-card-stat",children:[n.jsx("div",{className:"person-card-stat-label",children:"Score"}),n.jsxs("div",{className:"person-card-stat-value",children:[z.recognition_score,"%"]})]}),n.jsxs("div",{className:"person-card-stat",children:[n.jsx("div",{className:"person-card-stat-label",children:"Priority"}),n.jsx("div",{className:"person-card-stat-value",style:{fontSize:"0.875rem"},children:z.training_priority})]})]}),n.jsx("div",{style:{marginTop:"1rem"},children:n.jsx("button",{className:"btn btn-secondary",onClick:()=>T(z),disabled:o,style:{width:"100%"},children:" Re-benchmark"})})]},R))}),y&&n.jsx("div",{className:"modal-overlay",onClick:()=>!j&&p(!1),children:n.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),style:{maxWidth:"500px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Benchmark Person"}),n.jsx("button",{className:"modal-close",onClick:()=>p(!1),disabled:j,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsx("p",{style:{marginBottom:"1rem",color:"#999"},children:"Test recognition quality for a specific person. Downloads test images from Google and runs them through face recognition."}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Person Name"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"e.g., Ana Ivanovic",value:v,onChange:z=>x(z.target.value),onKeyPress:z=>z.key==="Enter"&&O(),disabled:j})]}),j&&n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),n.jsx("p",{children:"Running benchmark... This may take 1-2 minutes"}),n.jsx("p",{style:{fontSize:"0.875rem",color:"#999"},children:"Downloading test images and running recognition"})]}),w&&n.jsxs("div",{style:{marginTop:"1.5rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #3a3a3a"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsx("h3",{style:{margin:0},children:w.person_name}),n.jsx(td,{score:w.recognition_score,size:64})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#999",textTransform:"uppercase"},children:"Images Tested"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600},children:w.num_images_downloaded})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#999",textTransform:"uppercase"},children:"Recognized Correctly"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600},children:w.num_recognized_correctly})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#999",textTransform:"uppercase"},children:"Recognition Score"}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:600,color:w.recognition_score>=80?"#10b981":w.recognition_score>=50?"#f59e0b":"#ef4444"},children:[w.recognition_score,"%"]})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#999",textTransform:"uppercase"},children:"Training Priority"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600},children:w.training_priority})]})]}),w.details&&w.details.some(z=>z.recognized&&!z.recognized_correctly)&&n.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#fef3c7",borderRadius:"6px",border:"1px solid #fcd34d"},children:[n.jsx("div",{style:{fontWeight:600,color:"#92400e",marginBottom:"0.5rem"},children:" Suspicious Matches Detected"}),n.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#78350f"},children:w.details.filter(z=>z.recognized&&!z.recognized_correctly).map((z,R)=>n.jsxs("li",{children:['Recognized as "',n.jsx("strong",{children:z.recognized_as}),'" instead of "',w.person_name,'"',z.confidence&&` (${z.confidence.toFixed(1)}% confidence)`]},R))})]}),w.needs_training&&n.jsx("button",{className:"btn btn-primary",onClick:D,style:{width:"100%",marginTop:"1rem"},children:"+ Add to Training Queue"}),!w.needs_training&&n.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#d1fae5",borderRadius:"6px",textAlign:"center",color:"#065f46"},children:" Recognition quality is good - no training needed"})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>{p(!1),x(""),N(null)},disabled:j,children:"Close"}),!w&&n.jsx("button",{className:"btn btn-primary",onClick:O,disabled:j||!v.trim(),children:j?"Running...":" Run Benchmark"}),w&&n.jsx("button",{className:"btn btn-primary",onClick:()=>{N(null),x("")},children:"Test Another Person"})]})]})})]})}function Kv(){const[s,r]=g.useState("trending"),[o,c]=g.useState([]),[u,f]=g.useState(!1),[h,b]=g.useState(null),[y,p]=g.useState("serbia"),[v,x]=g.useState(""),[w,N]=g.useState(new Set),j=async()=>{f(!0),b(null),c([]);try{let T;s==="trending"?T=await vt.discoverTrending(y,20):s==="top"?T=await vt.getTopCelebrities(y,50):s==="search"&&v&&(T=await vt.searchCelebrity(v,y)),T?.success?c(T.celebrities||T.results||[]):b(T?.error||"Discovery failed")}catch(T){b(T.message)}finally{f(!1)}},C=async T=>{try{await vt.addToQueue(T.name||T.full_name,"serbia","medium",T.wikidata_id),alert(`Added ${T.name||T.full_name} to queue!`)}catch(O){alert(`Failed: ${O.message}`)}},_=async()=>{if(w.size===0){alert("No celebrities selected");return}const T=o.filter((O,D)=>w.has(D));for(const O of T)try{await vt.addToQueue(O.name||O.full_name,"serbia","medium",O.wikidata_id)}catch(D){console.error(`Failed to add ${O.name}:`,D)}alert(`Added ${T.length} people to queue!`),N(new Set)};return n.jsxs("div",{className:"page-container",children:[n.jsx("h1",{children:"Celebrity Discovery"}),n.jsx("p",{className:"subtitle",children:"Find trending celebrities to train"}),h&&n.jsx("div",{className:"alert alert-error",children:h}),n.jsxs("div",{className:"tabs-container",children:[n.jsxs("div",{className:"tabs-list",children:[n.jsx("button",{className:`tab-button ${s==="trending"?"active":""}`,onClick:()=>r("trending"),children:" Trending"}),n.jsx("button",{className:`tab-button ${s==="top"?"active":""}`,onClick:()=>r("top"),children:" Top Celebrities"}),n.jsx("button",{className:`tab-button ${s==="search"?"active":""}`,onClick:()=>r("search"),children:" Search"})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},children:[n.jsxs("select",{className:"form-select",value:y,onChange:T=>p(T.target.value),style:{flex:"0 0 200px"},children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"}),n.jsx("option",{value:"usa",children:"USA"}),n.jsx("option",{value:"uk",children:"UK"})]}),s==="search"&&n.jsx("input",{type:"text",className:"form-input",placeholder:"Search by name...",value:v,onChange:T=>x(T.target.value),onKeyPress:T=>T.key==="Enter"&&j(),style:{flex:1}}),n.jsx("button",{className:"btn btn-primary",onClick:j,disabled:u||s==="search"&&!v,children:u?"Discovering...":" Discover"}),w.size>0&&n.jsxs("button",{className:"btn btn-success",onClick:_,children:["Add Selected (",w.size,")"]})]})]}),u?n.jsx("div",{className:"text-muted",children:"Discovering celebrities..."}):o.length===0?n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#999"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"No results yet"}),n.jsx("p",{children:"Click Discover to find celebrities"})]}):n.jsx("div",{className:"celebrity-grid",children:o.map((T,O)=>n.jsxs("div",{className:"celebrity-card",children:[n.jsxs("div",{className:"celebrity-card-image-container",children:[T.image_url&&n.jsx("img",{src:T.image_url,alt:T.name||T.full_name,className:"celebrity-card-image",onError:D=>{D.target.style.display="none"}}),T.score&&n.jsx("div",{className:"celebrity-card-score",children:T.score})]}),n.jsxs("div",{className:"celebrity-card-content",children:[n.jsx("h3",{className:"celebrity-card-name",children:T.name||T.full_name}),n.jsx("p",{className:"celebrity-card-description",children:T.description||T.occupation||"Celebrity"}),n.jsxs("div",{className:"celebrity-card-footer",children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[n.jsx("input",{type:"checkbox",checked:w.has(O),onChange:D=>{const z=new Set(w);D.target.checked?z.add(O):z.delete(O),N(z)}}),n.jsx("span",{style:{fontSize:"0.875rem"},children:"Select"})]}),n.jsx("button",{className:"btn btn-primary",onClick:()=>C(T),style:{padding:"0.5rem 1rem"},children:"+ Queue"})]})]})]},O))})]})}const Jv=["serbia","slovenia"];function Iv(){const[s,r]=g.useState([]),[o,c]=g.useState(!1),[u,f]=g.useState(null),[h,b]=g.useState(null),[y,p]=g.useState("all"),v=g.useCallback(async()=>{c(!0),f(null);try{const C=(await Promise.all(Jv.map(async _=>{try{const T=await vt.getSmartTrainingRuns(_);return T.success&&T.runs?T.runs.map(O=>({...O,domain:_})):[]}catch(T){return console.warn(`Failed to fetch ${_} history:`,T.message),[]}}))).flat().sort((_,T)=>{const O=new Date(_.started_at||0);return new Date(T.started_at||0)-O});r(C)}catch(j){console.error("Error loading history:",j),f(j.message)}finally{c(!1)}},[]);g.useEffect(()=>{v()},[v]);const x=y==="all"?s:s.filter(j=>j.domain===y),w=s.filter(j=>j.domain==="serbia").length,N=s.filter(j=>j.domain==="slovenia").length;return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Training History"}),n.jsx("p",{className:"subtitle",children:"Past smart training cycles and results"})]}),n.jsx("button",{className:"btn btn-primary",onClick:v,disabled:o,children:o?"Loading...":" Refresh"})]}),u&&n.jsx("div",{className:"alert alert-error",children:u}),n.jsxs("div",{style:{marginBottom:"2rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsxs("button",{className:`btn ${y==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>p("all"),children:["All (",s.length,")"]}),n.jsxs("button",{className:`btn ${y==="serbia"?"btn-primary":"btn-secondary"}`,onClick:()=>p("serbia"),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Serbia (",w,")"]}),n.jsxs("button",{className:`btn ${y==="slovenia"?"btn-primary":"btn-secondary"}`,onClick:()=>p("slovenia"),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Slovenia (",N,")"]})]}),!o&&x.length===0&&n.jsxs("div",{style:{background:"white",padding:"4rem 2rem",borderRadius:"12px",textAlign:"center",color:"#999"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"No Training History Yet"}),n.jsx("p",{style:{marginBottom:"1.5rem"},children:y==="all"?"Smart training runs will appear here once the automated training cycle runs.":`No training runs found for ${y}.`}),n.jsxs("div",{style:{background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",padding:"1.5rem",maxWidth:"600px",margin:"0 auto",textAlign:"left"},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:"0.75rem",color:"#1e40af"},children:" Smart Training Schedule:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#1e3a8a",lineHeight:1.8},children:[n.jsx("li",{children:" Slovenia runs at 2:00 AM daily"}),n.jsx("li",{children:" Serbia runs at 3:00 AM daily"}),n.jsx("li",{children:"Results appear here after each run completes"})]})]})]}),x.length>0&&n.jsx("div",{className:"history-timeline",children:x.map((j,C)=>n.jsxs("div",{className:"history-item",children:[n.jsxs("div",{className:"history-item-content",onClick:()=>b(h===`${j.domain}-${j.run_id}`?null:`${j.domain}-${j.run_id}`),style:{cursor:"pointer"},children:[n.jsxs("div",{className:"history-item-header",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"history-item-title",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("span",{style:{fontSize:"1.2rem"},children:j.domain==="serbia"?"":""}),n.jsx("span",{style:{textTransform:"capitalize"},children:j.domain}),n.jsxs("span",{style:{color:"#999",fontWeight:400},children:["#",j.run_id]})]}),n.jsx("div",{className:"history-item-time",children:j.started_at?new Date(j.started_at).toLocaleString():"N/A"})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[n.jsx("div",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",background:j.status==="completed"?"#d1fae5":"#fef3c7",color:j.status==="completed"?"#065f46":"#92400e"},children:j.status}),n.jsx("span",{style:{fontSize:"1.2rem"},children:h===`${j.domain}-${j.run_id}`?"":""})]})]}),n.jsxs("div",{className:"history-item-stats",children:[j.discovery&&n.jsxs("div",{className:"history-item-stat",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:[j.discovery.discovered," discovered, ",j.discovery.queued," queued"]})]}),j.benchmark&&n.jsxs("div",{className:"history-item-stat",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:[j.benchmark.benchmarked," tested"]})]}),j.training&&n.jsxs("div",{className:"history-item-stat",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:[j.training.successful,"/",j.training.attempted," trained"]})]})]}),j.error&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#fee2e2",borderRadius:"6px",fontSize:"0.875rem",color:"#991b1b"},children:["Error: ",j.error]})]}),h===`${j.domain}-${j.run_id}`&&n.jsxs("div",{style:{borderTop:"1px solid #3a3a3a",padding:"1.5rem",background:"#242424"},children:[j.training&&j.training.people&&j.training.people.length>0&&n.jsxs("div",{style:{marginBottom:"2rem"},children:[n.jsxs("h4",{style:{marginBottom:"1rem",color:"#111827",fontWeight:600},children:[" Training Report (",j.training.successful," successful, ",j.training.failed," failed)"]}),n.jsx("div",{style:{background:"white",borderRadius:"8px",overflow:"hidden",border:"1px solid #3a3a3a"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#333",borderBottom:"1px solid #3a3a3a"},children:[n.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:600},children:"Person"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:600},children:"Images"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:600},children:"Status"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:600},children:"Error"})]})}),n.jsx("tbody",{children:j.training.people.map((_,T)=>n.jsxs("tr",{style:{borderBottom:"1px solid #3a3a3a",background:T%2===0?"white":"#242424"},children:[n.jsx("td",{style:{padding:"0.75rem"},children:_.name}),n.jsx("td",{style:{padding:"0.75rem",textAlign:"center",fontWeight:600},children:_.images_accepted||0}),n.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:n.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:600,background:_.success?"#d1fae5":"#fee2e2",color:_.success?"#065f46":"#991b1b"},children:_.success?" Success":" Failed"})}),n.jsx("td",{style:{padding:"0.75rem",fontSize:"0.875rem",color:"#999"},children:_.error?_.error:"-"})]},T))})]})})]}),j.benchmark&&j.benchmark.people&&j.benchmark.people.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{style:{marginBottom:"1rem",color:"#111827",fontWeight:600},children:[" Benchmark Results (",j.benchmark.benchmarked," tested)"]}),n.jsx("div",{style:{background:"white",borderRadius:"8px",overflow:"hidden",border:"1px solid #3a3a3a"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#333",borderBottom:"1px solid #3a3a3a"},children:[n.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:600},children:"Person"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:600},children:"Recognition Score"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:600},children:"Queued"})]})}),n.jsx("tbody",{children:j.benchmark.people.map((_,T)=>n.jsxs("tr",{style:{borderBottom:"1px solid #3a3a3a",background:T%2===0?"white":"#242424"},children:[n.jsx("td",{style:{padding:"0.75rem"},children:_.name}),n.jsxs("td",{style:{padding:"0.75rem",textAlign:"center",fontWeight:600},children:[(_.recognition_score||0).toFixed(2),"%"]}),n.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:_.queued?" Yes":" No"})]},T))})]})})]}),n.jsx("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #3a3a3a"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",fontSize:"0.875rem"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{color:"#999",marginBottom:"0.25rem"},children:"Started"}),n.jsx("div",{style:{fontWeight:600},children:new Date(j.started_at).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("div",{style:{color:"#999",marginBottom:"0.25rem"},children:"Completed"}),n.jsx("div",{style:{fontWeight:600},children:j.completed_at?new Date(j.completed_at).toLocaleString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{style:{color:"#999",marginBottom:"0.25rem"},children:"Duration"}),n.jsx("div",{style:{fontWeight:600},children:j.started_at&&j.completed_at?`${Math.round((new Date(j.completed_at)-new Date(j.started_at))/6e4)} minutes`:"N/A"})]})]})})]})]},`${j.domain}-${j.run_id}-${C}`))})]})}function ej(){const[s,r]=g.useState(""),[o,c]=g.useState([]),[u,f]=g.useState(null),[h,b]=g.useState(""),[y,p]=g.useState([]),[v,x]=g.useState(!1),[w,N]=g.useState(!1),[j,C]=g.useState(null),[_,T]=g.useState(null);g.useEffect(()=>{O()},[]),g.useEffect(()=>{s&&D(s)},[s]);const O=async()=>{try{x(!0);const W=await ce.get("/api/training/rejected-faces/dates");if(W.data.success){c(W.data.dates);const H=new Date().toISOString().split("T")[0];W.data.dates.includes(H)?r(H):W.data.dates.length>0&&r(W.data.dates[0])}}catch(W){C("Failed to load rejection dates"),console.error(W)}finally{x(!1)}},D=async W=>{try{x(!0),C(null);const H=await ce.get(`/api/training/rejected-faces?date=${W}`);H.data.success&&(f(H.data.summary),b(""),p([]))}catch(H){C("Failed to load rejection summary"),console.error(H)}finally{x(!1)}},z=async W=>{if(!(!W||!s))try{N(!0),C(null);const H=await ce.get(`/api/training/rejected-faces/${s}/${encodeURIComponent(W)}/images`);H.data.success&&p(H.data.images)}catch(H){C("Failed to load images"),console.error(H)}finally{N(!1)}},R=W=>{b(W),z(W)},q=W=>({no_face_detected:"#e53e3e",face_too_small:"#dd6b20",face_blurry:"#d69e2e",multiple_faces:"#805ad5",multiple_invalid:"#d53f8c",low_confidence:"#3182ce",no_eyes_detected:"#38a169",download_failed:"#718096",invalid_image_format:"#4a5568"})[W]||"#718096",B=W=>({no_face_detected:"No Face",face_too_small:"Too Small",face_blurry:"Blurry",multiple_faces:"Multiple Faces",multiple_invalid:"Invalid Faces",low_confidence:"Low Confidence",no_eyes_detected:"No Eyes",download_failed:"Download Failed",invalid_image_format:"Invalid Format"})[W]||W,X=W=>{T(W)},te=()=>{T(null)};return n.jsxs("div",{className:"page-container",children:[n.jsx(It,{pageName:"rejected-faces"}),n.jsx("h1",{children:"Rejected Faces Gallery"}),n.jsx("p",{className:"subtitle",children:"Review images that failed quality validation during training."}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"date-select",children:"Select Date"}),n.jsxs("select",{id:"date-select",className:"form-input",value:s,onChange:W=>r(W.target.value),style:{fontSize:"1rem",padding:"0.75rem"},children:[n.jsx("option",{value:"",children:"-- Select a date --"}),o.map(W=>n.jsx("option",{value:W,children:W},W))]})]}),u&&n.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f7fafc",borderRadius:"0.5rem"},children:[n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:n.jsxs("h3",{style:{margin:0},children:["Total Rejections: ",u.total_rejections]})}),u.by_reason&&Object.keys(u.by_reason).length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("h4",{style:{marginBottom:"0.5rem",color:"#4a5568"},children:"By Reason:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:Object.entries(u.by_reason).map(([W,H])=>n.jsxs("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",background:q(W),color:"white",fontSize:"0.875rem",fontWeight:"500"},children:[B(W),": ",H]},W))})]}),u.by_person&&Object.keys(u.by_person).length>0&&n.jsxs("div",{children:[n.jsxs("h4",{style:{marginBottom:"0.5rem",color:"#4a5568"},children:["By Person (",Object.keys(u.by_person).length," people):"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem",maxHeight:"300px",overflowY:"auto"},children:Object.entries(u.by_person).sort((W,H)=>H[1]-W[1]).map(([W,H])=>n.jsxs("button",{onClick:()=>R(W),style:{padding:"0.5rem 1rem",borderRadius:"0.5rem",border:h===W?"2px solid #f5a623":"1px solid #3a3a3a",background:h===W?"#ebf4ff":"white",cursor:"pointer",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:W}),n.jsx("span",{style:{background:"#e53e3e",color:"white",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",marginLeft:"0.5rem",flexShrink:0},children:H})]},W))})]})]})]}),j&&n.jsx("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:j}),h&&n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("h2",{style:{marginBottom:"1rem"},children:["Rejected Images: ",h]}),w?n.jsxs("div",{className:"loading-state",children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading images..."})]}):y.length>0?n.jsx("div",{className:"gallery-grid",children:y.map((W,H)=>n.jsxs("div",{className:"gallery-item",children:[n.jsx("img",{src:`data:image/jpeg;base64,${W.image_base64}`,alt:`Rejected - ${W.reason}`,onClick:()=>X(W),loading:"lazy"}),n.jsx("div",{className:"gallery-item-overlay",children:n.jsx("button",{className:"gallery-action-btn view-btn",onClick:()=>X(W),title:"View full size",children:"View"})}),n.jsx("div",{className:"gallery-item-info",children:n.jsx("span",{style:{padding:"0.125rem 0.5rem",borderRadius:"0.25rem",background:q(W.reason),color:"white",fontSize:"0.75rem"},children:B(W.reason)})})]},H))}):n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:"Images not stored"}),n.jsx("h3",{children:"No Images Available"}),n.jsx("p",{children:"Images may have been cleaned up or not stored for this person."})]})]}),v&&!u&&n.jsxs("div",{className:"loading-state",style:{marginTop:"3rem"},children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading rejection data..."})]}),!v&&!u&&s&&n.jsxs("div",{className:"empty-state",style:{marginTop:"3rem"},children:[n.jsx("div",{className:"empty-icon",children:"No rejections"}),n.jsx("h3",{children:"No Rejections Found"}),n.jsx("p",{children:"No rejected faces recorded for this date."})]}),!s&&!v&&n.jsxs("div",{className:"empty-state",style:{marginTop:"3rem"},children:[n.jsx("div",{className:"empty-icon",children:"Calendar"}),n.jsx("h3",{children:"Select a Date"}),n.jsx("p",{children:"Choose a date above to view rejected faces."})]}),_&&n.jsx("div",{className:"lightbox",onClick:te,children:n.jsxs("div",{className:"lightbox-content",onClick:W=>W.stopPropagation(),children:[n.jsx("button",{className:"lightbox-close",onClick:te,children:"Close"}),n.jsx("img",{src:`data:image/jpeg;base64,${_.image_base64}`,alt:_.filename||"Rejected image"}),n.jsxs("div",{className:"lightbox-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Reason:"})," ",B(_.reason)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Filename:"})," ",_.filename]})]})]})}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:"About Rejected Faces"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Blurry:"})," Laplacian variance too low (threshold: 100 for images, 75 for video)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Too Small:"})," Face region smaller than minimum size (70x70 pixels)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Low Confidence:"})," Detection confidence below 95%"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Multiple Faces:"})," Ambiguous identity - multiple valid faces detected"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"No Eyes:"})," Eye landmarks not detected properly"]}),n.jsx("li",{children:"Images are kept for 7 days then automatically cleaned up"})]})]})]})}const tj={domain:"serbia",scanned_at:new Date().toISOString(),total_persons:5e3,total_candidates:8,summary:{typos:2,duplicates:3,spelling_variants:2,nicknames:1},candidates:[{source_id:1,source_name:"Kevin Durent",source_embeddings:20,target_id:2,target_name:"Kevin Durant",target_embeddings:45,type:"SPELLING_VARIANT",reason:'Serbian "durent" vs English "durant"',suggestion:'Merge "Kevin Durent" into "Kevin Durant"',action:"MERGE"},{source_id:3,source_name:"Kobi Brajant",source_embeddings:15,target_id:4,target_name:"Kobe Bryant",target_embeddings:50,type:"SPELLING_VARIANT",reason:"Serbian spelling variant",suggestion:"Merge into English spelling",action:"MERGE"}]},Al={async getCandidates(s="serbia"){try{return(await ce.get("/api/training/merge-candidates",{params:{domain:s}})).data.data}catch(r){return console.warn("Using mock merge candidates:",r.message),tj}},async scanForCandidates(s="serbia"){try{return(await ce.post("/api/training/merge-candidates/scan",{domain:s})).data.data}catch(r){throw console.error("Error scanning for candidates:",r),r}},async executeAction(s,r,o="serbia",c=null,u=!1){try{return(await ce.post(`/api/training/merge-candidates/${s}/action`,{domain:o,action:r,new_name:c,swap_direction:u})).data}catch(f){throw console.error("Error executing action:",f),f}},async mergePersons(s,r,o="serbia"){try{return(await ce.post("/api/training/merge-persons",{source_person:s,target_person:r,domain:o})).data}catch(c){throw console.error("Error merging persons:",c),c}},async getPersonPreview(s,r="serbia"){try{return(await ce.get("/api/training/person-preview",{params:{name:s,domain:r}})).data}catch(o){throw console.error("Error getting person preview:",o),o}}};function nj({type:s}){const o={TYPO:{bg:"#fee2e2",color:"#dc2626",label:"Typo"},DUPLICATE:{bg:"#fef3c7",color:"#d97706",label:"Duplicate"},SPELLING_VARIANT:{bg:"#dbeafe",color:"#2563eb",label:"Spelling"},NICKNAME:{bg:"#f3e8ff",color:"#7c3aed",label:"Nickname"}}[s]||{bg:"#333",color:"#999",label:s};return n.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",fontWeight:600,backgroundColor:o.bg,color:o.color},children:o.label})}function Ha({action:s,onClick:r,disabled:o,loading:c,small:u}){const f={MERGE:{bg:"#10b981",hover:"#059669",icon:""},RENAME:{bg:"#3b82f6",hover:"#2563eb",icon:""},DELETE:{bg:"#ef4444",hover:"#dc2626",icon:""},SKIP:{bg:"#999",hover:"#4b5563",icon:""}},h=f[s]||f.SKIP;return n.jsxs("button",{onClick:r,disabled:o||c,style:{padding:u?"0.375rem 0.5rem":"0.5rem 0.75rem",borderRadius:"6px",border:"none",backgroundColor:h.bg,color:"white",cursor:o?"not-allowed":"pointer",opacity:o?.5:1,fontSize:u?"0.75rem":"0.875rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:[c?"...":h.icon," ",s]})}function aj(){const{user:s}=va(),r=s?.domain||"serbia",[o,c]=g.useState(null),[u,f]=g.useState(!1),[h,b]=g.useState(!1),[y,p]=g.useState(null),[v,x]=g.useState(new Set),[w,N]=g.useState(null),[j,C]=g.useState(null),[_,T]=g.useState(""),[O,D]=g.useState("all"),[z,R]=g.useState(new Set),[q,B]=g.useState(null),[X,te]=g.useState({current:0,total:0}),W=g.useCallback(async()=>{f(!0),p(null);try{const L=await Al.getCandidates(r);c(L)}catch(L){p(L.message)}finally{f(!1)}},[r]);g.useEffect(()=>{W()},[W]);const H=async()=>{b(!0),p(null);try{const L=await Al.scanForCandidates(r);c(L),x(new Set),R(new Set)}catch(L){p(L.message)}finally{b(!1)}},ue=async(L,Z,I=null,oe=!1)=>{N(L);try{await Al.executeAction(L,Z,r,I,oe),x(ye=>new Set([...ye,L])),R(ye=>{const de=new Set(ye);return de.delete(L),de}),C(null),T("")}catch(ye){alert(`Failed to execute ${Z}: ${ye.message}`)}finally{N(null)}},ge=async L=>{if(z.size===0)return;const Z=Array.from(z).sort((I,oe)=>oe-I);B(L),te({current:0,total:Z.length});for(let I=0;I<Z.length;I++){const oe=Z[I];te({current:I+1,total:Z.length});try{await Al.executeAction(oe,L,r),x(ye=>new Set([...ye,oe]))}catch(ye){console.error(`Failed to ${L} candidate ${oe}:`,ye)}}R(new Set),B(null)},Ee=(L,Z)=>{C(L),T(Z)},Oe=L=>{R(Z=>{const I=new Set(Z);return I.has(L)?I.delete(L):I.add(L),I})},Q=()=>{const L=be.map((Z,I)=>J.indexOf(be[I])).filter(Z=>!v.has(Z));R(new Set(L))},le=()=>{R(new Set)},J=o?.candidates||[],be=O==="all"?J:J.filter(L=>L.type===O),je=be.filter((L,Z)=>{const I=J.indexOf(L);return!v.has(I)}),A=je.length>0&&je.every(L=>{const Z=J.indexOf(L);return z.has(Z)});return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Merge Candidates"}),n.jsxs("p",{className:"subtitle",children:["Review and resolve duplicate or similar person entries - ",n.jsx("strong",{children:r})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:W,disabled:u,children:u?"Loading...":"Refresh"}),n.jsx("button",{className:"btn btn-primary",onClick:H,disabled:h,children:h?"Scanning...":"Scan Database"})]})]}),y&&n.jsx("div",{className:"alert alert-error",children:y}),o&&n.jsxs("div",{className:"stats-grid",style:{marginBottom:"1.5rem"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Total Persons"}),n.jsx("div",{className:"stat-value",children:o.total_persons?.toLocaleString()||0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Candidates Found"}),n.jsx("div",{className:"stat-value",children:o.total_candidates||0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Processed"}),n.jsx("div",{className:"stat-value",children:v.size})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Remaining"}),n.jsx("div",{className:"stat-value",children:je.length})]})]})]}),o?.summary&&n.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[n.jsxs("button",{className:`btn ${O==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>D("all"),children:["All (",o.total_candidates,")"]}),o.summary.typos>0&&n.jsxs("button",{className:`btn ${O==="TYPO"?"btn-primary":"btn-secondary"}`,onClick:()=>D("TYPO"),children:["Typos (",o.summary.typos,")"]}),o.summary.duplicates>0&&n.jsxs("button",{className:`btn ${O==="DUPLICATE"?"btn-primary":"btn-secondary"}`,onClick:()=>D("DUPLICATE"),children:["Duplicates (",o.summary.duplicates,")"]}),o.summary.spelling_variants>0&&n.jsxs("button",{className:`btn ${O==="SPELLING_VARIANT"?"btn-primary":"btn-secondary"}`,onClick:()=>D("SPELLING_VARIANT"),children:["Spelling (",o.summary.spelling_variants,")"]}),o.summary.nicknames>0&&n.jsxs("button",{className:`btn ${O==="NICKNAME"?"btn-primary":"btn-secondary"}`,onClick:()=>D("NICKNAME"),children:["Nicknames (",o.summary.nicknames,")"]})]}),je.length>0&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem 1rem",background:z.size>0?"#fef3c7":"#333",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.5rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:A,onChange:()=>A?le():Q(),style:{width:"18px",height:"18px"}}),n.jsx("span",{style:{fontWeight:500},children:A?"Deselect All":"Select All"})]}),z.size>0&&n.jsxs("span",{style:{color:"#92400e",fontWeight:600},children:[z.size," selected"]})]}),z.size>0&&!q&&n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsx(Ha,{action:"MERGE",onClick:()=>ge("MERGE"),small:!0}),n.jsx(Ha,{action:"SKIP",onClick:()=>ge("SKIP"),small:!0}),n.jsx(Ha,{action:"DELETE",onClick:()=>{confirm(`Delete ${z.size} selected persons?`)&&ge("DELETE")},small:!0})]}),q&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("span",{className:"spinner",style:{width:"16px",height:"16px"}}),n.jsxs("span",{children:[q,"ing ",X.current,"/",X.total,"..."]})]})]}),o?.scanned_at&&n.jsxs("div",{style:{fontSize:"0.875rem",color:"#999",marginBottom:"1rem"},children:["Last scan: ",new Date(o.scanned_at).toLocaleString()]}),u&&!o?n.jsx("div",{className:"text-muted",children:"Loading candidates..."}):o?je.length===0?n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#999"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"All candidates processed!"}),n.jsx("p",{children:"No more merge candidates to review"}),n.jsx("button",{className:"btn btn-primary",onClick:H,style:{marginTop:"1rem"},children:"Scan for new candidates"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:be.map(L=>{const Z=J.indexOf(L),I=v.has(Z),oe=z.has(Z);return I?null:n.jsx("div",{style:{background:oe?"#fef9c3":"white",borderRadius:"12px",padding:"1rem",border:oe?"2px solid #fbbf24":"1px solid #3a3a3a"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"0.75rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[n.jsx("input",{type:"checkbox",checked:oe,onChange:()=>Oe(Z),style:{width:"18px",height:"18px",marginTop:"2px",cursor:"pointer"}}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[n.jsx(nj,{type:L.type}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#999"},children:["#",Z+1]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem",flexWrap:"wrap"},children:[n.jsx("span",{style:{fontWeight:600,color:"#dc2626"},children:L.source_name}),n.jsxs("span",{style:{color:"#9ca3af",fontSize:"0.875rem"},children:["(",L.source_embeddings,")"]}),L.target_name&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{color:"#999"},children:""}),n.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:L.target_name}),n.jsxs("span",{style:{color:"#9ca3af",fontSize:"0.875rem"},children:["(",L.target_embeddings,")"]})]})]}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:L.reason})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.375rem",flexWrap:"wrap",alignItems:"center"},children:[L.target_name&&n.jsxs(n.Fragment,{children:[n.jsx(Ha,{action:"MERGE",onClick:()=>ue(Z,"MERGE"),loading:w===Z,disabled:w!==null||q!==null,small:!0}),n.jsx("button",{onClick:()=>ue(Z,"MERGE",null,!0),disabled:w!==null||q!==null,title:`Merge "${L.target_name}" into "${L.source_name}" instead`,style:{padding:"0.375rem 0.5rem",borderRadius:"6px",border:"1px solid #10b981",backgroundColor:"white",color:"#10b981",cursor:w!==null?"not-allowed":"pointer",opacity:w!==null?.5:1,fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:n.jsx("span",{style:{transform:"scaleX(-1)"},children:""})})]}),n.jsx(Ha,{action:"RENAME",onClick:()=>Ee(Z,L.source_name),loading:w===Z,disabled:w!==null||q!==null,small:!0}),n.jsx(Ha,{action:"DELETE",onClick:()=>{confirm(`Delete "${L.source_name}"?`)&&ue(Z,"DELETE")},loading:w===Z,disabled:w!==null||q!==null,small:!0}),n.jsx(Ha,{action:"SKIP",onClick:()=>ue(Z,"SKIP"),loading:w===Z,disabled:w!==null||q!==null,small:!0})]})]})},Z)})}):n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#999"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"No scan results yet"}),n.jsx("p",{children:'Click "Scan Database" to detect merge candidates'})]}),j!==null&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",width:"90%",maxWidth:"400px"},children:[n.jsx("h3",{style:{marginBottom:"1rem"},children:"Rename Person"}),n.jsx("input",{type:"text",value:_,onChange:L=>T(L.target.value),placeholder:"Enter new name",style:{width:"100%",padding:"0.75rem",borderRadius:"6px",border:"1px solid #d1d5db",marginBottom:"1rem",fontSize:"1rem"},autoFocus:!0}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>{C(null),T("")},children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>ue(j,"RENAME",_),disabled:!_.trim(),children:"Rename"})]})]})})]})}function Ph({title:s,person:r,onSelect:o,persons:c,loading:u,domain:f,color:h}){const[b,y]=g.useState(null),[p,v]=g.useState(!1);return g.useEffect(()=>{if(!r){y(null);return}(async()=>{v(!0);try{const w=await Al.getPersonPreview(r,f);w.success&&y(w.data)}catch(w){console.error("Failed to load preview:",w)}finally{v(!1)}})()},[r,f]),n.jsxs("div",{style:{flex:1,background:"white",borderRadius:"12px",padding:"1.5rem",border:`2px solid ${h}`,minWidth:"300px"},children:[n.jsx("h3",{style:{color:h,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:s}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Select Person"}),n.jsxs("select",{className:"form-input",value:r||"",onChange:x=>o(x.target.value||null),disabled:u,style:{fontSize:"1rem"},children:[n.jsx("option",{value:"",children:"-- Select a person --"}),c.map((x,w)=>n.jsxs("option",{value:x.name,children:[x.display_name||x.name," (",x.image_count||x.embedding_count||0," images)"]},w))]})]}),r&&n.jsx("div",{style:{marginTop:"1rem"},children:p?n.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#999"},children:"Loading preview..."}):b?n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("span",{style:{fontWeight:600,fontSize:"1.1rem"},children:b.person_name}),n.jsxs("span",{style:{background:h+"20",color:h,padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.875rem",fontWeight:600},children:[b.image_count," images"]})]}),b.preview_images&&b.preview_images.length>0?n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem"},children:b.preview_images.map((x,w)=>n.jsx("div",{style:{aspectRatio:"1",borderRadius:"8px",overflow:"hidden",background:"#333"},children:n.jsx("img",{src:`https://facerecognition.mpanel.app${x.url}`,alt:`Preview ${w+1}`,style:{width:"100%",height:"100%",objectFit:"cover"},loading:"lazy"})},w))}):n.jsx("div",{style:{padding:"2rem",textAlign:"center",background:"#242424",borderRadius:"8px",color:"#999"},children:"No preview images available"})]}):null})]})}function lj(){const{user:s}=va(),[r,o]=g.useState(s?.domain||"serbia"),[c,u]=g.useState([]),[f,h]=g.useState(!1),[b,y]=g.useState(!1),[p,v]=g.useState(null),[x,w]=g.useState(null),[N,j]=g.useState(null),[C,_]=g.useState(null),[T,O]=g.useState(""),D=g.useCallback(async()=>{h(!0);try{const B=await bt.getTrainingProgress(r,"production",1,2e3,null);B.success&&u(B.data.folders||[])}catch(B){v(B.message)}finally{h(!1)}},[r]);g.useEffect(()=>{D()},[D]);const z=T?c.filter(B=>(B.name||"").toLowerCase().includes(T.toLowerCase())||(B.display_name||"").toLowerCase().includes(T.toLowerCase())):c,R=async()=>{if(!N||!C){v("Please select both source and target persons");return}if(N===C){v("Source and target must be different persons");return}const B=`Are you sure you want to merge "${N}" into "${C}"?

This will:
- Move all images from "${N}" to "${C}"
- Transfer all face embeddings
- Delete the "${N}" entry

This action cannot be undone.`;if(confirm(B)){y(!0),v(null),w(null);try{const X=await Al.mergePersons(N,C,r);X.success?(w(`Successfully merged "${N}" into "${C}". ${X.embeddings_moved||0} embeddings moved, ${X.files_renamed||0} files renamed.`),j(null),_(null),D()):v(X.error||"Merge failed")}catch(X){v(X.response?.data?.error||X.message||"Merge failed")}finally{y(!1)}}},q=()=>{const B=N;j(C),_(B)};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Manual Merge Tool"}),n.jsx("p",{className:"subtitle",children:"Merge two persons into one - select source (will be deleted) and target (will keep)"})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[n.jsxs("select",{className:"form-input",value:r,onChange:B=>{o(B.target.value),j(null),_(null)},style:{width:"auto"},children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"})]}),n.jsx("button",{className:"btn btn-secondary",onClick:D,disabled:f,children:f?"Loading...":"Refresh"})]})]}),p&&n.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:p}),x&&n.jsx("div",{className:"alert alert-success",style:{marginBottom:"1rem",background:"#d1fae5",color:"#065f46",padding:"1rem",borderRadius:"8px"},children:x}),n.jsx("div",{className:"card",style:{marginBottom:"1.5rem"},children:n.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[n.jsx("label",{children:"Search Persons"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"Type to filter persons...",value:T,onChange:B=>O(B.target.value)}),T&&n.jsxs("div",{style:{marginTop:"0.5rem",color:"#999",fontSize:"0.875rem"},children:["Found ",z.length," of ",c.length," persons"]})]})}),n.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[n.jsx(Ph,{title:"Source Person (will be deleted)",person:N,onSelect:j,persons:z.filter(B=>B.name!==C),loading:f,domain:r,color:"#dc2626"}),n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("button",{className:"btn",onClick:q,disabled:!N&&!C,style:{background:"#999",color:"white",border:"none",borderRadius:"50%",width:"48px",height:"48px",fontSize:"1.25rem",cursor:!N&&!C?"not-allowed":"pointer",opacity:!N&&!C?.5:1},title:"Swap source and target",children:""})}),n.jsx(Ph,{title:"Target Person (will keep)",person:C,onSelect:_,persons:z.filter(B=>B.name!==N),loading:f,domain:r,color:"#10b981"})]}),N&&C&&n.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #fef3c7, #fde68a)",border:"2px solid #f59e0b"},children:[n.jsx("h3",{style:{marginBottom:"1rem",color:"#92400e"},children:"Merge Preview"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[n.jsxs("div",{style:{background:"#fee2e2",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid #fecaca"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#dc2626",marginBottom:"0.25rem"},children:"Source (delete)"}),n.jsx("div",{style:{fontWeight:600},children:N})]}),n.jsx("div",{style:{fontSize:"2rem",color:"#92400e"},children:""}),n.jsxs("div",{style:{background:"#d1fae5",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#10b981",marginBottom:"0.25rem"},children:"Target (keep)"}),n.jsx("div",{style:{fontWeight:600},children:C})]})]}),n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[n.jsx("h4",{style:{marginBottom:"0.5rem"},children:"What will happen:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#4b5563"},children:[n.jsxs("li",{children:['All images from "',N,'" will be renamed to "',C,'"']}),n.jsxs("li",{children:['All face embeddings will be transferred to "',C,'"']}),n.jsxs("li",{children:['The person entry "',N,'" will be deleted from the database']}),n.jsx("li",{style:{color:"#dc2626",fontWeight:500},children:"This action cannot be undone"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>{j(null),_(null)},children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:R,disabled:b,style:{background:"#10b981",minWidth:"200px"},children:b?"Merging...":"Merge Persons"})]})]}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:"How to use the Manual Merge Tool"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Source Person:"})," The person entry that will be merged and deleted"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Target Person:"})," The person entry that will receive all images and embeddings"]}),n.jsx("li",{children:"Use the search box to quickly find persons by name"}),n.jsx("li",{children:"Preview images are shown to help you confirm you're selecting the right persons"}),n.jsx("li",{children:"Click the swap button to reverse source and target"}),n.jsx("li",{children:"All image files will be renamed and embeddings transferred automatically"})]})]})]})}function sj(){const{user:s}=va(),r=s?.domain||"serbia",[o,c]=g.useState([]),[u,f]=g.useState(!0),[h,b]=g.useState(null),[y,p]=g.useState(!1),[v,x]=g.useState(null),[w,N]=g.useState([]),[j,C]=g.useState(30),[_,T]=g.useState(30),O=g.useCallback(async()=>{try{const q=await bt.getSmartQueue(r);q.success&&c(q.queue||[])}catch(q){console.error("Error fetching queue:",q)}},[r]),D=g.useCallback(async()=>{try{const q=await bt.getTrainingRuns(r,10);q.success&&N(q.runs||[])}catch(q){console.error("Error fetching runs:",q)}},[r]);g.useEffect(()=>{(async()=>{f(!0),await Promise.all([O(),D()]),f(!1)})()},[O,D]);const z=async()=>{p(!0),b(null),x(null);try{const q=await bt.startBatchTraining({domain:r,maxTraining:j,imagesPerPerson:_,discoverNew:!1,benchmarkExisting:!1});q.success?(x(`Training started! Processing up to ${j} persons with ${_} images each.`),setTimeout(D,2e3)):b(q.error||"Failed to start training")}catch(q){b(q.message||"Failed to start training")}finally{p(!1)}},R={high:o.filter(q=>q.priority==="high"),medium:o.filter(q=>q.priority==="medium"),low:o.filter(q=>q.priority==="low")};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Batch Training"}),n.jsxs("p",{className:"subtitle",children:["Train multiple persons from the queue - ",n.jsx("strong",{children:r})]})]}),n.jsx("button",{className:"btn btn-secondary",onClick:()=>{O(),D()},disabled:u,children:u?"Loading...":"Refresh"})]}),h&&n.jsx("div",{className:"alert alert-error",children:h}),v&&n.jsx("div",{className:"alert alert-success",children:v}),n.jsxs("div",{className:"stats-grid",style:{marginBottom:"1.5rem"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Total in Queue"}),n.jsx("div",{className:"stat-value",children:o.length})]})]}),n.jsxs("div",{className:"stat-card",style:{borderLeft:"4px solid #ef4444"},children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"High Priority"}),n.jsx("div",{className:"stat-value",children:R.high.length})]})]}),n.jsxs("div",{className:"stat-card",style:{borderLeft:"4px solid #f59e0b"},children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Medium Priority"}),n.jsx("div",{className:"stat-value",children:R.medium.length})]})]}),n.jsxs("div",{className:"stat-card",style:{borderLeft:"4px solid #22c55e"},children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Low Priority"}),n.jsx("div",{className:"stat-value",children:R.low.length})]})]})]}),n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[n.jsx("h3",{style:{marginBottom:"1rem"},children:"Start Batch Training"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Max Persons to Train"}),n.jsxs("select",{value:j,onChange:q=>C(Number(q.target.value)),style:{width:"100%",padding:"0.75rem",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"1rem"},children:[n.jsx("option",{value:10,children:"10 persons"}),n.jsx("option",{value:20,children:"20 persons"}),n.jsx("option",{value:30,children:"30 persons"}),n.jsx("option",{value:50,children:"50 persons"}),n.jsx("option",{value:100,children:"100 persons"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Images per Person"}),n.jsxs("select",{value:_,onChange:q=>T(Number(q.target.value)),style:{width:"100%",padding:"0.75rem",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"1rem"},children:[n.jsx("option",{value:20,children:"20 images"}),n.jsx("option",{value:30,children:"30 images"}),n.jsx("option",{value:40,children:"40 images"}),n.jsx("option",{value:50,children:"50 images"})]})]})]}),n.jsxs("div",{style:{background:"#333",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem"},children:[n.jsxs("div",{style:{fontSize:"0.875rem",color:"#999"},children:[n.jsx("strong",{children:"Estimated:"})," Training ",Math.min(j,o.length)," persons"," ","with ",_," images each = ~",Math.min(j,o.length)*_," total images"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#999",marginTop:"0.25rem"},children:[n.jsx("strong",{children:"Time:"})," ~",Math.ceil(Math.min(j,o.length)*.5)," - ",Math.ceil(Math.min(j,o.length)*1)," minutes"]})]}),n.jsx("button",{onClick:z,disabled:y||o.length===0,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"none",backgroundColor:o.length===0?"#9ca3af":"#10b981",color:"white",fontSize:"1rem",fontWeight:600,cursor:o.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:y?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner",style:{width:"20px",height:"20px"}}),"Starting Training..."]}):o.length===0?"No persons in queue":n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{fontSize:"1.25rem"},children:""}),"Start Training (",Math.min(j,o.length)," persons)"]})})]}),w.length>0&&n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[n.jsx("h3",{style:{marginBottom:"1rem"},children:"Recent Training Runs"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.slice(0,5).map((q,B)=>n.jsxs("div",{style:{padding:"0.75rem",background:"#242424",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.5rem"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:500},children:q.run_id||"Unknown"}),n.jsx("span",{style:{color:"#999",marginLeft:"0.5rem",fontSize:"0.875rem"},children:q.started_at?new Date(q.started_at).toLocaleString():""})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[q.training?.successful!==void 0&&n.jsxs("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",backgroundColor:"#dcfce7",color:"#16a34a"},children:[q.training.successful," trained"]}),q.training?.failed>0&&n.jsxs("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626"},children:[q.training.failed," failed"]})]})]},q.run_id||B))})]}),n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem"},children:[n.jsxs("h3",{style:{marginBottom:"1rem"},children:["Queue Preview (First ",Math.min(20,o.length),")"]}),u?n.jsx("div",{className:"text-muted",children:"Loading queue..."}):o.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#999"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("p",{children:"Training queue is empty"}),n.jsx("p",{style:{fontSize:"0.875rem"},children:"Run a benchmark to add persons needing training"})]}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"0.5rem"},children:o.slice(0,20).map((q,B)=>n.jsxs("div",{style:{padding:"0.75rem",background:"#242424",borderRadius:"6px",borderLeft:`3px solid ${q.priority==="high"?"#ef4444":q.priority==="medium"?"#f59e0b":"#22c55e"}`},children:[n.jsx("div",{style:{fontWeight:500,marginBottom:"0.25rem"},children:q.person_name}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"#999"},children:["Score: ",q.recognition_score?.toFixed(0)||"N/A","%"," | ",q.priority," priority"]})]},q.person_name||B))}),o.length>20&&n.jsxs("div",{style:{textAlign:"center",marginTop:"1rem",color:"#999",fontSize:"0.875rem"},children:["... and ",o.length-20," more"]})]})]})}function ij(){const[s,r]=g.useState([]),[o,c]=g.useState(!0),[u,f]=g.useState(null),[h,b]=g.useState(null),y=async()=>{try{c(!0);const x=await ce.get("/training/queue-failed",{params:{domain:"serbia"}});x.data.success?r(x.data.data.failed||[]):f(x.data.error||"Failed to fetch failed entries")}catch(x){f(x.message||"Error fetching failed queue entries")}finally{c(!1)}};g.useEffect(()=>{y()},[]);const p=async(x,w)=>{try{b(x);const N=await ce.post("/training/queue-retry",{domain:"serbia",file_name:x});N.data.success?r(j=>j.filter(C=>C.file_name!==x)):alert(`Failed to retry: ${N.data.error}`)}catch(N){alert(`Error retrying ${w}: ${N.message}`)}finally{b(null)}},v=x=>x?new Date(x).toLocaleString():"N/A";return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Failed Queue Entries"}),n.jsx("p",{className:"subtitle",children:"Training attempts that failed (e.g., no SERP consensus)"})]}),n.jsx("div",{className:"card",style:{marginBottom:"1.5rem"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{style:{fontWeight:"500"},children:["Total failed: ",s.length]}),n.jsx("button",{className:"btn",onClick:y,disabled:o,children:o?"Refreshing...":"Refresh"})]})}),u&&n.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:u}),o&&s.length===0?n.jsxs("div",{className:"loading-state",children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading failed entries..."})]}):s.length===0?n.jsx("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:n.jsx("p",{style:{color:"#38a169",fontSize:"1.125rem"},children:"No failed entries! All queue items processed successfully."})}):n.jsx("div",{className:"card",children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"2px solid #3a3a3a"},children:[n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Person"}),n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Error"}),n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Priority"}),n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Source"}),n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Processed At"}),n.jsx("th",{style:{textAlign:"center",padding:"0.75rem",fontWeight:"600"},children:"Action"})]})}),n.jsx("tbody",{children:s.map((x,w)=>n.jsxs("tr",{style:{borderBottom:"1px solid #3a3a3a",backgroundColor:w%2===0?"#f7fafc":"white"},children:[n.jsx("td",{style:{padding:"0.75rem",fontWeight:"500"},children:x.person_name}),n.jsx("td",{style:{padding:"0.75rem",color:"#e53e3e"},children:x.error||"Unknown error"}),n.jsx("td",{style:{padding:"0.75rem"},children:n.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.875rem",backgroundColor:x.priority==="high"?"#fed7d7":x.priority==="medium"?"#feebc8":"#3a3a3a",color:x.priority==="high"?"#c53030":x.priority==="medium"?"#c05621":"#4a5568"},children:x.priority||"normal"})}),n.jsx("td",{style:{padding:"0.75rem",color:"#718096"},children:x.source||"N/A"}),n.jsx("td",{style:{padding:"0.75rem",color:"#718096",fontSize:"0.875rem"},children:v(x.processed_at)}),n.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:n.jsx("button",{className:"btn",onClick:()=>p(x.file_name,x.person_name),disabled:h===x.file_name,style:{backgroundColor:"#3182ce",color:"white",border:"none",padding:"0.375rem 0.75rem",fontSize:"0.875rem"},children:h===x.file_name?"Retrying...":"Retry"})})]},x.file_name||w))})]})}),n.jsxs("div",{className:"card",style:{marginTop:"1.5rem",backgroundColor:"#fffbeb"},children:[n.jsx("h3",{style:{marginBottom:"0.75rem",color:"#92400e"},children:"Why do entries fail?"}),n.jsxs("ul",{style:{paddingLeft:"1.5rem",color:"#78350f",lineHeight:"1.8"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"No SERP consensus:"})," Not enough matching faces found in search results (need 5+ images of the same person)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"No faces detected:"})," Search results contained images without detectable faces."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Download failures:"})," Unable to download enough images from search results."]})]}),n.jsxs("p",{style:{marginTop:"1rem",color:"#78350f"},children:["Click ",n.jsx("strong",{children:"Retry"})," to reset the entry to pending status and attempt training again in the next batch."]})]})]})}function rj(){return n.jsx(H0,{children:n.jsx(q0,{children:n.jsx(V0,{children:n.jsxs(T0,{basename:"/training",children:[n.jsx($0,{}),n.jsx(X0,{}),n.jsx(W0,{}),n.jsxs(a0,{children:[n.jsxs(Ae,{element:n.jsx(Q0,{children:n.jsx(Y0,{})}),children:[n.jsx(Ae,{path:"/dashboard",element:n.jsx(Tv,{})}),n.jsx(Ae,{path:"/workflow",element:n.jsx(Av,{})}),n.jsx(Ae,{path:"/queue-management",element:n.jsx(zv,{})}),n.jsx(Ae,{path:"/generate",element:n.jsx(Kt,{to:"/workflow",replace:!0})}),n.jsx(Ae,{path:"/queue",element:n.jsx(Kt,{to:"/workflow",replace:!0})}),n.jsx(Ae,{path:"/progress",element:n.jsx(Kt,{to:"/workflow",replace:!0})}),n.jsx(Ae,{path:"/gallery",element:n.jsx(Bv,{})}),n.jsx(Ae,{path:"/test",element:n.jsx(kv,{})}),n.jsx(Ae,{path:"/training",element:n.jsx(Wv,{})}),n.jsx(Ae,{path:"/training/generate",element:n.jsx(Mv,{})}),n.jsx(Ae,{path:"/training/queue",element:n.jsx($v,{})}),n.jsx(Ae,{path:"/training/batches",element:n.jsx(qv,{})}),n.jsx(Ae,{path:"/training/batch/:batchId",element:n.jsx(Yh,{})}),n.jsx(Ae,{path:"/training/review",element:n.jsx(Lv,{})}),n.jsx(Ae,{path:"/training/benchmarks",element:n.jsx(Zv,{})}),n.jsx(Ae,{path:"/training/merge-candidates",element:n.jsx(aj,{})}),n.jsx(Ae,{path:"/training/manual-merge",element:n.jsx(lj,{})}),n.jsx(Ae,{path:"/training/batch",element:n.jsx(sj,{})}),n.jsx(Ae,{path:"/training/discovery",element:n.jsx(Kv,{})}),n.jsx(Ae,{path:"/training/history",element:n.jsx(Iv,{})}),n.jsx(Ae,{path:"/training/automated/generate",element:n.jsx(Kt,{to:"/training/generate",replace:!0})}),n.jsx(Ae,{path:"/training/automated/batch/:batchId",element:n.jsx(Yh,{})}),n.jsx(Ae,{path:"/training/automated/review",element:n.jsx(Kt,{to:"/training/review",replace:!0})}),n.jsx(Ae,{path:"/training/automated/batches",element:n.jsx(Kt,{to:"/training/batches",replace:!0})}),n.jsx(Ae,{path:"/smart-training",element:n.jsx(Kt,{to:"/training",replace:!0})}),n.jsx(Ae,{path:"/smart-training/queue",element:n.jsx(Kt,{to:"/training/queue",replace:!0})}),n.jsx(Ae,{path:"/smart-training/benchmarks",element:n.jsx(Kt,{to:"/training/benchmarks",replace:!0})}),n.jsx(Ae,{path:"/smart-training/discovery",element:n.jsx(Kt,{to:"/training/discovery",replace:!0})}),n.jsx(Ae,{path:"/smart-training/history",element:n.jsx(Kt,{to:"/training/history",replace:!0})}),n.jsx(Ae,{path:"/video-recognition",element:n.jsx(Hv,{})}),n.jsx(Ae,{path:"/video-recognition/upload",element:n.jsx(Fv,{})}),n.jsx(Ae,{path:"/video-recognition/results",element:n.jsx(Qv,{})}),n.jsx(Ae,{path:"/storage-management",element:n.jsx(Yv,{})}),n.jsx(Ae,{path:"/rejected-faces",element:n.jsx(ej,{})}),n.jsx(Ae,{path:"/training/failed",element:n.jsx(ij,{})}),n.jsx(Ae,{path:"/",element:n.jsx(Kt,{to:"/dashboard",replace:!0})})]}),n.jsx(Ae,{path:"*",element:n.jsx(Kt,{to:"/dashboard",replace:!0})})]})]})})})})}cy.createRoot(document.getElementById("root")).render(n.jsx(g.StrictMode,{children:n.jsx(rj,{})}));
