(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function o(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(u){if(u.ep)return;u.ep=!0;const f=o(u);fetch(u.href,f)}})();var Bc={exports:{}},Rs={};var uh;function Ix(){if(uh)return Rs;uh=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(c,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var b in u)b!=="key"&&(f[b]=u[b])}else f=u;return u=f.ref,{$$typeof:s,type:c,key:h,ref:u!==void 0?u:null,props:f}}return Rs.Fragment=r,Rs.jsx=o,Rs.jsxs=o,Rs}var fh;function ey(){return fh||(fh=1,Bc.exports=Ix()),Bc.exports}var n=ey(),Oc={exports:{}},_e={};var mh;function ty(){if(mh)return _e;mh=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),w=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function T(R,U,Y){this.props=R,this.context=U,this.refs=j,this.updater=Y||S}T.prototype.isReactComponent={},T.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},T.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function M(){}M.prototype=T.prototype;function D(R,U,Y){this.props=R,this.context=U,this.refs=j,this.updater=Y||S}var z=D.prototype=new M;z.constructor=D,N(z,T.prototype),z.isPureReactComponent=!0;var E=Array.isArray;function q(){}var B={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function ee(R,U,Y){var te=Y.ref;return{$$typeof:s,type:R,key:U,ref:te!==void 0?te:null,props:Y}}function Z(R,U){return ee(R.type,U,R.props)}function H(R){return typeof R=="object"&&R!==null&&R.$$typeof===s}function oe(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Y){return U[Y]})}var pe=/\/+/g;function Ae(R,U){return typeof R=="object"&&R!==null&&R.key!=null?oe(""+R.key):U.toString(36)}function Me(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(q,q):(R.status="pending",R.then(function(U){R.status==="pending"&&(R.status="fulfilled",R.value=U)},function(U){R.status==="pending"&&(R.status="rejected",R.reason=U)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function Q(R,U,Y,te,ce){var ye=typeof R;(ye==="undefined"||ye==="boolean")&&(R=null);var we=!1;if(R===null)we=!0;else switch(ye){case"bigint":case"string":case"number":we=!0;break;case"object":switch(R.$$typeof){case s:case r:we=!0;break;case v:return we=R._init,Q(we(R._payload),U,Y,te,ce)}}if(we)return ce=ce(R),we=te===""?"."+Ae(R,0):te,E(ce)?(Y="",we!=null&&(Y=we.replace(pe,"$&/")+"/"),Q(ce,U,Y,"",function(Et){return Et})):ce!=null&&(H(ce)&&(ce=Z(ce,Y+(ce.key==null||R&&R.key===ce.key?"":(""+ce.key).replace(pe,"$&/")+"/")+we)),U.push(ce)),1;we=0;var Je=te===""?".":te+":";if(E(R))for(var Ye=0;Ye<R.length;Ye++)te=R[Ye],ye=Je+Ae(te,Ye),we+=Q(te,U,Y,ye,ce);else if(Ye=C(R),typeof Ye=="function")for(R=Ye.call(R),Ye=0;!(te=R.next()).done;)te=te.value,ye=Je+Ae(te,Ye++),we+=Q(te,U,Y,ye,ce);else if(ye==="object"){if(typeof R.then=="function")return Q(Me(R),U,Y,te,ce);throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return we}function ae(R,U,Y){if(R==null)return R;var te=[],ce=0;return Q(R,te,"","",function(ye){return U.call(Y,ye,ce++)}),te}function K(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(Y){(R._status===0||R._status===-1)&&(R._status=1,R._result=Y)},function(Y){(R._status===0||R._status===-1)&&(R._status=2,R._result=Y)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var ge=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},je={map:ae,forEach:function(R,U,Y){ae(R,function(){U.apply(this,arguments)},Y)},count:function(R){var U=0;return ae(R,function(){U++}),U},toArray:function(R){return ae(R,function(U){return U})||[]},only:function(R){if(!H(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return _e.Activity=x,_e.Children=je,_e.Component=T,_e.Fragment=o,_e.Profiler=u,_e.PureComponent=D,_e.StrictMode=c,_e.Suspense=y,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,_e.__COMPILER_RUNTIME={__proto__:null,c:function(R){return B.H.useMemoCache(R)}},_e.cache=function(R){return function(){return R.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(R,U,Y){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var te=N({},R.props),ce=R.key;if(U!=null)for(ye in U.key!==void 0&&(ce=""+U.key),U)!W.call(U,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&U.ref===void 0||(te[ye]=U[ye]);var ye=arguments.length-2;if(ye===1)te.children=Y;else if(1<ye){for(var we=Array(ye),Je=0;Je<ye;Je++)we[Je]=arguments[Je+2];te.children=we}return ee(R.type,ce,te)},_e.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:f,_context:R},R},_e.createElement=function(R,U,Y){var te,ce={},ye=null;if(U!=null)for(te in U.key!==void 0&&(ye=""+U.key),U)W.call(U,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ce[te]=U[te]);var we=arguments.length-2;if(we===1)ce.children=Y;else if(1<we){for(var Je=Array(we),Ye=0;Ye<we;Ye++)Je[Ye]=arguments[Ye+2];ce.children=Je}if(R&&R.defaultProps)for(te in we=R.defaultProps,we)ce[te]===void 0&&(ce[te]=we[te]);return ee(R,ye,ce)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(R){return{$$typeof:b,render:R}},_e.isValidElement=H,_e.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:K}},_e.memo=function(R,U){return{$$typeof:p,type:R,compare:U===void 0?null:U}},_e.startTransition=function(R){var U=B.T,Y={};B.T=Y;try{var te=R(),ce=B.S;ce!==null&&ce(Y,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(q,ge)}catch(ye){ge(ye)}finally{U!==null&&Y.types!==null&&(U.types=Y.types),B.T=U}},_e.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},_e.use=function(R){return B.H.use(R)},_e.useActionState=function(R,U,Y){return B.H.useActionState(R,U,Y)},_e.useCallback=function(R,U){return B.H.useCallback(R,U)},_e.useContext=function(R){return B.H.useContext(R)},_e.useDebugValue=function(){},_e.useDeferredValue=function(R,U){return B.H.useDeferredValue(R,U)},_e.useEffect=function(R,U){return B.H.useEffect(R,U)},_e.useEffectEvent=function(R){return B.H.useEffectEvent(R)},_e.useId=function(){return B.H.useId()},_e.useImperativeHandle=function(R,U,Y){return B.H.useImperativeHandle(R,U,Y)},_e.useInsertionEffect=function(R,U){return B.H.useInsertionEffect(R,U)},_e.useLayoutEffect=function(R,U){return B.H.useLayoutEffect(R,U)},_e.useMemo=function(R,U){return B.H.useMemo(R,U)},_e.useOptimistic=function(R,U){return B.H.useOptimistic(R,U)},_e.useReducer=function(R,U,Y){return B.H.useReducer(R,U,Y)},_e.useRef=function(R){return B.H.useRef(R)},_e.useState=function(R){return B.H.useState(R)},_e.useSyncExternalStore=function(R,U,Y){return B.H.useSyncExternalStore(R,U,Y)},_e.useTransition=function(){return B.H.useTransition()},_e.version="19.2.0",_e}var hh;function nd(){return hh||(hh=1,Oc.exports=ty()),Oc.exports}var g=nd(),Mc={exports:{}},Es={},Uc={exports:{}},Lc={};var ph;function ny(){return ph||(ph=1,(function(s){function r(Q,ae){var K=Q.length;Q.push(ae);e:for(;0<K;){var ge=K-1>>>1,je=Q[ge];if(0<u(je,ae))Q[ge]=ae,Q[K]=je,K=ge;else break e}}function o(Q){return Q.length===0?null:Q[0]}function c(Q){if(Q.length===0)return null;var ae=Q[0],K=Q.pop();if(K!==ae){Q[0]=K;e:for(var ge=0,je=Q.length,R=je>>>1;ge<R;){var U=2*(ge+1)-1,Y=Q[U],te=U+1,ce=Q[te];if(0>u(Y,K))te<je&&0>u(ce,Y)?(Q[ge]=ce,Q[te]=K,ge=te):(Q[ge]=Y,Q[U]=K,ge=U);else if(te<je&&0>u(ce,K))Q[ge]=ce,Q[te]=K,ge=te;else break e}}return ae}function u(Q,ae){var K=Q.sortIndex-ae.sortIndex;return K!==0?K:Q.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,b=h.now();s.unstable_now=function(){return h.now()-b}}var y=[],p=[],v=1,x=null,w=3,C=!1,S=!1,N=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function z(Q){for(var ae=o(p);ae!==null;){if(ae.callback===null)c(p);else if(ae.startTime<=Q)c(p),ae.sortIndex=ae.expirationTime,r(y,ae);else break;ae=o(p)}}function E(Q){if(N=!1,z(Q),!S)if(o(y)!==null)S=!0,q||(q=!0,oe());else{var ae=o(p);ae!==null&&Me(E,ae.startTime-Q)}}var q=!1,B=-1,W=5,ee=-1;function Z(){return j?!0:!(s.unstable_now()-ee<W)}function H(){if(j=!1,q){var Q=s.unstable_now();ee=Q;var ae=!0;try{e:{S=!1,N&&(N=!1,M(B),B=-1),C=!0;var K=w;try{t:{for(z(Q),x=o(y);x!==null&&!(x.expirationTime>Q&&Z());){var ge=x.callback;if(typeof ge=="function"){x.callback=null,w=x.priorityLevel;var je=ge(x.expirationTime<=Q);if(Q=s.unstable_now(),typeof je=="function"){x.callback=je,z(Q),ae=!0;break t}x===o(y)&&c(y),z(Q)}else c(y);x=o(y)}if(x!==null)ae=!0;else{var R=o(p);R!==null&&Me(E,R.startTime-Q),ae=!1}}break e}finally{x=null,w=K,C=!1}ae=void 0}}finally{ae?oe():q=!1}}}var oe;if(typeof D=="function")oe=function(){D(H)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Ae=pe.port2;pe.port1.onmessage=H,oe=function(){Ae.postMessage(null)}}else oe=function(){T(H,0)};function Me(Q,ae){B=T(function(){Q(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var K=w;w=ae;try{return Q()}finally{w=K}},s.unstable_requestPaint=function(){j=!0},s.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var K=w;w=Q;try{return ae()}finally{w=K}},s.unstable_scheduleCallback=function(Q,ae,K){var ge=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ge+K:ge):K=ge,Q){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=K+je,Q={id:v++,callback:ae,priorityLevel:Q,startTime:K,expirationTime:je,sortIndex:-1},K>ge?(Q.sortIndex=K,r(p,Q),o(y)===null&&Q===o(p)&&(N?(M(B),B=-1):N=!0,Me(E,K-ge))):(Q.sortIndex=je,r(y,Q),S||C||(S=!0,q||(q=!0,oe()))),Q},s.unstable_shouldYield=Z,s.unstable_wrapCallback=function(Q){var ae=w;return function(){var K=w;w=ae;try{return Q.apply(this,arguments)}finally{w=K}}}})(Lc)),Lc}var gh;function ay(){return gh||(gh=1,Uc.exports=ny()),Uc.exports}var qc={exports:{}},Nt={};var xh;function ly(){if(xh)return Nt;xh=1;var s=nd();function r(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var c={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,p,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:y,containerInfo:p,implementation:v}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Nt.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(y,p,null,v)},Nt.flushSync=function(y){var p=h.T,v=c.p;try{if(h.T=null,c.p=2,y)return y()}finally{h.T=p,c.p=v,c.d.f()}},Nt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,c.d.C(y,p))},Nt.prefetchDNS=function(y){typeof y=="string"&&c.d.D(y)},Nt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,x=b(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,C=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?c.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:C}):v==="script"&&c.d.X(y,{crossOrigin:x,integrity:w,fetchPriority:C,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Nt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=b(p.as,p.crossOrigin);c.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&c.d.M(y)},Nt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,x=b(v,p.crossOrigin);c.d.L(y,v,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Nt.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=b(p.as,p.crossOrigin);c.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else c.d.m(y)},Nt.requestFormReset=function(y){c.d.r(y)},Nt.unstable_batchedUpdates=function(y,p){return y(p)},Nt.useFormState=function(y,p,v){return h.H.useFormState(y,p,v)},Nt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Nt.version="19.2.0",Nt}var yh;function sy(){if(yh)return qc.exports;yh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),qc.exports=ly(),qc.exports}var bh;function iy(){if(bh)return Es;bh=1;var s=ay(),r=nd(),o=sy();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(c(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,l=t;;){var i=a.return;if(i===null)break;var d=i.alternate;if(d===null){if(l=i.return,l!==null){a=l;continue}break}if(i.child===d.child){for(d=i.child;d;){if(d===a)return y(i),e;if(d===l)return y(i),t;d=d.sibling}throw Error(c(188))}if(a.return!==l.return)a=i,l=d;else{for(var m=!1,_=i.child;_;){if(_===a){m=!0,a=i,l=d;break}if(_===l){m=!0,l=i,a=d;break}_=_.sibling}if(!m){for(_=d.child;_;){if(_===a){m=!0,a=d,l=i;break}if(_===l){m=!0,l=d,a=i;break}_=_.sibling}if(!m)throw Error(c(189))}}if(a.alternate!==l)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),D=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===pe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case T:return"Profiler";case j:return"StrictMode";case E:return"Suspense";case q:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case D:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case W:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var Me=Array.isArray,Q=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ge=[],je=-1;function R(e){return{current:e}}function U(e){0>je||(e.current=ge[je],ge[je]=null,je--)}function Y(e,t){je++,ge[je]=e.current,e.current=t}var te=R(null),ce=R(null),ye=R(null),we=R(null);function Je(e,t){switch(Y(ye,t),Y(ce,e),Y(te,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Bm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Bm(t),e=Om(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(te),Y(te,e)}function Ye(){U(te),U(ce),U(ye)}function Et(e){e.memoizedState!==null&&Y(we,e);var t=te.current,a=Om(t,e.type);t!==a&&(Y(ce,e),Y(te,a))}function jn(e){ce.current===e&&(U(te),U(ce)),we.current===e&&(U(we),ws._currentValue=K)}var fn,Sn;function Tt(e){if(fn===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);fn=t&&t[1]||"",Sn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fn+e+Sn}var se=!1;function O(e,t){if(!e||se)return"";se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(X){var G=X}Reflect.construct(e,[],I)}else{try{I.call()}catch(X){G=X}e.call(I.prototype)}}else{try{throw Error()}catch(X){G=X}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),m=d[0],_=d[1];if(m&&_){var A=m.split(`
`),V=_.split(`
`);for(i=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;i<V.length&&!V[i].includes("DetermineComponentFrameRoot");)i++;if(l===A.length||i===V.length)for(l=A.length-1,i=V.length-1;1<=l&&0<=i&&A[l]!==V[i];)i--;for(;1<=l&&0<=i;l--,i--)if(A[l]!==V[i]){if(l!==1||i!==1)do if(l--,i--,0>i||A[l]!==V[i]){var $=`
`+A[l].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=l&&0<=i);break}}}finally{se=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Tt(a):""}function ie(e,t){switch(e.tag){case 26:case 27:case 5:return Tt(e.type);case 16:return Tt("Lazy");case 13:return e.child!==t&&t!==null?Tt("Suspense Fallback"):Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 15:return O(e.type,!1);case 11:return O(e.type.render,!1);case 1:return O(e.type,!0);case 31:return Tt("Activity");default:return""}}function Se(e){try{var t="",a=null;do t+=ie(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ne=Object.prototype.hasOwnProperty,wt=s.unstable_scheduleCallback,ne=s.unstable_cancelCallback,he=s.unstable_shouldYield,Qe=s.unstable_requestPaint,at=s.unstable_now,Va=s.unstable_getCurrentPriorityLevel,Ga=s.unstable_ImmediatePriority,le=s.unstable_UserBlockingPriority,de=s.unstable_NormalPriority,ve=s.unstable_LowPriority,qe=s.unstable_IdlePriority,ze=s.log,Jt=s.unstable_setDisableYieldValue,Ml=null,Ht=null;function $n(e){if(typeof ze=="function"&&Jt(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Ml,e)}catch{}}var Ft=Math.clz32?Math.clz32:qp,Up=Math.log,Lp=Math.LN2;function qp(e){return e>>>=0,e===0?32:31-(Up(e)/Lp|0)|0}var Hs=256,Fs=262144,Vs=4194304;function va(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var i=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~d,l!==0?i=va(l):(m&=_,m!==0?i=va(m):a||(a=_&~e,a!==0&&(i=va(a))))):(_=l&~d,_!==0?i=va(_):m!==0?i=va(m):a||(a=l&~e,a!==0&&(i=va(a)))),i===0?0:t!==0&&t!==i&&(t&d)===0&&(d=i&-i,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:i}function Ul(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Hp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hd(){var e=Vs;return Vs<<=1,(Vs&62914560)===0&&(Vs=4194304),e}function jr(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ll(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fp(e,t,a,l,i,d){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,V=e.hiddenUpdates;for(a=m&~a;0<a;){var $=31-Ft(a),I=1<<$;_[$]=0,A[$]=-1;var G=V[$];if(G!==null)for(V[$]=null,$=0;$<G.length;$++){var X=G[$];X!==null&&(X.lane&=-536870913)}a&=~I}l!==0&&pd(e,l,0),d!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function pd(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ft(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function gd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Ft(a),i=1<<l;i&t|e[l]&t&&(e[l]|=t),a&=~i}}function xd(e,t){var a=t&-t;return a=(a&42)!==0?1:Sr(a),(a&(e.suspendedLanes|t))!==0?0:a}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function _r(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function yd(){var e=ae.p;return e!==0?e:(e=window.event,e===void 0?32:lh(e.type))}function bd(e,t){var a=ae.p;try{return ae.p=e,t()}finally{ae.p=a}}var Zn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Zn,At="__reactProps$"+Zn,Qa="__reactContainer$"+Zn,wr="__reactEvents$"+Zn,Vp="__reactListeners$"+Zn,Gp="__reactHandles$"+Zn,vd="__reactResources$"+Zn,ql="__reactMarker$"+Zn;function Nr(e){delete e[bt],delete e[At],delete e[wr],delete e[Vp],delete e[Gp]}function Ya(e){var t=e[bt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Qa]||a[bt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Vm(e);e!==null;){if(a=e[bt])return a;e=Vm(e)}return t}e=a,a=e.parentNode}return null}function Pa(e){if(e=e[bt]||e[Qa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Hl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Xa(e){var t=e[vd];return t||(t=e[vd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pt(e){e[ql]=!0}var jd=new Set,Sd={};function ja(e,t){Wa(e,t),Wa(e+"Capture",t)}function Wa(e,t){for(Sd[e]=t,e=0;e<t.length;e++)jd.add(t[e])}var Qp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_d={},wd={};function Yp(e){return Ne.call(wd,e)?!0:Ne.call(_d,e)?!1:Qp.test(e)?wd[e]=!0:(_d[e]=!0,!1)}function Qs(e,t,a){if(Yp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Rn(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pp(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var i=l.get,d=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(m){a=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cr(e){if(!e._valueTracker){var t=Nd(e)?"checked":"value";e._valueTracker=Pp(e,t,""+e[t])}}function Cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Nd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xp=/[\n"\\]/g;function en(e){return e.replace(Xp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tr(e,t,a,l,i,d,m,_){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Rr(e,m,It(t)):a!=null?Rr(e,m,It(a)):l!=null&&e.removeAttribute("value"),i==null&&d!=null&&(e.defaultChecked=!!d),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+It(_):e.removeAttribute("name")}function Td(e,t,a,l,i,d,m,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Cr(e);return}a=a!=null?""+It(a):"",t=t!=null?""+It(t):a,_||t===e.value||(e.value=t),e.defaultValue=t}l=l??i,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Cr(e)}function Rr(e,t,a){t==="number"&&Ps(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function $a(e,t,a,l){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&l&&(e[a].defaultSelected=!0)}else{for(a=""+It(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,l&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rd(e,t,a){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+It(a):""}function Ed(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(c(92));if(Me(l)){if(1<l.length)throw Error(c(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=It(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Cr(e)}function Za(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Wp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ad(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Wp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function zd(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var i in t)l=t[i],t.hasOwnProperty(i)&&a[i]!==l&&Ad(e,i,l)}else for(var d in t)t.hasOwnProperty(d)&&Ad(e,d,t[d])}function Er(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xs(e){return Zp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var Ar=null;function zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ka=null,Ja=null;function kd(e){var t=Pa(e);if(t&&(e=t.stateNode)){var a=e[At]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+en(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var i=l[At]||null;if(!i)throw Error(c(90));Tr(l,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Cd(l)}break e;case"textarea":Rd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&$a(e,!!a.multiple,t,!1)}}}var kr=!1;function Dd(e,t,a){if(kr)return e(t,a);kr=!0;try{var l=e(t);return l}finally{if(kr=!1,(Ka!==null||Ja!==null)&&(Bi(),Ka&&(t=Ka,e=Ja,Ja=Ka=null,kd(t),e)))for(t=0;t<e.length;t++)kd(e[t])}}function Fl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(An)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Dr=!1}var Kn=null,Br=null,Ws=null;function Bd(){if(Ws)return Ws;var e,t=Br,a=t.length,l,i="value"in Kn?Kn.value:Kn.textContent,d=i.length;for(e=0;e<a&&t[e]===i[e];e++);var m=a-e;for(l=1;l<=m&&t[a-l]===i[d-l];l++);return Ws=i.slice(e,1<l?1-l:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function Od(){return!1}function zt(e){function t(a,l,i,d,m){this._reactName=a,this._targetInst=i,this.type=l,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zs:Od,this.isPropagationStopped=Od,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=zt(Sa),Gl=x({},Sa,{view:0,detail:0}),Kp=zt(Gl),Or,Mr,Ql,Js=x({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?(Or=e.screenX-Ql.screenX,Mr=e.screenY-Ql.screenY):Mr=Or=0,Ql=e),Or)},movementY:function(e){return"movementY"in e?e.movementY:Mr}}),Md=zt(Js),Jp=x({},Js,{dataTransfer:0}),Ip=zt(Jp),eg=x({},Gl,{relatedTarget:0}),Ur=zt(eg),tg=x({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),ng=zt(tg),ag=x({},Sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lg=zt(ag),sg=x({},Sa,{data:0}),Ud=zt(sg),ig={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=og[e])?!!t[e]:!1}function Lr(){return cg}var dg=x({},Gl,{key:function(e){if(e.key){var t=ig[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ug=zt(dg),fg=x({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=zt(fg),mg=x({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),hg=zt(mg),pg=x({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),gg=zt(pg),xg=x({},Js,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yg=zt(xg),bg=x({},Sa,{newState:0,oldState:0}),vg=zt(bg),jg=[9,13,27,32],qr=An&&"CompositionEvent"in window,Yl=null;An&&"documentMode"in document&&(Yl=document.documentMode);var Sg=An&&"TextEvent"in window&&!Yl,qd=An&&(!qr||Yl&&8<Yl&&11>=Yl),Hd=" ",Fd=!1;function Vd(e,t){switch(e){case"keyup":return jg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function _g(e,t){switch(e){case"compositionend":return Gd(t);case"keypress":return t.which!==32?null:(Fd=!0,Hd);case"textInput":return e=t.data,e===Hd&&Fd?null:e;default:return null}}function wg(e,t){if(Ia)return e==="compositionend"||!qr&&Vd(e,t)?(e=Bd(),Ws=Br=Kn=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qd&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function Yd(e,t,a,l){Ka?Ja?Ja.push(l):Ja=[l]:Ka=l,t=Fi(t,"onChange"),0<t.length&&(a=new Ks("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var Pl=null,Xl=null;function Cg(e){Rm(e,0)}function Is(e){var t=Hl(e);if(Cd(t))return e}function Pd(e,t){if(e==="change")return t}var Xd=!1;if(An){var Hr;if(An){var Fr="oninput"in document;if(!Fr){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Fr=typeof Wd.oninput=="function"}Hr=Fr}else Hr=!1;Xd=Hr&&(!document.documentMode||9<document.documentMode)}function $d(){Pl&&(Pl.detachEvent("onpropertychange",Zd),Xl=Pl=null)}function Zd(e){if(e.propertyName==="value"&&Is(Xl)){var t=[];Yd(t,Xl,e,zr(e)),Dd(Cg,t)}}function Tg(e,t,a){e==="focusin"?($d(),Pl=t,Xl=a,Pl.attachEvent("onpropertychange",Zd)):e==="focusout"&&$d()}function Rg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(Xl)}function Eg(e,t){if(e==="click")return Is(t)}function Ag(e,t){if(e==="input"||e==="change")return Is(t)}function zg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:zg;function Wl(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var i=a[l];if(!Ne.call(t,i)||!Vt(e[i],t[i]))return!1}return!0}function Kd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jd(e,t){var a=Kd(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kd(a)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ps(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ps(e.document)}return t}function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kg=An&&"documentMode"in document&&11>=document.documentMode,el=null,Gr=null,$l=null,Qr=!1;function tu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qr||el==null||el!==Ps(l)||(l=el,"selectionStart"in l&&Vr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$l&&Wl($l,l)||($l=l,l=Fi(Gr,"onSelect"),0<l.length&&(t=new Ks("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=el)))}function _a(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var tl={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},Yr={},nu={};An&&(nu=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function wa(e){if(Yr[e])return Yr[e];if(!tl[e])return e;var t=tl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in nu)return Yr[e]=t[a];return e}var au=wa("animationend"),lu=wa("animationiteration"),su=wa("animationstart"),Dg=wa("transitionrun"),Bg=wa("transitionstart"),Og=wa("transitioncancel"),iu=wa("transitionend"),ru=new Map,Pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pr.push("scrollEnd");function mn(e,t){ru.set(e,t),ja(t,[e])}var ei=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],nl=0,Xr=0;function ti(){for(var e=nl,t=Xr=nl=0;t<e;){var a=tn[t];tn[t++]=null;var l=tn[t];tn[t++]=null;var i=tn[t];tn[t++]=null;var d=tn[t];if(tn[t++]=null,l!==null&&i!==null){var m=l.pending;m===null?i.next=i:(i.next=m.next,m.next=i),l.pending=i}d!==0&&ou(a,i,d)}}function ni(e,t,a,l){tn[nl++]=e,tn[nl++]=t,tn[nl++]=a,tn[nl++]=l,Xr|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wr(e,t,a,l){return ni(e,t,a,l),ai(e)}function Na(e,t){return ni(e,null,null,t),ai(e)}function ou(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var i=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(i=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,i&&t!==null&&(i=31-Ft(a),e=d.hiddenUpdates,l=e[i],l===null?e[i]=[t]:l.push(t),t.lane=a|536870912),d):null}function ai(e){if(50<xs)throw xs=0,lc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var al={};function Mg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,a,l){return new Mg(e,t,a,l)}function $r(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zn(e,t){var a=e.alternate;return a===null?(a=Gt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function li(e,t,a,l,i,d){var m=0;if(l=e,typeof e=="function")$r(e)&&(m=1);else if(typeof e=="string")m=Fx(e,a,te.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Gt(31,a,t,i),e.elementType=ee,e.lanes=d,e;case N:return Ca(a.children,i,d,t);case j:m=8,i|=24;break;case T:return e=Gt(12,a,t,i|2),e.elementType=T,e.lanes=d,e;case E:return e=Gt(13,a,t,i),e.elementType=E,e.lanes=d,e;case q:return e=Gt(19,a,t,i),e.elementType=q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:m=10;break e;case M:m=9;break e;case z:m=11;break e;case B:m=14;break e;case W:m=16,l=null;break e}m=29,a=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=Gt(m,a,t,i),t.elementType=e,t.type=l,t.lanes=d,t}function Ca(e,t,a,l){return e=Gt(7,e,l,t),e.lanes=a,e}function Zr(e,t,a){return e=Gt(6,e,null,t),e.lanes=a,e}function du(e){var t=Gt(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,a){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var uu=new WeakMap;function nn(e,t){if(typeof e=="object"&&e!==null){var a=uu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Se(t)},uu.set(e,t),t)}return{value:e,source:t,stack:Se(t)}}var ll=[],sl=0,si=null,Zl=0,an=[],ln=0,Jn=null,_n=1,wn="";function kn(e,t){ll[sl++]=Zl,ll[sl++]=si,si=e,Zl=t}function fu(e,t,a){an[ln++]=_n,an[ln++]=wn,an[ln++]=Jn,Jn=e;var l=_n;e=wn;var i=32-Ft(l)-1;l&=~(1<<i),a+=1;var d=32-Ft(t)+i;if(30<d){var m=i-i%5;d=(l&(1<<m)-1).toString(32),l>>=m,i-=m,_n=1<<32-Ft(t)+i|a<<i|l,wn=d+e}else _n=1<<d|a<<i|l,wn=e}function Jr(e){e.return!==null&&(kn(e,1),fu(e,1,0))}function Ir(e){for(;e===si;)si=ll[--sl],ll[sl]=null,Zl=ll[--sl],ll[sl]=null;for(;e===Jn;)Jn=an[--ln],an[ln]=null,wn=an[--ln],an[ln]=null,_n=an[--ln],an[ln]=null}function mu(e,t){an[ln++]=_n,an[ln++]=wn,an[ln++]=Jn,_n=t.id,wn=t.overflow,Jn=e}var vt=null,Ie=null,Ue=!1,In=null,sn=!1,eo=Error(c(519));function ea(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(nn(t,e)),eo}function hu(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[bt]=e,t[At]=l,a){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(a=0;a<bs.length;a++)De(bs[a],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),Td(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),Ed(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||km(t.textContent,a)?(l.popover!=null&&(De("beforetoggle",t),De("toggle",t)),l.onScroll!=null&&De("scroll",t),l.onScrollEnd!=null&&De("scrollend",t),l.onClick!=null&&(t.onclick=En),t=!0):t=!1,t||ea(e,!0)}function pu(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:vt=vt.return}}function il(e){if(e!==vt)return!1;if(!Ue)return pu(e),Ue=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bc(e.type,e.memoizedProps)),a=!a),a&&Ie&&ea(e),pu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ie=Fm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ie=Fm(e)}else t===27?(t=Ie,ha(e.type)?(e=wc,wc=null,Ie=e):Ie=t):Ie=vt?on(e.stateNode.nextSibling):null;return!0}function Ta(){Ie=vt=null,Ue=!1}function to(){var e=In;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),In=null),e}function Kl(e){In===null?In=[e]:In.push(e)}var no=R(null),Ra=null,Dn=null;function ta(e,t,a){Y(no,t._currentValue),t._currentValue=a}function Bn(e){e._currentValue=no.current,U(no)}function ao(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function lo(e,t,a,l){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var d=i.dependencies;if(d!==null){var m=i.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=i;for(var A=0;A<t.length;A++)if(_.context===t[A]){d.lanes|=a,_=d.alternate,_!==null&&(_.lanes|=a),ao(d.return,a,e),l||(m=null);break e}d=_.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(c(341));m.lanes|=a,d=m.alternate,d!==null&&(d.lanes|=a),ao(m,a,e),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===e){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function rl(e,t,a,l){e=null;for(var i=t,d=!1;i!==null;){if(!d){if((i.flags&524288)!==0)d=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(c(387));if(m=m.memoizedProps,m!==null){var _=i.type;Vt(i.pendingProps.value,m.value)||(e!==null?e.push(_):e=[_])}}else if(i===we.current){if(m=i.alternate,m===null)throw Error(c(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ws):e=[ws])}i=i.return}e!==null&&lo(t,e,a,l),t.flags|=262144}function ii(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ea(e){Ra=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jt(e){return gu(Ra,e)}function ri(e,t){return Ra===null&&Ea(e),gu(e,t)}function gu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Dn===null){if(e===null)throw Error(c(308));Dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dn=Dn.next=t;return a}var Ug=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Lg=s.unstable_scheduleCallback,qg=s.unstable_NormalPriority,ct={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new Ug,data:new Map,refCount:0}}function Jl(e){e.refCount--,e.refCount===0&&Lg(qg,function(){e.controller.abort()})}var Il=null,io=0,ol=0,cl=null;function Hg(e,t){if(Il===null){var a=Il=[];io=0,ol=dc(),cl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return io++,t.then(xu,xu),t}function xu(){if(--io===0&&Il!==null){cl!==null&&(cl.status="fulfilled");var e=Il;Il=null,ol=0,cl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Fg(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(l.status="rejected",l.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),l}var yu=Q.S;Q.S=function(e,t){nm=at(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Hg(e,t),yu!==null&&yu(e,t)};var Aa=R(null);function ro(){var e=Aa.current;return e!==null?e:Ke.pooledCache}function oi(e,t){t===null?Y(Aa,Aa.current):Y(Aa,t.pool)}function bu(){var e=ro();return e===null?null:{parent:ct._currentValue,pool:e}}var dl=Error(c(460)),oo=Error(c(474)),ci=Error(c(542)),di={then:function(){}};function vu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ju(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(En,En),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_u(e),e;default:if(typeof t.status=="string")t.then(En,En);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=l}},function(l){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_u(e),e}throw ka=t,dl}}function za(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ka=a,dl):a}}var ka=null;function Su(){if(ka===null)throw Error(c(459));var e=ka;return ka=null,e}function _u(e){if(e===dl||e===ci)throw Error(c(483))}var ul=null,es=0;function ui(e){var t=es;return es+=1,ul===null&&(ul=[]),ju(ul,e,t)}function ts(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fi(e,t){throw t.$$typeof===w?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function wu(e){function t(L,k){if(e){var F=L.deletions;F===null?(L.deletions=[k],L.flags|=16):F.push(k)}}function a(L,k){if(!e)return null;for(;k!==null;)t(L,k),k=k.sibling;return null}function l(L){for(var k=new Map;L!==null;)L.key!==null?k.set(L.key,L):k.set(L.index,L),L=L.sibling;return k}function i(L,k){return L=zn(L,k),L.index=0,L.sibling=null,L}function d(L,k,F){return L.index=F,e?(F=L.alternate,F!==null?(F=F.index,F<k?(L.flags|=67108866,k):F):(L.flags|=67108866,k)):(L.flags|=1048576,k)}function m(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function _(L,k,F,J){return k===null||k.tag!==6?(k=Zr(F,L.mode,J),k.return=L,k):(k=i(k,F),k.return=L,k)}function A(L,k,F,J){var xe=F.type;return xe===N?$(L,k,F.props.children,J,F.key):k!==null&&(k.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===W&&za(xe)===k.type)?(k=i(k,F.props),ts(k,F),k.return=L,k):(k=li(F.type,F.key,F.props,null,L.mode,J),ts(k,F),k.return=L,k)}function V(L,k,F,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=Kr(F,L.mode,J),k.return=L,k):(k=i(k,F.children||[]),k.return=L,k)}function $(L,k,F,J,xe){return k===null||k.tag!==7?(k=Ca(F,L.mode,J,xe),k.return=L,k):(k=i(k,F),k.return=L,k)}function I(L,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Zr(""+k,L.mode,F),k.return=L,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return F=li(k.type,k.key,k.props,null,L.mode,F),ts(F,k),F.return=L,F;case S:return k=Kr(k,L.mode,F),k.return=L,k;case W:return k=za(k),I(L,k,F)}if(Me(k)||oe(k))return k=Ca(k,L.mode,F,null),k.return=L,k;if(typeof k.then=="function")return I(L,ui(k),F);if(k.$$typeof===D)return I(L,ri(L,k),F);fi(L,k)}return null}function G(L,k,F,J){var xe=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return xe!==null?null:_(L,k,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return F.key===xe?A(L,k,F,J):null;case S:return F.key===xe?V(L,k,F,J):null;case W:return F=za(F),G(L,k,F,J)}if(Me(F)||oe(F))return xe!==null?null:$(L,k,F,J,null);if(typeof F.then=="function")return G(L,k,ui(F),J);if(F.$$typeof===D)return G(L,k,ri(L,F),J);fi(L,F)}return null}function X(L,k,F,J,xe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(F)||null,_(k,L,""+J,xe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return L=L.get(J.key===null?F:J.key)||null,A(k,L,J,xe);case S:return L=L.get(J.key===null?F:J.key)||null,V(k,L,J,xe);case W:return J=za(J),X(L,k,F,J,xe)}if(Me(J)||oe(J))return L=L.get(F)||null,$(k,L,J,xe,null);if(typeof J.then=="function")return X(L,k,F,ui(J),xe);if(J.$$typeof===D)return X(L,k,F,ri(k,J),xe);fi(k,J)}return null}function ue(L,k,F,J){for(var xe=null,He=null,fe=k,Re=k=0,Oe=null;fe!==null&&Re<F.length;Re++){fe.index>Re?(Oe=fe,fe=null):Oe=fe.sibling;var Fe=G(L,fe,F[Re],J);if(Fe===null){fe===null&&(fe=Oe);break}e&&fe&&Fe.alternate===null&&t(L,fe),k=d(Fe,k,Re),He===null?xe=Fe:He.sibling=Fe,He=Fe,fe=Oe}if(Re===F.length)return a(L,fe),Ue&&kn(L,Re),xe;if(fe===null){for(;Re<F.length;Re++)fe=I(L,F[Re],J),fe!==null&&(k=d(fe,k,Re),He===null?xe=fe:He.sibling=fe,He=fe);return Ue&&kn(L,Re),xe}for(fe=l(fe);Re<F.length;Re++)Oe=X(fe,L,Re,F[Re],J),Oe!==null&&(e&&Oe.alternate!==null&&fe.delete(Oe.key===null?Re:Oe.key),k=d(Oe,k,Re),He===null?xe=Oe:He.sibling=Oe,He=Oe);return e&&fe.forEach(function(ba){return t(L,ba)}),Ue&&kn(L,Re),xe}function be(L,k,F,J){if(F==null)throw Error(c(151));for(var xe=null,He=null,fe=k,Re=k=0,Oe=null,Fe=F.next();fe!==null&&!Fe.done;Re++,Fe=F.next()){fe.index>Re?(Oe=fe,fe=null):Oe=fe.sibling;var ba=G(L,fe,Fe.value,J);if(ba===null){fe===null&&(fe=Oe);break}e&&fe&&ba.alternate===null&&t(L,fe),k=d(ba,k,Re),He===null?xe=ba:He.sibling=ba,He=ba,fe=Oe}if(Fe.done)return a(L,fe),Ue&&kn(L,Re),xe;if(fe===null){for(;!Fe.done;Re++,Fe=F.next())Fe=I(L,Fe.value,J),Fe!==null&&(k=d(Fe,k,Re),He===null?xe=Fe:He.sibling=Fe,He=Fe);return Ue&&kn(L,Re),xe}for(fe=l(fe);!Fe.done;Re++,Fe=F.next())Fe=X(fe,L,Re,Fe.value,J),Fe!==null&&(e&&Fe.alternate!==null&&fe.delete(Fe.key===null?Re:Fe.key),k=d(Fe,k,Re),He===null?xe=Fe:He.sibling=Fe,He=Fe);return e&&fe.forEach(function(Jx){return t(L,Jx)}),Ue&&kn(L,Re),xe}function Ze(L,k,F,J){if(typeof F=="object"&&F!==null&&F.type===N&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case C:e:{for(var xe=F.key;k!==null;){if(k.key===xe){if(xe=F.type,xe===N){if(k.tag===7){a(L,k.sibling),J=i(k,F.props.children),J.return=L,L=J;break e}}else if(k.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===W&&za(xe)===k.type){a(L,k.sibling),J=i(k,F.props),ts(J,F),J.return=L,L=J;break e}a(L,k);break}else t(L,k);k=k.sibling}F.type===N?(J=Ca(F.props.children,L.mode,J,F.key),J.return=L,L=J):(J=li(F.type,F.key,F.props,null,L.mode,J),ts(J,F),J.return=L,L=J)}return m(L);case S:e:{for(xe=F.key;k!==null;){if(k.key===xe)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){a(L,k.sibling),J=i(k,F.children||[]),J.return=L,L=J;break e}else{a(L,k);break}else t(L,k);k=k.sibling}J=Kr(F,L.mode,J),J.return=L,L=J}return m(L);case W:return F=za(F),Ze(L,k,F,J)}if(Me(F))return ue(L,k,F,J);if(oe(F)){if(xe=oe(F),typeof xe!="function")throw Error(c(150));return F=xe.call(F),be(L,k,F,J)}if(typeof F.then=="function")return Ze(L,k,ui(F),J);if(F.$$typeof===D)return Ze(L,k,ri(L,F),J);fi(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(a(L,k.sibling),J=i(k,F),J.return=L,L=J):(a(L,k),J=Zr(F,L.mode,J),J.return=L,L=J),m(L)):a(L,k)}return function(L,k,F,J){try{es=0;var xe=Ze(L,k,F,J);return ul=null,xe}catch(fe){if(fe===dl||fe===ci)throw fe;var He=Gt(29,fe,null,L.mode);return He.lanes=J,He.return=L,He}finally{}}}var Da=wu(!0),Nu=wu(!1),na=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function la(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var i=l.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),l.pending=t,t=ai(e),ou(e,null,a),t}return ni(e,l,t,a),ai(e)}function ns(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,gd(e,a)}}function fo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var i=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?i=d=m:d=d.next=m,a=a.next}while(a!==null);d===null?i=d=t:d=d.next=t}else i=d=t;a={baseState:l.baseState,firstBaseUpdate:i,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var mo=!1;function as(){if(mo){var e=cl;if(e!==null)throw e}}function ls(e,t,a,l){mo=!1;var i=e.updateQueue;na=!1;var d=i.firstBaseUpdate,m=i.lastBaseUpdate,_=i.shared.pending;if(_!==null){i.shared.pending=null;var A=_,V=A.next;A.next=null,m===null?d=V:m.next=V,m=A;var $=e.alternate;$!==null&&($=$.updateQueue,_=$.lastBaseUpdate,_!==m&&(_===null?$.firstBaseUpdate=V:_.next=V,$.lastBaseUpdate=A))}if(d!==null){var I=i.baseState;m=0,$=V=A=null,_=d;do{var G=_.lane&-536870913,X=G!==_.lane;if(X?(Be&G)===G:(l&G)===G){G!==0&&G===ol&&(mo=!0),$!==null&&($=$.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ue=e,be=_;G=t;var Ze=a;switch(be.tag){case 1:if(ue=be.payload,typeof ue=="function"){I=ue.call(Ze,I,G);break e}I=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=be.payload,G=typeof ue=="function"?ue.call(Ze,I,G):ue,G==null)break e;I=x({},I,G);break e;case 2:na=!0}}G=_.callback,G!==null&&(e.flags|=64,X&&(e.flags|=8192),X=i.callbacks,X===null?i.callbacks=[G]:X.push(G))}else X={lane:G,tag:_.tag,payload:_.payload,callback:_.callback,next:null},$===null?(V=$=X,A=I):$=$.next=X,m|=G;if(_=_.next,_===null){if(_=i.shared.pending,_===null)break;X=_,_=X.next,X.next=null,i.lastBaseUpdate=X,i.shared.pending=null}}while(!0);$===null&&(A=I),i.baseState=A,i.firstBaseUpdate=V,i.lastBaseUpdate=$,d===null&&(i.shared.lanes=0),ca|=m,e.lanes=m,e.memoizedState=I}}function Cu(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Tu(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Cu(a[e],t)}var fl=R(null),mi=R(0);function Ru(e,t){e=Gn,Y(mi,e),Y(fl,t),Gn=e|t.baseLanes}function ho(){Y(mi,Gn),Y(fl,fl.current)}function po(){Gn=mi.current,U(fl),U(mi)}var Qt=R(null),rn=null;function sa(e){var t=e.alternate;Y(it,it.current&1),Y(Qt,e),rn===null&&(t===null||fl.current!==null||t.memoizedState!==null)&&(rn=e)}function go(e){Y(it,it.current),Y(Qt,e),rn===null&&(rn=e)}function Eu(e){e.tag===22?(Y(it,it.current),Y(Qt,e),rn===null&&(rn=e)):ia()}function ia(){Y(it,it.current),Y(Qt,Qt.current)}function Yt(e){U(Qt),rn===e&&(rn=null),U(it)}var it=R(0);function hi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Sc(a)||_c(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var On=0,Ce=null,We=null,dt=null,pi=!1,ml=!1,Ba=!1,gi=0,ss=0,hl=null,Vg=0;function lt(){throw Error(c(321))}function xo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Vt(e[a],t[a]))return!1;return!0}function yo(e,t,a,l,i,d){return On=d,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?mf:Do,Ba=!1,d=a(l,i),Ba=!1,ml&&(d=zu(t,a,l,i)),Au(e),d}function Au(e){Q.H=os;var t=We!==null&&We.next!==null;if(On=0,dt=We=Ce=null,pi=!1,ss=0,hl=null,t)throw Error(c(300));e===null||ut||(e=e.dependencies,e!==null&&ii(e)&&(ut=!0))}function zu(e,t,a,l){Ce=e;var i=0;do{if(ml&&(hl=null),ss=0,ml=!1,25<=i)throw Error(c(301));if(i+=1,dt=We=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=hf,d=t(a,l)}while(ml);return d}function Gg(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?is(t):t,e=e.useState()[0],(We!==null?We.memoizedState:null)!==e&&(Ce.flags|=1024),t}function bo(){var e=gi!==0;return gi=0,e}function vo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function jo(e){if(pi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pi=!1}On=0,dt=We=Ce=null,ml=!1,ss=gi=0,hl=null}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ce.memoizedState=dt=e:dt=dt.next=e,dt}function rt(){if(We===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=dt===null?Ce.memoizedState:dt.next;if(t!==null)dt=t,We=e;else{if(e===null)throw Ce.alternate===null?Error(c(467)):Error(c(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},dt===null?Ce.memoizedState=dt=e:dt=dt.next=e}return dt}function xi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function is(e){var t=ss;return ss+=1,hl===null&&(hl=[]),e=ju(hl,e,t),t=Ce,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?mf:Do),e}function yi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return is(e);if(e.$$typeof===D)return jt(e)}throw Error(c(438,String(e)))}function So(e){var t=null,a=Ce.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=xi(),Ce.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Z;return t.index++,a}function Mn(e,t){return typeof t=="function"?t(e):t}function bi(e){var t=rt();return _o(t,We,e)}function _o(e,t,a){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=a;var i=e.baseQueue,d=l.pending;if(d!==null){if(i!==null){var m=i.next;i.next=d.next,d.next=m}t.baseQueue=i=d,l.pending=null}if(d=e.baseState,i===null)e.memoizedState=d;else{t=i.next;var _=m=null,A=null,V=t,$=!1;do{var I=V.lane&-536870913;if(I!==V.lane?(Be&I)===I:(On&I)===I){var G=V.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),I===ol&&($=!0);else if((On&G)===G){V=V.next,G===ol&&($=!0);continue}else I={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(_=A=I,m=d):A=A.next=I,Ce.lanes|=G,ca|=G;I=V.action,Ba&&a(d,I),d=V.hasEagerState?V.eagerState:a(d,I)}else G={lane:I,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},A===null?(_=A=G,m=d):A=A.next=G,Ce.lanes|=I,ca|=I;V=V.next}while(V!==null&&V!==t);if(A===null?m=d:A.next=_,!Vt(d,e.memoizedState)&&(ut=!0,$&&(a=cl,a!==null)))throw a;e.memoizedState=d,e.baseState=m,e.baseQueue=A,l.lastRenderedState=d}return i===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wo(e){var t=rt(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var l=a.dispatch,i=a.pending,d=t.memoizedState;if(i!==null){a.pending=null;var m=i=i.next;do d=e(d,m.action),m=m.next;while(m!==i);Vt(d,t.memoizedState)||(ut=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,l]}function ku(e,t,a){var l=Ce,i=rt(),d=Ue;if(d){if(a===void 0)throw Error(c(407));a=a()}else a=t();var m=!Vt((We||i).memoizedState,a);if(m&&(i.memoizedState=a,ut=!0),i=i.queue,To(Ou.bind(null,l,i,e),[e]),i.getSnapshot!==t||m||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,pl(9,{destroy:void 0},Bu.bind(null,l,i,a,t),null),Ke===null)throw Error(c(349));d||(On&127)!==0||Du(l,t,a)}return a}function Du(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ce.updateQueue,t===null?(t=xi(),Ce.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Bu(e,t,a,l){t.value=a,t.getSnapshot=l,Mu(t)&&Uu(e)}function Ou(e,t,a){return a(function(){Mu(t)&&Uu(e)})}function Mu(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Vt(e,a)}catch{return!0}}function Uu(e){var t=Na(e,2);t!==null&&Mt(t,e,2)}function No(e){var t=Rt();if(typeof e=="function"){var a=e;if(e=a(),Ba){$n(!0);try{a()}finally{$n(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},t}function Lu(e,t,a,l){return e.baseState=a,_o(e,We,typeof l=="function"?l:Mn)}function Qg(e,t,a,l,i){if(Si(e))throw Error(c(485));if(e=t.action,e!==null){var d={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=t.pending,a===null?(d.next=t.pending=d,qu(t,d)):(d.next=a.next,t.pending=a.next=d)}}function qu(e,t){var a=t.action,l=t.payload,i=e.state;if(t.isTransition){var d=Q.T,m={};Q.T=m;try{var _=a(i,l),A=Q.S;A!==null&&A(m,_),Hu(e,t,_)}catch(V){Co(e,t,V)}finally{d!==null&&m.types!==null&&(d.types=m.types),Q.T=d}}else try{d=a(i,l),Hu(e,t,d)}catch(V){Co(e,t,V)}}function Hu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fu(e,t,l)},function(l){return Co(e,t,l)}):Fu(e,t,a)}function Fu(e,t,a){t.status="fulfilled",t.value=a,Vu(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,qu(e,a)))}function Co(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Vu(t),t=t.next;while(t!==l)}e.action=null}function Vu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Gu(e,t){return t}function Qu(e,t){if(Ue){var a=Ke.formState;if(a!==null){e:{var l=Ce;if(Ue){if(Ie){t:{for(var i=Ie,d=sn;i.nodeType!==8;){if(!d){i=null;break t}if(i=on(i.nextSibling),i===null){i=null;break t}}d=i.data,i=d==="F!"||d==="F"?i:null}if(i){Ie=on(i.nextSibling),l=i.data==="F!";break e}}ea(l)}l=!1}l&&(t=a[0])}}return a=Rt(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:t},a.queue=l,a=df.bind(null,Ce,l),l.dispatch=a,l=No(!1),d=ko.bind(null,Ce,!1,l.queue),l=Rt(),i={state:t,dispatch:null,action:e,pending:null},l.queue=i,a=Qg.bind(null,Ce,i,d,a),i.dispatch=a,l.memoizedState=e,[t,a,!1]}function Yu(e){var t=rt();return Pu(t,We,e)}function Pu(e,t,a){if(t=_o(e,t,Gu)[0],e=bi(Mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=is(t)}catch(m){throw m===dl?ci:m}else l=t;t=rt();var i=t.queue,d=i.dispatch;return a!==t.memoizedState&&(Ce.flags|=2048,pl(9,{destroy:void 0},Yg.bind(null,i,a),null)),[l,d,e]}function Yg(e,t){e.action=t}function Xu(e){var t=rt(),a=We;if(a!==null)return Pu(t,a,e);rt(),t=t.memoizedState,a=rt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function pl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Ce.updateQueue,t===null&&(t=xi(),Ce.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Wu(){return rt().memoizedState}function vi(e,t,a,l){var i=Rt();Ce.flags|=e,i.memoizedState=pl(1|t,{destroy:void 0},a,l===void 0?null:l)}function ji(e,t,a,l){var i=rt();l=l===void 0?null:l;var d=i.memoizedState.inst;We!==null&&l!==null&&xo(l,We.memoizedState.deps)?i.memoizedState=pl(t,d,a,l):(Ce.flags|=e,i.memoizedState=pl(1|t,d,a,l))}function $u(e,t){vi(8390656,8,e,t)}function To(e,t){ji(2048,8,e,t)}function Pg(e){Ce.flags|=4;var t=Ce.updateQueue;if(t===null)t=xi(),Ce.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Zu(e){var t=rt().memoizedState;return Pg({ref:t,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Ku(e,t){return ji(4,2,e,t)}function Ju(e,t){return ji(4,4,e,t)}function Iu(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ef(e,t,a){a=a!=null?a.concat([e]):null,ji(4,4,Iu.bind(null,t,e),a)}function Ro(){}function tf(e,t){var a=rt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&xo(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function nf(e,t){var a=rt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&xo(t,l[1]))return l[0];if(l=e(),Ba){$n(!0);try{e()}finally{$n(!1)}}return a.memoizedState=[l,t],l}function Eo(e,t,a){return a===void 0||(On&1073741824)!==0&&(Be&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=lm(),Ce.lanes|=e,ca|=e,a)}function af(e,t,a,l){return Vt(a,t)?a:fl.current!==null?(e=Eo(e,a,l),Vt(e,t)||(ut=!0),e):(On&42)===0||(On&1073741824)!==0&&(Be&261930)===0?(ut=!0,e.memoizedState=a):(e=lm(),Ce.lanes|=e,ca|=e,t)}function lf(e,t,a,l,i){var d=ae.p;ae.p=d!==0&&8>d?d:8;var m=Q.T,_={};Q.T=_,ko(e,!1,t,a);try{var A=i(),V=Q.S;if(V!==null&&V(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var $=Fg(A,l);rs(e,t,$,Wt(e))}else rs(e,t,l,Wt(e))}catch(I){rs(e,t,{then:function(){},status:"rejected",reason:I},Wt())}finally{ae.p=d,m!==null&&_.types!==null&&(m.types=_.types),Q.T=m}}function Xg(){}function Ao(e,t,a,l){if(e.tag!==5)throw Error(c(476));var i=sf(e).queue;lf(e,i,t,K,a===null?Xg:function(){return rf(e),a(l)})}function sf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:K},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rf(e){var t=sf(e);t.next===null&&(t=e.alternate.memoizedState),rs(e,t.next.queue,{},Wt())}function zo(){return jt(ws)}function of(){return rt().memoizedState}function cf(){return rt().memoizedState}function Wg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Wt();e=aa(a);var l=la(t,e,a);l!==null&&(Mt(l,t,a),ns(l,t,a)),t={cache:so()},e.payload=t;return}t=t.return}}function $g(e,t,a){var l=Wt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Si(e)?uf(t,a):(a=Wr(e,t,a,l),a!==null&&(Mt(a,e,l),ff(a,t,l)))}function df(e,t,a){var l=Wt();rs(e,t,a,l)}function rs(e,t,a,l){var i={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Si(e))uf(t,i);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,_=d(m,a);if(i.hasEagerState=!0,i.eagerState=_,Vt(_,m))return ni(e,t,i,0),Ke===null&&ti(),!1}catch{}finally{}if(a=Wr(e,t,i,l),a!==null)return Mt(a,e,l),ff(a,t,l),!0}return!1}function ko(e,t,a,l){if(l={lane:2,revertLane:dc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Si(e)){if(t)throw Error(c(479))}else t=Wr(e,a,l,2),t!==null&&Mt(t,e,2)}function Si(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function uf(e,t){ml=pi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function ff(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,gd(e,a)}}var os={readContext:jt,use:yi,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};os.useEffectEvent=lt;var mf={readContext:jt,use:yi,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:jt,useEffect:$u,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,vi(4194308,4,Iu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){vi(4,2,e,t)},useMemo:function(e,t){var a=Rt();t=t===void 0?null:t;var l=e();if(Ba){$n(!0);try{e()}finally{$n(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Rt();if(a!==void 0){var i=a(t);if(Ba){$n(!0);try{a(t)}finally{$n(!1)}}}else i=t;return l.memoizedState=l.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},l.queue=e,e=e.dispatch=$g.bind(null,Ce,e),[l.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:function(e){e=No(e);var t=e.queue,a=df.bind(null,Ce,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ro,useDeferredValue:function(e,t){var a=Rt();return Eo(a,e,t)},useTransition:function(){var e=No(!1);return e=lf.bind(null,Ce,e.queue,!0,!1),Rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Ce,i=Rt();if(Ue){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),Ke===null)throw Error(c(349));(Be&127)!==0||Du(l,t,a)}i.memoizedState=a;var d={value:a,getSnapshot:t};return i.queue=d,$u(Ou.bind(null,l,d,e),[e]),l.flags|=2048,pl(9,{destroy:void 0},Bu.bind(null,l,d,a,t),null),a},useId:function(){var e=Rt(),t=Ke.identifierPrefix;if(Ue){var a=wn,l=_n;a=(l&~(1<<32-Ft(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=gi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Vg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zo,useFormState:Qu,useActionState:Qu,useOptimistic:function(e){var t=Rt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ko.bind(null,Ce,!0,a),a.dispatch=t,[e,t]},useMemoCache:So,useCacheRefresh:function(){return Rt().memoizedState=Wg.bind(null,Ce)},useEffectEvent:function(e){var t=Rt(),a={impl:e};return t.memoizedState=a,function(){if((Ve&2)!==0)throw Error(c(440));return a.impl.apply(void 0,arguments)}}},Do={readContext:jt,use:yi,useCallback:tf,useContext:jt,useEffect:To,useImperativeHandle:ef,useInsertionEffect:Ku,useLayoutEffect:Ju,useMemo:nf,useReducer:bi,useRef:Wu,useState:function(){return bi(Mn)},useDebugValue:Ro,useDeferredValue:function(e,t){var a=rt();return af(a,We.memoizedState,e,t)},useTransition:function(){var e=bi(Mn)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:ku,useId:of,useHostTransitionStatus:zo,useFormState:Yu,useActionState:Yu,useOptimistic:function(e,t){var a=rt();return Lu(a,We,e,t)},useMemoCache:So,useCacheRefresh:cf};Do.useEffectEvent=Zu;var hf={readContext:jt,use:yi,useCallback:tf,useContext:jt,useEffect:To,useImperativeHandle:ef,useInsertionEffect:Ku,useLayoutEffect:Ju,useMemo:nf,useReducer:wo,useRef:Wu,useState:function(){return wo(Mn)},useDebugValue:Ro,useDeferredValue:function(e,t){var a=rt();return We===null?Eo(a,e,t):af(a,We.memoizedState,e,t)},useTransition:function(){var e=wo(Mn)[0],t=rt().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:ku,useId:of,useHostTransitionStatus:zo,useFormState:Xu,useActionState:Xu,useOptimistic:function(e,t){var a=rt();return We!==null?Lu(a,We,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:So,useCacheRefresh:cf};hf.useEffectEvent=Zu;function Bo(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Oo={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Wt(),i=aa(l);i.payload=t,a!=null&&(i.callback=a),t=la(e,i,l),t!==null&&(Mt(t,e,l),ns(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Wt(),i=aa(l);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=la(e,i,l),t!==null&&(Mt(t,e,l),ns(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Wt(),l=aa(a);l.tag=2,t!=null&&(l.callback=t),t=la(e,l,a),t!==null&&(Mt(t,e,a),ns(t,e,a))}};function pf(e,t,a,l,i,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,m):t.prototype&&t.prototype.isPureReactComponent?!Wl(a,l)||!Wl(i,d):!0}function gf(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Oo.enqueueReplaceState(t,t.state,null)}function Oa(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function xf(e){ei(e)}function yf(e){console.error(e)}function bf(e){ei(e)}function _i(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function vf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Mo(e,t,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){_i(e,t)},a}function jf(e){return e=aa(e),e.tag=3,e}function Sf(e,t,a,l){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var d=l.value;e.payload=function(){return i(d)},e.callback=function(){vf(t,a,l)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){vf(t,a,l),typeof i!="function"&&(da===null?da=new Set([this]):da.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function Zg(e,t,a,l,i){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&rl(t,a,i,!0),a=Qt.current,a!==null){switch(a.tag){case 31:case 13:return rn===null?Oi():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=i,l===di?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),rc(e,l,i)),!1;case 22:return a.flags|=65536,l===di?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),rc(e,l,i)),!1}throw Error(c(435,a.tag))}return rc(e,l,i),Oi(),!1}if(Ue)return t=Qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,l!==eo&&(e=Error(c(422),{cause:l}),Kl(nn(e,a)))):(l!==eo&&(t=Error(c(423),{cause:l}),Kl(nn(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,l=nn(l,a),i=Mo(e.stateNode,l,i),fo(e,i),st!==4&&(st=2)),!1;var d=Error(c(520),{cause:l});if(d=nn(d,a),gs===null?gs=[d]:gs.push(d),st!==4&&(st=2),t===null)return!0;l=nn(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=Mo(a.stateNode,l,e),fo(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(da===null||!da.has(d))))return a.flags|=65536,i&=-i,a.lanes|=i,i=jf(i),Sf(i,e,a,l),fo(a,i),!1}a=a.return}while(a!==null);return!1}var Uo=Error(c(461)),ut=!1;function St(e,t,a,l){t.child=e===null?Nu(t,null,a,l):Da(t,e.child,a,l)}function _f(e,t,a,l,i){a=a.render;var d=t.ref;if("ref"in l){var m={};for(var _ in l)_!=="ref"&&(m[_]=l[_])}else m=l;return Ea(t),l=yo(e,t,a,m,d,i),_=bo(),e!==null&&!ut?(vo(e,t,i),Un(e,t,i)):(Ue&&_&&Jr(t),t.flags|=1,St(e,t,l,i),t.child)}function wf(e,t,a,l,i){if(e===null){var d=a.type;return typeof d=="function"&&!$r(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,Nf(e,t,d,l,i)):(e=li(a.type,null,l,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Yo(e,i)){var m=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wl,a(m,l)&&e.ref===t.ref)return Un(e,t,i)}return t.flags|=1,e=zn(d,l),e.ref=t.ref,e.return=t,t.child=e}function Nf(e,t,a,l,i){if(e!==null){var d=e.memoizedProps;if(Wl(d,l)&&e.ref===t.ref)if(ut=!1,t.pendingProps=l=d,Yo(e,i))(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Un(e,t,i)}return Lo(e,t,a,l,i)}function Cf(e,t,a,l){var i=l.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=t.child=e.child,i=0;l!==null;)i=i|l.lanes|l.childLanes,l=l.sibling;l=i&~d}else l=0,t.child=null;return Tf(e,t,d,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&oi(t,d!==null?d.cachePool:null),d!==null?Ru(t,d):ho(),Eu(t);else return l=t.lanes=536870912,Tf(e,t,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oi(t,d.cachePool),Ru(t,d),ia(),t.memoizedState=null):(e!==null&&oi(t,null),ho(),ia());return St(e,t,i,a),t.child}function cs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Tf(e,t,a,l,i){var d=ro();return d=d===null?null:{parent:ct._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&oi(t,null),ho(),Eu(t),e!==null&&rl(e,t,l,!0),t.childLanes=i,null}function wi(e,t){return t=Ci({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Rf(e,t,a){return Da(t,e.child,null,a),e=wi(t,t.pendingProps),e.flags|=2,Yt(t),t.memoizedState=null,e}function Kg(e,t,a){var l=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ue){if(l.mode==="hidden")return e=wi(t,l),t.lanes=536870912,cs(null,e);if(go(t),(e=Ie)?(e=Hm(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:_n,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},a=du(e),a.return=t,t.child=a,vt=t,Ie=null)):e=null,e===null)throw ea(t);return t.lanes=536870912,null}return wi(t,l)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(go(t),i)if(t.flags&256)t.flags&=-257,t=Rf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(ut||rl(e,t,a,!1),i=(a&e.childLanes)!==0,ut||i){if(l=Ke,l!==null&&(m=xd(l,a),m!==0&&m!==d.retryLane))throw d.retryLane=m,Na(e,m),Mt(l,e,m),Uo;Oi(),t=Rf(e,t,a)}else e=d.treeContext,Ie=on(m.nextSibling),vt=t,Ue=!0,In=null,sn=!1,e!==null&&mu(t,e),t=wi(t,l),t.flags|=4096;return t}return e=zn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ni(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Lo(e,t,a,l,i){return Ea(t),a=yo(e,t,a,l,void 0,i),l=bo(),e!==null&&!ut?(vo(e,t,i),Un(e,t,i)):(Ue&&l&&Jr(t),t.flags|=1,St(e,t,a,i),t.child)}function Ef(e,t,a,l,i,d){return Ea(t),t.updateQueue=null,a=zu(t,l,a,i),Au(e),l=bo(),e!==null&&!ut?(vo(e,t,d),Un(e,t,d)):(Ue&&l&&Jr(t),t.flags|=1,St(e,t,a,d),t.child)}function Af(e,t,a,l,i){if(Ea(t),t.stateNode===null){var d=al,m=a.contextType;typeof m=="object"&&m!==null&&(d=jt(m)),d=new a(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Oo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},co(t),m=a.contextType,d.context=typeof m=="object"&&m!==null?jt(m):al,d.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Bo(t,a,m,l),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&Oo.enqueueReplaceState(d,d.state,null),ls(t,l,d,i),as(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var _=t.memoizedProps,A=Oa(a,_);d.props=A;var V=d.context,$=a.contextType;m=al,typeof $=="object"&&$!==null&&(m=jt($));var I=a.getDerivedStateFromProps;$=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||V!==m)&&gf(t,d,l,m),na=!1;var G=t.memoizedState;d.state=G,ls(t,l,d,i),as(),V=t.memoizedState,_||G!==V||na?(typeof I=="function"&&(Bo(t,a,I,l),V=t.memoizedState),(A=na||pf(t,a,A,l,G,V,m))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=V),d.props=l,d.state=V,d.context=m,l=A):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,uo(e,t),m=t.memoizedProps,$=Oa(a,m),d.props=$,I=t.pendingProps,G=d.context,V=a.contextType,A=al,typeof V=="object"&&V!==null&&(A=jt(V)),_=a.getDerivedStateFromProps,(V=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==I||G!==A)&&gf(t,d,l,A),na=!1,G=t.memoizedState,d.state=G,ls(t,l,d,i),as();var X=t.memoizedState;m!==I||G!==X||na||e!==null&&e.dependencies!==null&&ii(e.dependencies)?(typeof _=="function"&&(Bo(t,a,_,l),X=t.memoizedState),($=na||pf(t,a,$,l,G,X,A)||e!==null&&e.dependencies!==null&&ii(e.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,A),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,A)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=X),d.props=l,d.state=X,d.context=A,l=$):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Ni(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=Da(t,e.child,null,i),t.child=Da(t,null,a,i)):St(e,t,a,i),t.memoizedState=d.state,e=t.child):e=Un(e,t,i),e}function zf(e,t,a,l){return Ta(),t.flags|=256,St(e,t,a,l),t.child}var qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ho(e){return{baseLanes:e,cachePool:bu()}}function Fo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Xt),e}function kf(e,t,a){var l=t.pendingProps,i=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(it.current&2)!==0),m&&(i=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ue){if(i?sa(t):ia(),(e=Ie)?(e=Hm(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Jn!==null?{id:_n,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},a=du(e),a.return=t,t.child=a,vt=t,Ie=null)):e=null,e===null)throw ea(t);return _c(e)?t.lanes=32:t.lanes=536870912,null}var _=l.children;return l=l.fallback,i?(ia(),i=t.mode,_=Ci({mode:"hidden",children:_},i),l=Ca(l,i,a,null),_.return=t,l.return=t,_.sibling=l,t.child=_,l=t.child,l.memoizedState=Ho(a),l.childLanes=Fo(e,m,a),t.memoizedState=qo,cs(null,l)):(sa(t),Vo(t,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(d)t.flags&256?(sa(t),t.flags&=-257,t=Go(e,t,a)):t.memoizedState!==null?(ia(),t.child=e.child,t.flags|=128,t=null):(ia(),_=l.fallback,i=t.mode,l=Ci({mode:"visible",children:l.children},i),_=Ca(_,i,a,null),_.flags|=2,l.return=t,_.return=t,l.sibling=_,t.child=l,Da(t,e.child,null,a),l=t.child,l.memoizedState=Ho(a),l.childLanes=Fo(e,m,a),t.memoizedState=qo,t=cs(null,l));else if(sa(t),_c(_)){if(m=_.nextSibling&&_.nextSibling.dataset,m)var V=m.dgst;m=V,l=Error(c(419)),l.stack="",l.digest=m,Kl({value:l,source:null,stack:null}),t=Go(e,t,a)}else if(ut||rl(e,t,a,!1),m=(a&e.childLanes)!==0,ut||m){if(m=Ke,m!==null&&(l=xd(m,a),l!==0&&l!==A.retryLane))throw A.retryLane=l,Na(e,l),Mt(m,e,l),Uo;Sc(_)||Oi(),t=Go(e,t,a)}else Sc(_)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Ie=on(_.nextSibling),vt=t,Ue=!0,In=null,sn=!1,e!==null&&mu(t,e),t=Vo(t,l.children),t.flags|=4096);return t}return i?(ia(),_=l.fallback,i=t.mode,A=e.child,V=A.sibling,l=zn(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,V!==null?_=zn(V,_):(_=Ca(_,i,a,null),_.flags|=2),_.return=t,l.return=t,l.sibling=_,t.child=l,cs(null,l),l=t.child,_=e.child.memoizedState,_===null?_=Ho(a):(i=_.cachePool,i!==null?(A=ct._currentValue,i=i.parent!==A?{parent:A,pool:A}:i):i=bu(),_={baseLanes:_.baseLanes|a,cachePool:i}),l.memoizedState=_,l.childLanes=Fo(e,m,a),t.memoizedState=qo,cs(e.child,l)):(sa(t),a=e.child,e=a.sibling,a=zn(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Vo(e,t){return t=Ci({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ci(e,t){return e=Gt(22,e,null,t),e.lanes=0,e}function Go(e,t,a){return Da(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Df(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),ao(e.return,t,a)}function Qo(e,t,a,l,i,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:i,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=i,m.treeForkCount=d)}function Bf(e,t,a){var l=t.pendingProps,i=l.revealOrder,d=l.tail;l=l.children;var m=it.current,_=(m&2)!==0;if(_?(m=m&1|2,t.flags|=128):m&=1,Y(it,m),St(e,t,l,a),l=Ue?Zl:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Df(e,a,t);else if(e.tag===19)Df(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&hi(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),Qo(t,!1,i,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hi(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}Qo(t,!0,a,null,d,l);break;case"together":Qo(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Un(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(rl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=zn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=zn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ii(e)))}function Jg(e,t,a){switch(t.tag){case 3:Je(t,t.stateNode.containerInfo),ta(t,ct,e.memoizedState.cache),Ta();break;case 27:case 5:Et(t);break;case 4:Je(t,t.stateNode.containerInfo);break;case 10:ta(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,go(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(sa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?kf(e,t,a):(sa(t),e=Un(e,t,a),e!==null?e.sibling:null);sa(t);break;case 19:var i=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(rl(e,t,a,!1),l=(a&t.childLanes)!==0),i){if(l)return Bf(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Y(it,it.current),l)break;return null;case 22:return t.lanes=0,Cf(e,t,a,t.pendingProps);case 24:ta(t,ct,e.memoizedState.cache)}return Un(e,t,a)}function Of(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ut=!0;else{if(!Yo(e,a)&&(t.flags&128)===0)return ut=!1,Jg(e,t,a);ut=(e.flags&131072)!==0}else ut=!1,Ue&&(t.flags&1048576)!==0&&fu(t,Zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=za(t.elementType),t.type=e,typeof e=="function")$r(e)?(l=Oa(e,l),t.tag=1,t=Af(null,t,e,l,a)):(t.tag=0,t=Lo(null,t,e,l,a));else{if(e!=null){var i=e.$$typeof;if(i===z){t.tag=11,t=_f(null,t,e,l,a);break e}else if(i===B){t.tag=14,t=wf(null,t,e,l,a);break e}}throw t=Ae(e)||e,Error(c(306,t,""))}}return t;case 0:return Lo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,i=Oa(l,t.pendingProps),Af(e,t,l,i,a);case 3:e:{if(Je(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var d=t.memoizedState;i=d.element,uo(e,t),ls(t,l,null,a);var m=t.memoizedState;if(l=m.cache,ta(t,ct,l),l!==d.cache&&lo(t,[ct],a,!0),as(),l=m.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=zf(e,t,l,a);break e}else if(l!==i){i=nn(Error(c(424)),t),Kl(i),t=zf(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=on(e.firstChild),vt=t,Ue=!0,In=null,sn=!0,a=Nu(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ta(),l===i){t=Un(e,t,a);break e}St(e,t,l,a)}t=t.child}return t;case 26:return Ni(e,t),e===null?(a=Pm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ue||(a=t.type,e=t.pendingProps,l=Vi(ye.current).createElement(a),l[bt]=t,l[At]=e,_t(l,a,e),pt(l),t.stateNode=l):t.memoizedState=Pm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Et(t),e===null&&Ue&&(l=t.stateNode=Gm(t.type,t.pendingProps,ye.current),vt=t,sn=!0,i=Ie,ha(t.type)?(wc=i,Ie=on(l.firstChild)):Ie=i),St(e,t,t.pendingProps.children,a),Ni(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ue&&((i=l=Ie)&&(l=Rx(l,t.type,t.pendingProps,sn),l!==null?(t.stateNode=l,vt=t,Ie=on(l.firstChild),sn=!1,i=!0):i=!1),i||ea(t)),Et(t),i=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,l=d.children,bc(i,d)?l=null:m!==null&&bc(i,m)&&(t.flags|=32),t.memoizedState!==null&&(i=yo(e,t,Gg,null,null,a),ws._currentValue=i),Ni(e,t),St(e,t,l,a),t.child;case 6:return e===null&&Ue&&((e=a=Ie)&&(a=Ex(a,t.pendingProps,sn),a!==null?(t.stateNode=a,vt=t,Ie=null,e=!0):e=!1),e||ea(t)),null;case 13:return kf(e,t,a);case 4:return Je(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Da(t,null,l,a):St(e,t,l,a),t.child;case 11:return _f(e,t,t.type,t.pendingProps,a);case 7:return St(e,t,t.pendingProps,a),t.child;case 8:return St(e,t,t.pendingProps.children,a),t.child;case 12:return St(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,ta(t,t.type,l.value),St(e,t,l.children,a),t.child;case 9:return i=t.type._context,l=t.pendingProps.children,Ea(t),i=jt(i),l=l(i),t.flags|=1,St(e,t,l,a),t.child;case 14:return wf(e,t,t.type,t.pendingProps,a);case 15:return Nf(e,t,t.type,t.pendingProps,a);case 19:return Bf(e,t,a);case 31:return Kg(e,t,a);case 22:return Cf(e,t,a,t.pendingProps);case 24:return Ea(t),l=jt(ct),e===null?(i=ro(),i===null&&(i=Ke,d=so(),i.pooledCache=d,d.refCount++,d!==null&&(i.pooledCacheLanes|=a),i=d),t.memoizedState={parent:l,cache:i},co(t),ta(t,ct,i)):((e.lanes&a)!==0&&(uo(e,t),ls(t,null,null,a),as()),i=e.memoizedState,d=t.memoizedState,i.parent!==l?(i={parent:l,cache:l},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ta(t,ct,l)):(l=d.cache,ta(t,ct,l),l!==i.cache&&lo(t,[ct],a,!0))),St(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Ln(e){e.flags|=4}function Po(e,t,a,l,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(om())e.flags|=8192;else throw ka=di,oo}else e.flags&=-16777217}function Mf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Km(t))if(om())e.flags|=8192;else throw ka=di,oo}function Ti(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?hd():536870912,e.lanes|=t,bl|=t)}function ds(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags&65011712,l|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,l|=i.subtreeFlags,l|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Ig(e,t,a){var l=t.pendingProps;switch(Ir(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return et(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Bn(ct),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(il(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,to())),et(t),null;case 26:var i=t.type,d=t.memoizedState;return e===null?(Ln(t),d!==null?(et(t),Mf(t,d)):(et(t),Po(t,i,null,l,a))):d?d!==e.memoizedState?(Ln(t),et(t),Mf(t,d)):(et(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ln(t),et(t),Po(t,i,e,l,a)),null;case 27:if(jn(t),a=ye.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return et(t),null}e=te.current,il(t)?hu(t):(e=Gm(i,l,a),t.stateNode=e,Ln(t))}return et(t),null;case 5:if(jn(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return et(t),null}if(d=te.current,il(t))hu(t);else{var m=Vi(ye.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?m.createElement("select",{is:l.is}):m.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?m.createElement(i,{is:l.is}):m.createElement(i)}}d[bt]=t,d[At]=l;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(_t(d,i,l),i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ln(t)}}return et(t),Po(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Ln(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=ye.current,il(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,i=vt,i!==null)switch(i.tag){case 27:case 5:l=i.memoizedProps}e[bt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||km(e.nodeValue,a)),e||ea(t,!0)}else e=Vi(e).createTextNode(l),e[bt]=t,t.stateNode=e}return et(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=il(t),a!==null){if(e===null){if(!l)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[bt]=t}else Ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),e=!1}else a=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Yt(t),t):(Yt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return et(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=il(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(c(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(c(317));i[bt]=t}else Ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else i=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Yt(t),t):(Yt(t),null)}return Yt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,i=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(i=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==i&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Ti(t,t.updateQueue),et(t),null);case 4:return Ye(),e===null&&hc(t.stateNode.containerInfo),et(t),null;case 10:return Bn(t.type),et(t),null;case 19:if(U(it),l=t.memoizedState,l===null)return et(t),null;if(i=(t.flags&128)!==0,d=l.rendering,d===null)if(i)ds(l,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=hi(e),d!==null){for(t.flags|=128,ds(l,!1),e=d.updateQueue,t.updateQueue=e,Ti(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)cu(a,e),a=a.sibling;return Y(it,it.current&1|2),Ue&&kn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&at()>ki&&(t.flags|=128,i=!0,ds(l,!1),t.lanes=4194304)}else{if(!i)if(e=hi(d),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ti(t,e),ds(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return et(t),null}else 2*at()-l.renderingStartTime>ki&&a!==536870912&&(t.flags|=128,i=!0,ds(l,!1),t.lanes=4194304);l.isBackwards?(d.sibling=t.child,t.child=d):(e=l.last,e!==null?e.sibling=d:t.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=at(),e.sibling=null,a=it.current,Y(it,i?a&1|2:a&1),Ue&&kn(t,l.treeForkCount),e):(et(t),null);case 22:case 23:return Yt(t),po(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),a=t.updateQueue,a!==null&&Ti(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&U(Aa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Bn(ct),et(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function ex(e,t){switch(Ir(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(ct),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return jn(t),null;case 31:if(t.memoizedState!==null){if(Yt(t),t.alternate===null)throw Error(c(340));Ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Yt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(it),null;case 4:return Ye(),null;case 10:return Bn(t.type),null;case 22:case 23:return Yt(t),po(),e!==null&&U(Aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Bn(ct),null;case 25:return null;default:return null}}function Uf(e,t){switch(Ir(t),t.tag){case 3:Bn(ct),Ye();break;case 26:case 27:case 5:jn(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&Yt(t);break;case 13:Yt(t);break;case 19:U(it);break;case 10:Bn(t.type);break;case 22:case 23:Yt(t),po(),e!==null&&U(Aa);break;case 24:Bn(ct)}}function us(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var i=l.next;a=i;do{if((a.tag&e)===e){l=void 0;var d=a.create,m=a.inst;l=d(),m.destroy=l}a=a.next}while(a!==i)}}catch(_){Xe(t,t.return,_)}}function ra(e,t,a){try{var l=t.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var d=i.next;l=d;do{if((l.tag&e)===e){var m=l.inst,_=m.destroy;if(_!==void 0){m.destroy=void 0,i=t;var A=a,V=_;try{V()}catch($){Xe(i,A,$)}}}l=l.next}while(l!==d)}}catch($){Xe(t,t.return,$)}}function Lf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Tu(t,a)}catch(l){Xe(e,e.return,l)}}}function qf(e,t,a){a.props=Oa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(e,t,l)}}function fs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(i){Xe(e,t,i)}}function Nn(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(i){Xe(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){Xe(e,t,i)}else a.current=null}function Hf(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(i){Xe(e,e.return,i)}}function Xo(e,t,a){try{var l=e.stateNode;Sx(l,e.type,a,t),l[At]=t}catch(i){Xe(e,e.return,i)}}function Ff(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ha(e.type)||e.tag===4}function Wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ff(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ha(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=En));else if(l!==4&&(l===27&&ha(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for($o(e,t,a),e=e.sibling;e!==null;)$o(e,t,a),e=e.sibling}function Ri(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&ha(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ri(e,t,a),e=e.sibling;e!==null;)Ri(e,t,a),e=e.sibling}function Vf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_t(t,l,a),t[bt]=e,t[At]=a}catch(d){Xe(e,e.return,d)}}var qn=!1,ft=!1,Zo=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,gt=null;function tx(e,t){if(e=e.containerInfo,xc=$i,e=eu(e),Vr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var i=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var m=0,_=-1,A=-1,V=0,$=0,I=e,G=null;t:for(;;){for(var X;I!==a||i!==0&&I.nodeType!==3||(_=m+i),I!==d||l!==0&&I.nodeType!==3||(A=m+l),I.nodeType===3&&(m+=I.nodeValue.length),(X=I.firstChild)!==null;)G=I,I=X;for(;;){if(I===e)break t;if(G===a&&++V===i&&(_=m),G===d&&++$===l&&(A=m),(X=I.nextSibling)!==null)break;I=G,G=I.parentNode}I=X}a=_===-1||A===-1?null:{start:_,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(yc={focusedElem:e,selectionRange:a},$i=!1,gt=t;gt!==null;)if(t=gt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,gt=e;else for(;gt!==null;){switch(t=gt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,i=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Oa(a.type,i);e=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(be){Xe(a,a.return,be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)jc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,gt=e;break}gt=t.return}}function Qf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(e,a),l&4&&us(5,a);break;case 1:if(Fn(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Xe(a,a.return,m)}else{var i=Oa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Xe(a,a.return,m)}}l&64&&Lf(a),l&512&&fs(a,a.return);break;case 3:if(Fn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Tu(e,t)}catch(m){Xe(a,a.return,m)}}break;case 27:t===null&&l&4&&Vf(a);case 26:case 5:Fn(e,a),t===null&&l&4&&Hf(a),l&512&&fs(a,a.return);break;case 12:Fn(e,a);break;case 31:Fn(e,a),l&4&&Xf(e,a);break;case 13:Fn(e,a),l&4&&Wf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=dx.bind(null,a),Ax(e,a))));break;case 22:if(l=a.memoizedState!==null||qn,!l){t=t!==null&&t.memoizedState!==null||ft,i=qn;var d=ft;qn=l,(ft=t)&&!d?Vn(e,a,(a.subtreeFlags&8772)!==0):Fn(e,a),qn=i,ft=d}break;case 30:break;default:Fn(e,a)}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Nr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,kt=!1;function Hn(e,t,a){for(a=a.child;a!==null;)Pf(e,t,a),a=a.sibling}function Pf(e,t,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Ml,a)}catch{}switch(a.tag){case 26:ft||Nn(a,t),Hn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||Nn(a,t);var l=tt,i=kt;ha(a.type)&&(tt=a.stateNode,kt=!1),Hn(e,t,a),js(a.stateNode),tt=l,kt=i;break;case 5:ft||Nn(a,t);case 6:if(l=tt,i=kt,tt=null,Hn(e,t,a),tt=l,kt=i,tt!==null)if(kt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){Xe(a,t,d)}else try{tt.removeChild(a.stateNode)}catch(d){Xe(a,t,d)}break;case 18:tt!==null&&(kt?(e=tt,Lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Tl(e)):Lm(tt,a.stateNode));break;case 4:l=tt,i=kt,tt=a.stateNode.containerInfo,kt=!0,Hn(e,t,a),tt=l,kt=i;break;case 0:case 11:case 14:case 15:ra(2,a,t),ft||ra(4,a,t),Hn(e,t,a);break;case 1:ft||(Nn(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qf(a,t,l)),Hn(e,t,a);break;case 21:Hn(e,t,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Hn(e,t,a),ft=l;break;default:Hn(e,t,a)}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Tl(e)}catch(a){Xe(t,t.return,a)}}}function Wf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Tl(e)}catch(a){Xe(t,t.return,a)}}function nx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gf),t;default:throw Error(c(435,e.tag))}}function Ei(e,t){var a=nx(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var i=ux.bind(null,e,l);l.then(i,i)}})}function Dt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var i=a[l],d=e,m=t,_=m;e:for(;_!==null;){switch(_.tag){case 27:if(ha(_.type)){tt=_.stateNode,kt=!1;break e}break;case 5:tt=_.stateNode,kt=!1;break e;case 3:case 4:tt=_.stateNode.containerInfo,kt=!0;break e}_=_.return}if(tt===null)throw Error(c(160));Pf(d,m,i),tt=null,kt=!1,d=i.alternate,d!==null&&(d.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$f(t,e),t=t.sibling}var hn=null;function $f(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),Bt(e),l&4&&(ra(3,e,e.return),us(3,e),ra(5,e,e.return));break;case 1:Dt(t,e),Bt(e),l&512&&(ft||a===null||Nn(a,a.return)),l&64&&qn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var i=hn;if(Dt(t,e),Bt(e),l&512&&(ft||a===null||Nn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(l){case"title":d=i.getElementsByTagName("title")[0],(!d||d[ql]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=i.createElement(l),i.head.insertBefore(d,i.querySelector("head > title"))),_t(d,l,a),d[bt]=e,pt(d),l=d;break e;case"link":var m=$m("link","href",i).get(l+(a.href||""));if(m){for(var _=0;_<m.length;_++)if(d=m[_],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(_,1);break t}}d=i.createElement(l),_t(d,l,a),i.head.appendChild(d);break;case"meta":if(m=$m("meta","content",i).get(l+(a.content||""))){for(_=0;_<m.length;_++)if(d=m[_],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(_,1);break t}}d=i.createElement(l),_t(d,l,a),i.head.appendChild(d);break;default:throw Error(c(468,l))}d[bt]=e,pt(d),l=d}e.stateNode=l}else Zm(i,e.type,e.stateNode);else e.stateNode=Wm(i,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Zm(i,e.type,e.stateNode):Wm(i,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Dt(t,e),Bt(e),l&512&&(ft||a===null||Nn(a,a.return)),a!==null&&l&4&&Xo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Dt(t,e),Bt(e),l&512&&(ft||a===null||Nn(a,a.return)),e.flags&32){i=e.stateNode;try{Za(i,"")}catch(ue){Xe(e,e.return,ue)}}l&4&&e.stateNode!=null&&(i=e.memoizedProps,Xo(e,i,a!==null?a.memoizedProps:i)),l&1024&&(Zo=!0);break;case 6:if(Dt(t,e),Bt(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ue){Xe(e,e.return,ue)}}break;case 3:if(Yi=null,i=hn,hn=Gi(t.containerInfo),Dt(t,e),hn=i,Bt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(t.containerInfo)}catch(ue){Xe(e,e.return,ue)}Zo&&(Zo=!1,Zf(e));break;case 4:l=hn,hn=Gi(e.stateNode.containerInfo),Dt(t,e),Bt(e),hn=l;break;case 12:Dt(t,e),Bt(e);break;case 31:Dt(t,e),Bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ei(e,l)));break;case 13:Dt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zi=at()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ei(e,l)));break;case 22:i=e.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,V=qn,$=ft;if(qn=V||i,ft=$||A,Dt(t,e),ft=$,qn=V,Bt(e),l&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||A||qn||ft||Ma(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){A=a=t;try{if(d=A.stateNode,i)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=A.stateNode;var I=A.memoizedProps.style,G=I!=null&&I.hasOwnProperty("display")?I.display:null;_.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ue){Xe(A,A.return,ue)}}}else if(t.tag===6){if(a===null){A=t;try{A.stateNode.nodeValue=i?"":A.memoizedProps}catch(ue){Xe(A,A.return,ue)}}}else if(t.tag===18){if(a===null){A=t;try{var X=A.stateNode;i?qm(X,!0):qm(A.stateNode,!1)}catch(ue){Xe(A,A.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ei(e,a))));break;case 19:Dt(t,e),Bt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ei(e,l)));break;case 30:break;case 21:break;default:Dt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Ff(l)){a=l;break}l=l.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var i=a.stateNode,d=Wo(e);Ri(e,d,i);break;case 5:var m=a.stateNode;a.flags&32&&(Za(m,""),a.flags&=-33);var _=Wo(e);Ri(e,_,m);break;case 3:case 4:var A=a.stateNode.containerInfo,V=Wo(e);$o(e,V,A);break;default:throw Error(c(161))}}catch($){Xe(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Zf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Zf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Qf(e,t.alternate,t),t=t.sibling}function Ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ra(4,t,t.return),Ma(t);break;case 1:Nn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&qf(t,t.return,a),Ma(t);break;case 27:js(t.stateNode);case 26:case 5:Nn(t,t.return),Ma(t);break;case 22:t.memoizedState===null&&Ma(t);break;case 30:Ma(t);break;default:Ma(t)}e=e.sibling}}function Vn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,i=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:Vn(i,d,a),us(4,d);break;case 1:if(Vn(i,d,a),l=d,i=l.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(V){Xe(l,l.return,V)}if(l=d,i=l.updateQueue,i!==null){var _=l.stateNode;try{var A=i.shared.hiddenCallbacks;if(A!==null)for(i.shared.hiddenCallbacks=null,i=0;i<A.length;i++)Cu(A[i],_)}catch(V){Xe(l,l.return,V)}}a&&m&64&&Lf(d),fs(d,d.return);break;case 27:Vf(d);case 26:case 5:Vn(i,d,a),a&&l===null&&m&4&&Hf(d),fs(d,d.return);break;case 12:Vn(i,d,a);break;case 31:Vn(i,d,a),a&&m&4&&Xf(i,d);break;case 13:Vn(i,d,a),a&&m&4&&Wf(i,d);break;case 22:d.memoizedState===null&&Vn(i,d,a),fs(d,d.return);break;case 30:break;default:Vn(i,d,a)}t=t.sibling}}function Ko(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Jl(a))}function Jo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jl(e))}function pn(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kf(e,t,a,l),t=t.sibling}function Kf(e,t,a,l){var i=t.flags;switch(t.tag){case 0:case 11:case 15:pn(e,t,a,l),i&2048&&us(9,t);break;case 1:pn(e,t,a,l);break;case 3:pn(e,t,a,l),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Jl(e)));break;case 12:if(i&2048){pn(e,t,a,l),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,_=d.onPostCommit;typeof _=="function"&&_(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Xe(t,t.return,A)}}else pn(e,t,a,l);break;case 31:pn(e,t,a,l);break;case 13:pn(e,t,a,l);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?pn(e,t,a,l):ms(e,t):d._visibility&2?pn(e,t,a,l):(d._visibility|=2,gl(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ko(m,t);break;case 24:pn(e,t,a,l),i&2048&&Jo(t.alternate,t);break;default:pn(e,t,a,l)}}function gl(e,t,a,l,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,_=a,A=l,V=m.flags;switch(m.tag){case 0:case 11:case 15:gl(d,m,_,A,i),us(8,m);break;case 23:break;case 22:var $=m.stateNode;m.memoizedState!==null?$._visibility&2?gl(d,m,_,A,i):ms(d,m):($._visibility|=2,gl(d,m,_,A,i)),i&&V&2048&&Ko(m.alternate,m);break;case 24:gl(d,m,_,A,i),i&&V&2048&&Jo(m.alternate,m);break;default:gl(d,m,_,A,i)}t=t.sibling}}function ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,i=l.flags;switch(l.tag){case 22:ms(a,l),i&2048&&Ko(l.alternate,l);break;case 24:ms(a,l),i&2048&&Jo(l.alternate,l);break;default:ms(a,l)}t=t.sibling}}var hs=8192;function xl(e,t,a){if(e.subtreeFlags&hs)for(e=e.child;e!==null;)Jf(e,t,a),e=e.sibling}function Jf(e,t,a){switch(e.tag){case 26:xl(e,t,a),e.flags&hs&&e.memoizedState!==null&&Vx(a,hn,e.memoizedState,e.memoizedProps);break;case 5:xl(e,t,a);break;case 3:case 4:var l=hn;hn=Gi(e.stateNode.containerInfo),xl(e,t,a),hn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=hs,hs=16777216,xl(e,t,a),hs=l):xl(e,t,a));break;default:xl(e,t,a)}}function If(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ps(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];gt=l,tm(l,e)}If(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)em(e),e=e.sibling}function em(e){switch(e.tag){case 0:case 11:case 15:ps(e),e.flags&2048&&ra(9,e,e.return);break;case 3:ps(e);break;case 12:ps(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ai(e)):ps(e);break;default:ps(e)}}function Ai(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];gt=l,tm(l,e)}If(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ra(8,t,t.return),Ai(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ai(t));break;default:Ai(t)}e=e.sibling}}function tm(e,t){for(;gt!==null;){var a=gt;switch(a.tag){case 0:case 11:case 15:ra(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,gt=l;else e:for(a=e;gt!==null;){l=gt;var i=l.sibling,d=l.return;if(Yf(l),l===a){gt=null;break e}if(i!==null){i.return=d,gt=i;break e}gt=d}}}var ax={getCacheForType:function(e){var t=jt(ct),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return jt(ct).controller.signal}},lx=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Ke=null,ke=null,Be=0,Pe=0,Pt=null,oa=!1,yl=!1,Io=!1,Gn=0,st=0,ca=0,Ua=0,ec=0,Xt=0,bl=0,gs=null,Ot=null,tc=!1,zi=0,nm=0,ki=1/0,Di=null,da=null,ht=0,ua=null,vl=null,Qn=0,nc=0,ac=null,am=null,xs=0,lc=null;function Wt(){return(Ve&2)!==0&&Be!==0?Be&-Be:Q.T!==null?dc():yd()}function lm(){if(Xt===0)if((Be&536870912)===0||Ue){var e=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),Xt=e}else Xt=536870912;return e=Qt.current,e!==null&&(e.flags|=32),Xt}function Mt(e,t,a){(e===Ke&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)&&(jl(e,0),fa(e,Be,Xt,!1)),Ll(e,a),((Ve&2)===0||e!==Ke)&&(e===Ke&&((Ve&2)===0&&(Ua|=a),st===4&&fa(e,Be,Xt,!1)),Cn(e))}function sm(e,t,a){if((Ve&6)!==0)throw Error(c(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ul(e,t),i=l?rx(e,t):ic(e,t,!0),d=l;do{if(i===0){yl&&!l&&fa(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!sx(a)){i=ic(e,t,!1),d=!1;continue}if(i===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var _=e;i=gs;var A=_.current.memoizedState.isDehydrated;if(A&&(jl(_,m).flags|=256),m=ic(_,m,!1),m!==2){if(Io&&!A){_.errorRecoveryDisabledLanes|=d,Ua|=d,i=4;break e}d=Ot,Ot=i,d!==null&&(Ot===null?Ot=d:Ot.push.apply(Ot,d))}i=m}if(d=!1,i!==2)continue}}if(i===1){jl(e,0),fa(e,t,0,!0);break}e:{switch(l=e,d=i,d){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:fa(l,t,Xt,!oa);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(i=zi+300-at(),10<i)){if(fa(l,t,Xt,!oa),Gs(l,0,!0)!==0)break e;Qn=t,l.timeoutHandle=Mm(im.bind(null,l,a,Ot,Di,tc,t,Xt,Ua,bl,oa,d,"Throttled",-0,0),i);break e}im(l,a,Ot,Di,tc,t,Xt,Ua,bl,oa,d,null,-0,0)}}break}while(!0);Cn(e)}function im(e,t,a,l,i,d,m,_,A,V,$,I,G,X){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},Jf(t,d,I);var ue=(d&62914560)===d?zi-at():(d&4194048)===d?nm-at():0;if(ue=Gx(I,ue),ue!==null){Qn=d,e.cancelPendingCommit=ue(hm.bind(null,e,t,d,a,l,i,m,_,A,$,I,null,G,X)),fa(e,d,m,!V);return}}hm(e,t,d,a,l,i,m,_,A)}function sx(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var i=a[l],d=i.getSnapshot;i=i.value;try{if(!Vt(d(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fa(e,t,a,l){t&=~ec,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var i=t;0<i;){var d=31-Ft(i),m=1<<d;l[d]=-1,i&=~m}a!==0&&pd(e,a,t)}function Bi(){return(Ve&6)===0?(ys(0),!1):!0}function sc(){if(ke!==null){if(Pe===0)var e=ke.return;else e=ke,Dn=Ra=null,jo(e),ul=null,es=0,e=ke;for(;e!==null;)Uf(e.alternate,e),e=e.return;ke=null}}function jl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Nx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qn=0,sc(),Ke=e,ke=a=zn(e.current,null),Be=t,Pe=0,Pt=null,oa=!1,yl=Ul(e,t),Io=!1,bl=Xt=ec=Ua=ca=st=0,Ot=gs=null,tc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var i=31-Ft(l),d=1<<i;t|=e[i],l&=~d}return Gn=t,ti(),a}function rm(e,t){Ce=null,Q.H=os,t===dl||t===ci?(t=Su(),Pe=3):t===oo?(t=Su(),Pe=4):Pe=t===Uo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,ke===null&&(st=1,_i(e,nn(t,e.current)))}function om(){var e=Qt.current;return e===null?!0:(Be&4194048)===Be?rn===null:(Be&62914560)===Be||(Be&536870912)!==0?e===rn:!1}function cm(){var e=Q.H;return Q.H=os,e===null?os:e}function dm(){var e=Q.A;return Q.A=ax,e}function Oi(){st=4,oa||(Be&4194048)!==Be&&Qt.current!==null||(yl=!0),(ca&134217727)===0&&(Ua&134217727)===0||Ke===null||fa(Ke,Be,Xt,!1)}function ic(e,t,a){var l=Ve;Ve|=2;var i=cm(),d=dm();(Ke!==e||Be!==t)&&(Di=null,jl(e,t)),t=!1;var m=st;e:do try{if(Pe!==0&&ke!==null){var _=ke,A=Pt;switch(Pe){case 8:sc(),m=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(t=!0);var V=Pe;if(Pe=0,Pt=null,Sl(e,_,A,V),a&&yl){m=0;break e}break;default:V=Pe,Pe=0,Pt=null,Sl(e,_,A,V)}}ix(),m=st;break}catch($){rm(e,$)}while(!0);return t&&e.shellSuspendCounter++,Dn=Ra=null,Ve=l,Q.H=i,Q.A=d,ke===null&&(Ke=null,Be=0,ti()),m}function ix(){for(;ke!==null;)um(ke)}function rx(e,t){var a=Ve;Ve|=2;var l=cm(),i=dm();Ke!==e||Be!==t?(Di=null,ki=at()+500,jl(e,t)):yl=Ul(e,t);e:do try{if(Pe!==0&&ke!==null){t=ke;var d=Pt;t:switch(Pe){case 1:Pe=0,Pt=null,Sl(e,t,d,1);break;case 2:case 9:if(vu(d)){Pe=0,Pt=null,fm(t);break}t=function(){Pe!==2&&Pe!==9||Ke!==e||(Pe=7),Cn(e)},d.then(t,t);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:vu(d)?(Pe=0,Pt=null,fm(t)):(Pe=0,Pt=null,Sl(e,t,d,7));break;case 5:var m=null;switch(ke.tag){case 26:m=ke.memoizedState;case 5:case 27:var _=ke;if(m?Km(m):_.stateNode.complete){Pe=0,Pt=null;var A=_.sibling;if(A!==null)ke=A;else{var V=_.return;V!==null?(ke=V,Mi(V)):ke=null}break t}}Pe=0,Pt=null,Sl(e,t,d,5);break;case 6:Pe=0,Pt=null,Sl(e,t,d,6);break;case 8:sc(),st=6;break e;default:throw Error(c(462))}}ox();break}catch($){rm(e,$)}while(!0);return Dn=Ra=null,Q.H=l,Q.A=i,Ve=a,ke!==null?0:(Ke=null,Be=0,ti(),st)}function ox(){for(;ke!==null&&!he();)um(ke)}function um(e){var t=Of(e.alternate,e,Gn);e.memoizedProps=e.pendingProps,t===null?Mi(e):ke=t}function fm(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ef(a,t,t.pendingProps,t.type,void 0,Be);break;case 11:t=Ef(a,t,t.pendingProps,t.type.render,t.ref,Be);break;case 5:jo(t);default:Uf(a,t),t=ke=cu(t,Gn),t=Of(a,t,Gn)}e.memoizedProps=e.pendingProps,t===null?Mi(e):ke=t}function Sl(e,t,a,l){Dn=Ra=null,jo(t),ul=null,es=0;var i=t.return;try{if(Zg(e,i,t,a,Be)){st=1,_i(e,nn(a,e.current)),ke=null;return}}catch(d){if(i!==null)throw ke=i,d;st=1,_i(e,nn(a,e.current)),ke=null;return}t.flags&32768?(Ue||l===1?e=!0:yl||(Be&536870912)!==0?e=!1:(oa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Qt.current,l!==null&&l.tag===13&&(l.flags|=16384))),mm(t,e)):Mi(t)}function Mi(e){var t=e;do{if((t.flags&32768)!==0){mm(t,oa);return}e=t.return;var a=Ig(t.alternate,t,Gn);if(a!==null){ke=a;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);st===0&&(st=5)}function mm(e,t){do{var a=ex(e.alternate,e);if(a!==null){a.flags&=32767,ke=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=a}while(e!==null);st=6,ke=null}function hm(e,t,a,l,i,d,m,_,A){e.cancelPendingCommit=null;do Ui();while(ht!==0);if((Ve&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(d=t.lanes|t.childLanes,d|=Xr,Fp(e,a,d,m,_,A),e===Ke&&(ke=Ke=null,Be=0),vl=t,ua=e,Qn=a,nc=d,ac=i,am=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,fx(de,function(){return bm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,i=ae.p,ae.p=2,m=Ve,Ve|=4;try{tx(e,t,a)}finally{Ve=m,ae.p=i,Q.T=l}}ht=1,pm(),gm(),xm()}}function pm(){if(ht===1){ht=0;var e=ua,t=vl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var i=Ve;Ve|=4;try{$f(t,e);var d=yc,m=eu(e.containerInfo),_=d.focusedElem,A=d.selectionRange;if(m!==_&&_&&_.ownerDocument&&Id(_.ownerDocument.documentElement,_)){if(A!==null&&Vr(_)){var V=A.start,$=A.end;if($===void 0&&($=V),"selectionStart"in _)_.selectionStart=V,_.selectionEnd=Math.min($,_.value.length);else{var I=_.ownerDocument||document,G=I&&I.defaultView||window;if(G.getSelection){var X=G.getSelection(),ue=_.textContent.length,be=Math.min(A.start,ue),Ze=A.end===void 0?be:Math.min(A.end,ue);!X.extend&&be>Ze&&(m=Ze,Ze=be,be=m);var L=Jd(_,be),k=Jd(_,Ze);if(L&&k&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var F=I.createRange();F.setStart(L.node,L.offset),X.removeAllRanges(),be>Ze?(X.addRange(F),X.extend(k.node,k.offset)):(F.setEnd(k.node,k.offset),X.addRange(F))}}}}for(I=[],X=_;X=X.parentNode;)X.nodeType===1&&I.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<I.length;_++){var J=I[_];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}$i=!!xc,yc=xc=null}finally{Ve=i,ae.p=l,Q.T=a}}e.current=t,ht=2}}function gm(){if(ht===2){ht=0;var e=ua,t=vl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var i=Ve;Ve|=4;try{Qf(e,t.alternate,t)}finally{Ve=i,ae.p=l,Q.T=a}}ht=3}}function xm(){if(ht===4||ht===3){ht=0,Qe();var e=ua,t=vl,a=Qn,l=am;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ht=5:(ht=0,vl=ua=null,ym(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(da=null),_r(a),t=t.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Ml,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=Q.T,i=ae.p,ae.p=2,Q.T=null;try{for(var d=e.onRecoverableError,m=0;m<l.length;m++){var _=l[m];d(_.value,{componentStack:_.stack})}}finally{Q.T=t,ae.p=i}}(Qn&3)!==0&&Ui(),Cn(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===lc?xs++:(xs=0,lc=e):xs=0,ys(0)}}function ym(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Jl(t)))}function Ui(){return pm(),gm(),xm(),bm()}function bm(){if(ht!==5)return!1;var e=ua,t=nc;nc=0;var a=_r(Qn),l=Q.T,i=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=ac,ac=null;var d=ua,m=Qn;if(ht=0,vl=ua=null,Qn=0,(Ve&6)!==0)throw Error(c(331));var _=Ve;if(Ve|=4,em(d.current),Kf(d,d.current,m,a),Ve=_,ys(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Ml,d)}catch{}return!0}finally{ae.p=i,Q.T=l,ym(e,t)}}function vm(e,t,a){t=nn(a,t),t=Mo(e.stateNode,t,2),e=la(e,t,2),e!==null&&(Ll(e,2),Cn(e))}function Xe(e,t,a){if(e.tag===3)vm(e,e,a);else for(;t!==null;){if(t.tag===3){vm(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){e=nn(a,e),a=jf(2),l=la(t,a,2),l!==null&&(Sf(a,l,t,e),Ll(l,2),Cn(l));break}}t=t.return}}function rc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new lx;var i=new Set;l.set(t,i)}else i=l.get(t),i===void 0&&(i=new Set,l.set(t,i));i.has(a)||(Io=!0,i.add(a),e=cx.bind(null,e,t,a),t.then(e,e))}function cx(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ke===e&&(Be&a)===a&&(st===4||st===3&&(Be&62914560)===Be&&300>at()-zi?(Ve&2)===0&&jl(e,0):ec|=a,bl===Be&&(bl=0)),Cn(e)}function jm(e,t){t===0&&(t=hd()),e=Na(e,t),e!==null&&(Ll(e,t),Cn(e))}function dx(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),jm(e,a)}function ux(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),jm(e,a)}function fx(e,t){return wt(e,t)}var Li=null,_l=null,oc=!1,qi=!1,cc=!1,ma=0;function Cn(e){e!==_l&&e.next===null&&(_l===null?Li=_l=e:_l=_l.next=e),qi=!0,oc||(oc=!0,hx())}function ys(e,t){if(!cc&&qi){cc=!0;do for(var a=!1,l=Li;l!==null;){if(e!==0){var i=l.pendingLanes;if(i===0)var d=0;else{var m=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-Ft(42|e)+1)-1,d&=i&~(m&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Nm(l,d))}else d=Be,d=Gs(l,l===Ke?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ul(l,d)||(a=!0,Nm(l,d));l=l.next}while(a);cc=!1}}function mx(){Sm()}function Sm(){qi=oc=!1;var e=0;ma!==0&&wx()&&(e=ma);for(var t=at(),a=null,l=Li;l!==null;){var i=l.next,d=_m(l,t);d===0?(l.next=null,a===null?Li=i:a.next=i,i===null&&(_l=a)):(a=l,(e!==0||(d&3)!==0)&&(qi=!0)),l=i}ht!==0&&ht!==5||ys(e),ma!==0&&(ma=0)}function _m(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,i=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-Ft(d),_=1<<m,A=i[m];A===-1?((_&a)===0||(_&l)!==0)&&(i[m]=Hp(_,t)):A<=t&&(e.expiredLanes|=_),d&=~_}if(t=Ke,a=Be,a=Gs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Pe===2||Pe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ne(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ul(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ne(l),_r(a)){case 2:case 8:a=le;break;case 32:a=de;break;case 268435456:a=qe;break;default:a=de}return l=wm.bind(null,e),a=wt(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ne(l),e.callbackPriority=2,e.callbackNode=null,2}function wm(e,t){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ui()&&e.callbackNode!==a)return null;var l=Be;return l=Gs(e,e===Ke?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(sm(e,l,t),_m(e,at()),e.callbackNode!=null&&e.callbackNode===a?wm.bind(null,e):null)}function Nm(e,t){if(Ui())return null;sm(e,t,!0)}function hx(){Cx(function(){(Ve&6)!==0?wt(Ga,mx):Sm()})}function dc(){if(ma===0){var e=ol;e===0&&(e=Hs,Hs<<=1,(Hs&261888)===0&&(Hs=256)),ma=e}return ma}function Cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xs(""+e)}function Tm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function px(e,t,a,l,i){if(t==="submit"&&a&&a.stateNode===i){var d=Cm((i[At]||null).action),m=l.submitter;m&&(t=(t=m[At]||null)?Cm(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var _=new Ks("action","action",null,l,i);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var A=m?Tm(i,m):new FormData(i);Ao(a,{pending:!0,data:A,method:i.method,action:d},null,A)}}else typeof d=="function"&&(_.preventDefault(),A=m?Tm(i,m):new FormData(i),Ao(a,{pending:!0,data:A,method:i.method,action:d},d,A))},currentTarget:i}]})}}for(var uc=0;uc<Pr.length;uc++){var fc=Pr[uc],gx=fc.toLowerCase(),xx=fc[0].toUpperCase()+fc.slice(1);mn(gx,"on"+xx)}mn(au,"onAnimationEnd"),mn(lu,"onAnimationIteration"),mn(su,"onAnimationStart"),mn("dblclick","onDoubleClick"),mn("focusin","onFocus"),mn("focusout","onBlur"),mn(Dg,"onTransitionRun"),mn(Bg,"onTransitionStart"),mn(Og,"onTransitionCancel"),mn(iu,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function Rm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],i=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var m=l.length-1;0<=m;m--){var _=l[m],A=_.instance,V=_.currentTarget;if(_=_.listener,A!==d&&i.isPropagationStopped())break e;d=_,i.currentTarget=V;try{d(i)}catch($){ei($)}i.currentTarget=null,d=A}else for(m=0;m<l.length;m++){if(_=l[m],A=_.instance,V=_.currentTarget,_=_.listener,A!==d&&i.isPropagationStopped())break e;d=_,i.currentTarget=V;try{d(i)}catch($){ei($)}i.currentTarget=null,d=A}}}}function De(e,t){var a=t[wr];a===void 0&&(a=t[wr]=new Set);var l=e+"__bubble";a.has(l)||(Em(t,e,2,!1),a.add(l))}function mc(e,t,a){var l=0;t&&(l|=4),Em(a,e,l,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function hc(e){if(!e[Hi]){e[Hi]=!0,jd.forEach(function(a){a!=="selectionchange"&&(yx.has(a)||mc(a,!1,e),mc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,mc("selectionchange",!1,t))}}function Em(e,t,a,l){switch(lh(t)){case 2:var i=Px;break;case 8:i=Xx;break;default:i=Ec}a=i.bind(null,t,a,e),i=void 0,!Dr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),l?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function pc(e,t,a,l,i){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var _=l.stateNode.containerInfo;if(_===i)break;if(m===4)for(m=l.return;m!==null;){var A=m.tag;if((A===3||A===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;_!==null;){if(m=Ya(_),m===null)return;if(A=m.tag,A===5||A===6||A===26||A===27){l=d=m;continue e}_=_.parentNode}}l=l.return}Dd(function(){var V=d,$=zr(a),I=[];e:{var G=ru.get(e);if(G!==void 0){var X=Ks,ue=e;switch(e){case"keypress":if($s(a)===0)break e;case"keydown":case"keyup":X=ug;break;case"focusin":ue="focus",X=Ur;break;case"focusout":ue="blur",X=Ur;break;case"beforeblur":case"afterblur":X=Ur;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=hg;break;case au:case lu:case su:X=ng;break;case iu:X=gg;break;case"scroll":case"scrollend":X=Kp;break;case"wheel":X=yg;break;case"copy":case"cut":case"paste":X=lg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ld;break;case"toggle":case"beforetoggle":X=vg}var be=(t&4)!==0,Ze=!be&&(e==="scroll"||e==="scrollend"),L=be?G!==null?G+"Capture":null:G;be=[];for(var k=V,F;k!==null;){var J=k;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||L===null||(J=Fl(k,L),J!=null&&be.push(vs(k,J,F))),Ze)break;k=k.return}0<be.length&&(G=new X(G,ue,null,a,$),I.push({event:G,listeners:be}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",G&&a!==Ar&&(ue=a.relatedTarget||a.fromElement)&&(Ya(ue)||ue[Qa]))break e;if((X||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,X?(ue=a.relatedTarget||a.toElement,X=V,ue=ue?Ya(ue):null,ue!==null&&(Ze=f(ue),be=ue.tag,ue!==Ze||be!==5&&be!==27&&be!==6)&&(ue=null)):(X=null,ue=V),X!==ue)){if(be=Md,J="onMouseLeave",L="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(be=Ld,J="onPointerLeave",L="onPointerEnter",k="pointer"),Ze=X==null?G:Hl(X),F=ue==null?G:Hl(ue),G=new be(J,k+"leave",X,a,$),G.target=Ze,G.relatedTarget=F,J=null,Ya($)===V&&(be=new be(L,k+"enter",ue,a,$),be.target=F,be.relatedTarget=Ze,J=be),Ze=J,X&&ue)t:{for(be=bx,L=X,k=ue,F=0,J=L;J;J=be(J))F++;J=0;for(var xe=k;xe;xe=be(xe))J++;for(;0<F-J;)L=be(L),F--;for(;0<J-F;)k=be(k),J--;for(;F--;){if(L===k||k!==null&&L===k.alternate){be=L;break t}L=be(L),k=be(k)}be=null}else be=null;X!==null&&Am(I,G,X,be,!1),ue!==null&&Ze!==null&&Am(I,Ze,ue,be,!0)}}e:{if(G=V?Hl(V):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var He=Pd;else if(Qd(G))if(Xd)He=Ag;else{He=Rg;var fe=Tg}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?V&&Er(V.elementType)&&(He=Pd):He=Eg;if(He&&(He=He(e,V))){Yd(I,He,a,$);break e}fe&&fe(e,G,V),e==="focusout"&&V&&G.type==="number"&&V.memoizedProps.value!=null&&Rr(G,"number",G.value)}switch(fe=V?Hl(V):window,e){case"focusin":(Qd(fe)||fe.contentEditable==="true")&&(el=fe,Gr=V,$l=null);break;case"focusout":$l=Gr=el=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":Qr=!1,tu(I,a,$);break;case"selectionchange":if(kg)break;case"keydown":case"keyup":tu(I,a,$)}var Re;if(qr)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ia?Vd(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(qd&&a.locale!=="ko"&&(Ia||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ia&&(Re=Bd()):(Kn=$,Br="value"in Kn?Kn.value:Kn.textContent,Ia=!0)),fe=Fi(V,Oe),0<fe.length&&(Oe=new Ud(Oe,e,null,a,$),I.push({event:Oe,listeners:fe}),Re?Oe.data=Re:(Re=Gd(a),Re!==null&&(Oe.data=Re)))),(Re=Sg?_g(e,a):wg(e,a))&&(Oe=Fi(V,"onBeforeInput"),0<Oe.length&&(fe=new Ud("onBeforeInput","beforeinput",null,a,$),I.push({event:fe,listeners:Oe}),fe.data=Re)),px(I,e,V,a,$)}Rm(I,t)})}function vs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Fi(e,t){for(var a=t+"Capture",l=[];e!==null;){var i=e,d=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||d===null||(i=Fl(e,a),i!=null&&l.unshift(vs(e,i,d)),i=Fl(e,t),i!=null&&l.push(vs(e,i,d))),e.tag===3)return l;e=e.return}return[]}function bx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Am(e,t,a,l,i){for(var d=t._reactName,m=[];a!==null&&a!==l;){var _=a,A=_.alternate,V=_.stateNode;if(_=_.tag,A!==null&&A===l)break;_!==5&&_!==26&&_!==27||V===null||(A=V,i?(V=Fl(a,d),V!=null&&m.unshift(vs(a,V,A))):i||(V=Fl(a,d),V!=null&&m.push(vs(a,V,A)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var vx=/\r\n?/g,jx=/\u0000|\uFFFD/g;function zm(e){return(typeof e=="string"?e:""+e).replace(vx,`
`).replace(jx,"")}function km(e,t){return t=zm(t),zm(e)===t}function $e(e,t,a,l,i,d){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Za(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Za(e,""+l);break;case"className":Ys(e,"class",l);break;case"tabIndex":Ys(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,a,l);break;case"style":zd(e,l,d);break;case"data":if(t!=="object"){Ys(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",i.name,i,null),$e(e,t,"formEncType",i.formEncType,i,null),$e(e,t,"formMethod",i.formMethod,i,null),$e(e,t,"formTarget",i.formTarget,i,null)):($e(e,t,"encType",i.encType,i,null),$e(e,t,"method",i.method,i,null),$e(e,t,"target",i.target,i,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Xs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=En);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Xs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":De("beforetoggle",e),De("toggle",e),Qs(e,"popover",l);break;case"xlinkActuate":Rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qs(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$p.get(a)||a,Qs(e,a,l))}}function gc(e,t,a,l,i,d){switch(a){case"style":zd(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(i.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Za(e,l):(typeof l=="number"||typeof l=="bigint")&&Za(e,""+l);break;case"onScroll":l!=null&&De("scroll",e);break;case"onScrollEnd":l!=null&&De("scrollend",e);break;case"onClick":l!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),d=e[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,i),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,i);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Qs(e,a,l)}}}function _t(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var l=!1,i=!1,d;for(d in a)if(a.hasOwnProperty(d)){var m=a[d];if(m!=null)switch(d){case"src":l=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:$e(e,t,d,m,a,null)}}i&&$e(e,t,"srcSet",a.srcSet,a,null),l&&$e(e,t,"src",a.src,a,null);return;case"input":De("invalid",e);var _=d=m=i=null,A=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":i=$;break;case"type":m=$;break;case"checked":A=$;break;case"defaultChecked":V=$;break;case"value":d=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(c(137,t));break;default:$e(e,t,l,$,a,null)}}Td(e,d,_,A,V,m,i,!1);return;case"select":De("invalid",e),l=m=d=null;for(i in a)if(a.hasOwnProperty(i)&&(_=a[i],_!=null))switch(i){case"value":d=_;break;case"defaultValue":m=_;break;case"multiple":l=_;default:$e(e,t,i,_,a,null)}t=d,a=m,e.multiple=!!l,t!=null?$a(e,!!l,t,!1):a!=null&&$a(e,!!l,a,!0);return;case"textarea":De("invalid",e),d=i=l=null;for(m in a)if(a.hasOwnProperty(m)&&(_=a[m],_!=null))switch(m){case"value":l=_;break;case"defaultValue":i=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(c(91));break;default:$e(e,t,m,_,a,null)}Ed(e,l,i,d);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(l=a[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(e,t,A,l,a,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(l=0;l<bs.length;l++)De(bs[l],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:$e(e,t,V,l,a,null)}return;default:if(Er(t)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&gc(e,t,$,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&$e(e,t,_,l,a,null))}function Sx(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,d=null,m=null,_=null,A=null,V=null,$=null;for(X in a){var I=a[X];if(a.hasOwnProperty(X)&&I!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":A=I;default:l.hasOwnProperty(X)||$e(e,t,X,null,l,I)}}for(var G in l){var X=l[G];if(I=a[G],l.hasOwnProperty(G)&&(X!=null||I!=null))switch(G){case"type":d=X;break;case"name":i=X;break;case"checked":V=X;break;case"defaultChecked":$=X;break;case"value":m=X;break;case"defaultValue":_=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(c(137,t));break;default:X!==I&&$e(e,t,G,X,l,I)}}Tr(e,m,_,A,V,$,d,i);return;case"select":X=m=_=G=null;for(d in a)if(A=a[d],a.hasOwnProperty(d)&&A!=null)switch(d){case"value":break;case"multiple":X=A;default:l.hasOwnProperty(d)||$e(e,t,d,null,l,A)}for(i in l)if(d=l[i],A=a[i],l.hasOwnProperty(i)&&(d!=null||A!=null))switch(i){case"value":G=d;break;case"defaultValue":_=d;break;case"multiple":m=d;default:d!==A&&$e(e,t,i,d,l,A)}t=_,a=m,l=X,G!=null?$a(e,!!a,G,!1):!!l!=!!a&&(t!=null?$a(e,!!a,t,!0):$a(e,!!a,a?[]:"",!1));return;case"textarea":X=G=null;for(_ in a)if(i=a[_],a.hasOwnProperty(_)&&i!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:$e(e,t,_,null,l,i)}for(m in l)if(i=l[m],d=a[m],l.hasOwnProperty(m)&&(i!=null||d!=null))switch(m){case"value":G=i;break;case"defaultValue":X=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(c(91));break;default:i!==d&&$e(e,t,m,i,l,d)}Rd(e,G,X);return;case"option":for(var ue in a)if(G=a[ue],a.hasOwnProperty(ue)&&G!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:$e(e,t,ue,null,l,G)}for(A in l)if(G=l[A],X=a[A],l.hasOwnProperty(A)&&G!==X&&(G!=null||X!=null))switch(A){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:$e(e,t,A,G,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be)&&$e(e,t,be,null,l,G);for(V in l)if(G=l[V],X=a[V],l.hasOwnProperty(V)&&G!==X&&(G!=null||X!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(c(137,t));break;default:$e(e,t,V,G,l,X)}return;default:if(Er(t)){for(var Ze in a)G=a[Ze],a.hasOwnProperty(Ze)&&G!==void 0&&!l.hasOwnProperty(Ze)&&gc(e,t,Ze,void 0,l,G);for($ in l)G=l[$],X=a[$],!l.hasOwnProperty($)||G===X||G===void 0&&X===void 0||gc(e,t,$,G,l,X);return}}for(var L in a)G=a[L],a.hasOwnProperty(L)&&G!=null&&!l.hasOwnProperty(L)&&$e(e,t,L,null,l,G);for(I in l)G=l[I],X=a[I],!l.hasOwnProperty(I)||G===X||G==null&&X==null||$e(e,t,I,G,l,X)}function Dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _x(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var i=a[l],d=i.transferSize,m=i.initiatorType,_=i.duration;if(d&&_&&Dm(m)){for(m=0,_=i.responseEnd,l+=1;l<a.length;l++){var A=a[l],V=A.startTime;if(V>_)break;var $=A.transferSize,I=A.initiatorType;$&&Dm(I)&&(A=A.responseEnd,m+=$*(A<_?1:(_-V)/(A-V)))}if(--l,t+=8*(d+m)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xc=null,yc=null;function Vi(e){return e.nodeType===9?e:e.ownerDocument}function Bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Om(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=null;function wx(){var e=window.event;return e&&e.type==="popstate"?e===vc?!1:(vc=e,!0):(vc=null,!1)}var Mm=typeof setTimeout=="function"?setTimeout:void 0,Nx=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(e){return Um.resolve(null).then(e).catch(Tx)}:Mm;function Tx(e){setTimeout(function(){throw e})}function ha(e){return e==="head"}function Lm(e,t){var a=t,l=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(i),Tl(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")js(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,js(a);for(var d=a.firstChild;d;){var m=d.nextSibling,_=d.nodeName;d[ql]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=m}}else a==="body"&&js(e.ownerDocument.body);a=i}while(a);Tl(t)}function qm(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jc(a),Nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Rx(e,t,a,l){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ql])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function Ex(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=on(e.nextSibling),e===null))return null;return e}function Hm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=on(e.nextSibling),e===null))return null;return e}function Sc(e){return e.data==="$?"||e.data==="$~"}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ax(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var wc=null;function Fm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return on(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Vm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Gm(e,t,a){switch(t=Vi(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function js(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Nr(e)}var cn=new Map,Qm=new Set;function Gi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=ae.d;ae.d={f:zx,r:kx,D:Dx,C:Bx,L:Ox,m:Mx,X:Lx,S:Ux,M:qx};function zx(){var e=Yn.f(),t=Bi();return e||t}function kx(e){var t=Pa(e);t!==null&&t.tag===5&&t.type==="form"?rf(t):Yn.r(e)}var wl=typeof document>"u"?null:document;function Ym(e,t,a){var l=wl;if(l&&typeof t=="string"&&t){var i=en(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),Qm.has(i)||(Qm.add(i),e={rel:e,crossOrigin:a,href:t},l.querySelector(i)===null&&(t=l.createElement("link"),_t(t,"link",e),pt(t),l.head.appendChild(t)))}}function Dx(e){Yn.D(e),Ym("dns-prefetch",e,null)}function Bx(e,t){Yn.C(e,t),Ym("preconnect",e,t)}function Ox(e,t,a){Yn.L(e,t,a);var l=wl;if(l&&e&&t){var i='link[rel="preload"][as="'+en(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+en(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+en(a.imageSizes)+'"]')):i+='[href="'+en(e)+'"]';var d=i;switch(t){case"style":d=Nl(e);break;case"script":d=Cl(e)}cn.has(d)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),cn.set(d,e),l.querySelector(i)!==null||t==="style"&&l.querySelector(Ss(d))||t==="script"&&l.querySelector(_s(d))||(t=l.createElement("link"),_t(t,"link",e),pt(t),l.head.appendChild(t)))}}function Mx(e,t){Yn.m(e,t);var a=wl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+en(l)+'"][href="'+en(e)+'"]',d=i;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Cl(e)}if(!cn.has(d)&&(e=x({rel:"modulepreload",href:e},t),cn.set(d,e),a.querySelector(i)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_s(d)))return}l=a.createElement("link"),_t(l,"link",e),pt(l),a.head.appendChild(l)}}}function Ux(e,t,a){Yn.S(e,t,a);var l=wl;if(l&&e){var i=Xa(l).hoistableStyles,d=Nl(e);t=t||"default";var m=i.get(d);if(!m){var _={loading:0,preload:null};if(m=l.querySelector(Ss(d)))_.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=cn.get(d))&&Nc(e,a);var A=m=l.createElement("link");pt(A),_t(A,"link",e),A._p=new Promise(function(V,$){A.onload=V,A.onerror=$}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Qi(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:_},i.set(d,m)}}}function Lx(e,t){Yn.X(e,t);var a=wl;if(a&&e){var l=Xa(a).hoistableScripts,i=Cl(e),d=l.get(i);d||(d=a.querySelector(_s(i)),d||(e=x({src:e,async:!0},t),(t=cn.get(i))&&Cc(e,t),d=a.createElement("script"),pt(d),_t(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(i,d))}}function qx(e,t){Yn.M(e,t);var a=wl;if(a&&e){var l=Xa(a).hoistableScripts,i=Cl(e),d=l.get(i);d||(d=a.querySelector(_s(i)),d||(e=x({src:e,async:!0,type:"module"},t),(t=cn.get(i))&&Cc(e,t),d=a.createElement("script"),pt(d),_t(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(i,d))}}function Pm(e,t,a,l){var i=(i=ye.current)?Gi(i):null;if(!i)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Nl(a.href),a=Xa(i).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Nl(a.href);var d=Xa(i).hoistableStyles,m=d.get(e);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=i.querySelector(Ss(e)))&&!d._p&&(m.instance=d,m.state.loading=5),cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},cn.set(e,a),d||Hx(i,e,a,m.state))),t&&l===null)throw Error(c(528,""));return m}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cl(a),a=Xa(i).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Nl(e){return'href="'+en(e)+'"'}function Ss(e){return'link[rel="stylesheet"]['+e+"]"}function Xm(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Hx(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),_t(t,"link",a),pt(t),e.head.appendChild(t))}function Cl(e){return'[src="'+en(e)+'"]'}function _s(e){return"script[async]"+e}function Wm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+en(a.href)+'"]');if(l)return t.instance=l,pt(l),l;var i=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),pt(l),_t(l,"style",i),Qi(l,a.precedence,e),t.instance=l;case"stylesheet":i=Nl(a.href);var d=e.querySelector(Ss(i));if(d)return t.state.loading|=4,t.instance=d,pt(d),d;l=Xm(a),(i=cn.get(i))&&Nc(l,i),d=(e.ownerDocument||e).createElement("link"),pt(d);var m=d;return m._p=new Promise(function(_,A){m.onload=_,m.onerror=A}),_t(d,"link",l),t.state.loading|=4,Qi(d,a.precedence,e),t.instance=d;case"script":return d=Cl(a.src),(i=e.querySelector(_s(d)))?(t.instance=i,pt(i),i):(l=a,(i=cn.get(d))&&(l=x({},a),Cc(l,i)),e=e.ownerDocument||e,i=e.createElement("script"),pt(i),_t(i,"link",l),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Qi(l,a.precedence,e));return t.instance}function Qi(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=l.length?l[l.length-1]:null,d=i,m=0;m<l.length;m++){var _=l[m];if(_.dataset.precedence===t)d=_;else if(d!==i)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yi=null;function $m(e,t,a){if(Yi===null){var l=new Map,i=Yi=new Map;i.set(a,l)}else i=Yi,l=i.get(a),l||(l=new Map,i.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var d=a[i];if(!(d[ql]||d[bt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var _=l.get(m);_?_.push(d):l.set(m,[d])}}return l}function Zm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Fx(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Km(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vx(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=Nl(l.href),d=t.querySelector(Ss(i));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pi.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,pt(d);return}d=t.ownerDocument||t,l=Xm(l),(i=cn.get(i))&&Nc(l,i),d=d.createElement("link"),pt(d);var m=d;m._p=new Promise(function(_,A){m.onload=_,m.onerror=A}),_t(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Pi.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Tc=0;function Gx(e,t){return e.stylesheets&&e.count===0&&Wi(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Tc===0&&(Tc=62500*_x());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wi(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Tc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(i)}}:null}function Pi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xi=null;function Wi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xi=new Map,t.forEach(Qx,e),Xi=null,Pi.call(e))}function Qx(e,t){if(!(t.state.loading&4)){var a=Xi.get(e);if(a)var l=a.get(null);else{a=new Map,Xi.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<i.length;d++){var m=i[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),l=m)}l&&a.set(null,l)}i=t.instance,m=i.getAttribute("data-precedence"),d=a.get(m)||l,d===l&&a.set(null,i),a.set(m,i),this.count++,l=Pi.bind(this),i.addEventListener("load",l),i.addEventListener("error",l),d?d.parentNode.insertBefore(i,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ws={$$typeof:D,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Yx(e,t,a,l,i,d,m,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.hiddenUpdates=jr(null),this.identifierPrefix=l,this.onUncaughtError=i,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Jm(e,t,a,l,i,d,m,_,A,V,$,I){return e=new Yx(e,t,a,m,A,V,$,I,_),t=1,d===!0&&(t|=24),d=Gt(3,null,null,t),e.current=d,d.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:t},co(d),e}function Im(e){return e?(e=al,e):al}function eh(e,t,a,l,i,d){i=Im(i),l.context===null?l.context=i:l.pendingContext=i,l=aa(t),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=la(e,l,t),a!==null&&(Mt(a,e,t),ns(a,e,t))}function th(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Rc(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function nh(e){if(e.tag===13||e.tag===31){var t=Na(e,67108864);t!==null&&Mt(t,e,67108864),Rc(e,67108864)}}function ah(e){if(e.tag===13||e.tag===31){var t=Wt();t=Sr(t);var a=Na(e,t);a!==null&&Mt(a,e,t),Rc(e,t)}}var $i=!0;function Px(e,t,a,l){var i=Q.T;Q.T=null;var d=ae.p;try{ae.p=2,Ec(e,t,a,l)}finally{ae.p=d,Q.T=i}}function Xx(e,t,a,l){var i=Q.T;Q.T=null;var d=ae.p;try{ae.p=8,Ec(e,t,a,l)}finally{ae.p=d,Q.T=i}}function Ec(e,t,a,l){if($i){var i=Ac(l);if(i===null)pc(e,t,l,Zi,a),sh(e,l);else if($x(i,e,t,a,l))l.stopPropagation();else if(sh(e,l),t&4&&-1<Wx.indexOf(e)){for(;i!==null;){var d=Pa(i);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=va(d.pendingLanes);if(m!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;m;){var A=1<<31-Ft(m);_.entanglements[1]|=A,m&=~A}Cn(d),(Ve&6)===0&&(ki=at()+500,ys(0))}}break;case 31:case 13:_=Na(d,2),_!==null&&Mt(_,d,2),Bi(),Rc(d,2)}if(d=Ac(l),d===null&&pc(e,t,l,Zi,a),d===i)break;i=d}i!==null&&l.stopPropagation()}else pc(e,t,l,null,a)}}function Ac(e){return e=zr(e),zc(e)}var Zi=null;function zc(e){if(Zi=null,e=Ya(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=b(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zi=e,null}function lh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Va()){case Ga:return 2;case le:return 8;case de:case ve:return 32;case qe:return 268435456;default:return 32}default:return 32}}var kc=!1,pa=null,ga=null,xa=null,Ns=new Map,Cs=new Map,ya=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sh(e,t){switch(e){case"focusin":case"focusout":pa=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Ts(e,t,a,l,i,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[i]},t!==null&&(t=Pa(t),t!==null&&nh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $x(e,t,a,l,i){switch(t){case"focusin":return pa=Ts(pa,e,t,a,l,i),!0;case"dragenter":return ga=Ts(ga,e,t,a,l,i),!0;case"mouseover":return xa=Ts(xa,e,t,a,l,i),!0;case"pointerover":var d=i.pointerId;return Ns.set(d,Ts(Ns.get(d)||null,e,t,a,l,i)),!0;case"gotpointercapture":return d=i.pointerId,Cs.set(d,Ts(Cs.get(d)||null,e,t,a,l,i)),!0}return!1}function ih(e){var t=Ya(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,bd(e.priority,function(){ah(a)});return}}else if(t===31){if(t=b(a),t!==null){e.blockedOn=t,bd(e.priority,function(){ah(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ki(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ac(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ar=l,a.target.dispatchEvent(l),Ar=null}else return t=Pa(a),t!==null&&nh(t),e.blockedOn=a,!1;t.shift()}return!0}function rh(e,t,a){Ki(e)&&a.delete(t)}function Zx(){kc=!1,pa!==null&&Ki(pa)&&(pa=null),ga!==null&&Ki(ga)&&(ga=null),xa!==null&&Ki(xa)&&(xa=null),Ns.forEach(rh),Cs.forEach(rh)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,kc||(kc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Zx)))}var Ii=null;function oh(e){Ii!==e&&(Ii=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ii===e&&(Ii=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],i=e[t+2];if(typeof l!="function"){if(zc(l||a)===null)continue;break}var d=Pa(a);d!==null&&(e.splice(t,3),t-=3,Ao(d,{pending:!0,data:i,method:a.method,action:l},l,i))}}))}function Tl(e){function t(A){return Ji(A,e)}pa!==null&&Ji(pa,e),ga!==null&&Ji(ga,e),xa!==null&&Ji(xa,e),Ns.forEach(t),Cs.forEach(t);for(var a=0;a<ya.length;a++){var l=ya[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ya.length&&(a=ya[0],a.blockedOn===null);)ih(a),a.blockedOn===null&&ya.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var i=a[l],d=a[l+1],m=i[At]||null;if(typeof d=="function")m||oh(a);else if(m){var _=null;if(d&&d.hasAttribute("formAction")){if(i=d,m=d[At]||null)_=m.formAction;else if(zc(i)!==null)continue}else _=m.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),oh(a)}}}function ch(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Dc(e){this._internalRoot=e}er.prototype.render=Dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,l=Wt();eh(a,l,e,t,null,null)},er.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),Bi(),t[Qa]=null}};function er(e){this._internalRoot=e}er.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ya.length&&t!==0&&t<ya[a].priority;a++);ya.splice(a,0,e),a===0&&ih(e)}};var dh=r.version;if(dh!=="19.2.0")throw Error(c(527,dh,"19.2.0"));ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=p(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Kx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tr.isDisabled&&tr.supportsFiber)try{Ml=tr.inject(Kx),Ht=tr}catch{}}return Es.createRoot=function(e,t){if(!u(e))throw Error(c(299));var a=!1,l="",i=xf,d=yf,m=bf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Jm(e,1,!1,null,null,a,l,null,i,d,m,ch),e[Qa]=t.current,hc(e),new Dc(t)},Es.hydrateRoot=function(e,t,a){if(!u(e))throw Error(c(299));var l=!1,i="",d=xf,m=yf,_=bf,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(A=a.formState)),t=Jm(e,1,!0,t,a??null,l,i,A,d,m,_,ch),t.context=Im(null),a=t.current,l=Wt(),l=Sr(l),i=aa(l),i.callback=null,la(a,i,l),a=l,t.current.lanes=a,Ll(t,a),Cn(t),e[Qa]=t.current,hc(e),new er(t)},Es.version="19.2.0",Es}var vh;function ry(){if(vh)return Mc.exports;vh=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),Mc.exports=iy(),Mc.exports}var oy=ry();var jh="popstate";function cy(s={}){function r(c,u){let{pathname:f,search:h,hash:b}=c.location;return Wc("",{pathname:f,search:h,hash:b},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(c,u){return typeof u=="string"?u:ks(u)}return uy(r,o,null,s)}function nt(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function dn(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function dy(){return Math.random().toString(36).substring(2,10)}function Sh(s,r){return{usr:s.state,key:s.key,idx:r}}function Wc(s,r,o=null,c){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof r=="string"?zl(r):r,state:o,key:r&&r.key||c||dy()}}function ks({pathname:s="/",search:r="",hash:o=""}){return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function zl(s){let r={};if(s){let o=s.indexOf("#");o>=0&&(r.hash=s.substring(o),s=s.substring(0,o));let c=s.indexOf("?");c>=0&&(r.search=s.substring(c),s=s.substring(0,c)),s&&(r.pathname=s)}return r}function uy(s,r,o,c={}){let{window:u=document.defaultView,v5Compat:f=!1}=c,h=u.history,b="POP",y=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function x(){b="POP";let j=v(),T=j==null?null:j-p;p=j,y&&y({action:b,location:N.location,delta:T})}function w(j,T){b="PUSH";let M=Wc(N.location,j,T);p=v()+1;let D=Sh(M,p),z=N.createHref(M);try{h.pushState(D,"",z)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;u.location.assign(z)}f&&y&&y({action:b,location:N.location,delta:1})}function C(j,T){b="REPLACE";let M=Wc(N.location,j,T);p=v();let D=Sh(M,p),z=N.createHref(M);h.replaceState(D,"",z),f&&y&&y({action:b,location:N.location,delta:0})}function S(j){return fy(j)}let N={get action(){return b},get location(){return s(u,h)},listen(j){if(y)throw new Error("A history only accepts one active listener");return u.addEventListener(jh,x),y=j,()=>{u.removeEventListener(jh,x),y=null}},createHref(j){return r(u,j)},createURL:S,encodeLocation(j){let T=S(j);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:w,replace:C,go(j){return h.go(j)}};return N}function fy(s,r=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),nt(o,"No window.location.(origin|href) available to create URL");let c=typeof s=="string"?s:ks(s);return c=c.replace(/ $/,"%20"),!r&&c.startsWith("//")&&(c=o+c),new URL(c,o)}function Ph(s,r,o="/"){return my(s,r,o,!1)}function my(s,r,o,c){let u=typeof r=="string"?zl(r):r,f=Xn(u.pathname||"/",o);if(f==null)return null;let h=Xh(s);hy(h);let b=null;for(let y=0;b==null&&y<h.length;++y){let p=Ny(f);b=_y(h[y],p,c)}return b}function Xh(s,r=[],o=[],c="",u=!1){let f=(h,b,y=u,p)=>{let v={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:b,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(c)&&y)return;nt(v.relativePath.startsWith(c),`Absolute route path "${v.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(c.length)}let x=Pn([c,v.relativePath]),w=o.concat(v);h.children&&h.children.length>0&&(nt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Xh(h.children,r,w,x,y)),!(h.path==null&&!h.index)&&r.push({path:x,score:jy(x,h.index),routesMeta:w})};return s.forEach((h,b)=>{if(h.path===""||!h.path?.includes("?"))f(h,b);else for(let y of Wh(h.path))f(h,b,!0,y)}),r}function Wh(s){let r=s.split("/");if(r.length===0)return[];let[o,...c]=r,u=o.endsWith("?"),f=o.replace(/\?$/,"");if(c.length===0)return u?[f,""]:[f];let h=Wh(c.join("/")),b=[];return b.push(...h.map(y=>y===""?f:[f,y].join("/"))),u&&b.push(...h),b.map(y=>s.startsWith("/")&&y===""?"/":y)}function hy(s){s.sort((r,o)=>r.score!==o.score?o.score-r.score:Sy(r.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}var py=/^:[\w-]+$/,gy=3,xy=2,yy=1,by=10,vy=-2,_h=s=>s==="*";function jy(s,r){let o=s.split("/"),c=o.length;return o.some(_h)&&(c+=vy),r&&(c+=xy),o.filter(u=>!_h(u)).reduce((u,f)=>u+(py.test(f)?gy:f===""?yy:by),c)}function Sy(s,r){return s.length===r.length&&s.slice(0,-1).every((c,u)=>c===r[u])?s[s.length-1]-r[r.length-1]:0}function _y(s,r,o=!1){let{routesMeta:c}=s,u={},f="/",h=[];for(let b=0;b<c.length;++b){let y=c[b],p=b===c.length-1,v=f==="/"?r:r.slice(f.length)||"/",x=ur({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),w=y.route;if(!x&&p&&o&&!c[c.length-1].route.index&&(x=ur({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!x)return null;Object.assign(u,x.params),h.push({params:u,pathname:Pn([f,x.pathname]),pathnameBase:Ey(Pn([f,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(f=Pn([f,x.pathnameBase]))}return h}function ur(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,c]=wy(s.path,s.caseSensitive,s.end),u=r.match(o);if(!u)return null;let f=u[0],h=f.replace(/(.)\/+$/,"$1"),b=u.slice(1);return{params:c.reduce((p,{paramName:v,isOptional:x},w)=>{if(v==="*"){let S=b[w]||"";h=f.slice(0,f.length-S.length).replace(/(.)\/+$/,"$1")}const C=b[w];return x&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:h,pattern:s}}function wy(s,r=!1,o=!0){dn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let c=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,b,y)=>(c.push({paramName:b,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(c.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),c]}function Ny(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return dn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),s}}function Xn(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let o=r.endsWith("/")?r.length-1:r.length,c=s.charAt(o);return c&&c!=="/"?null:s.slice(o)||"/"}function Cy(s,r="/"){let{pathname:o,search:c="",hash:u=""}=typeof s=="string"?zl(s):s;return{pathname:o?o.startsWith("/")?o:Ty(o,r):r,search:Ay(c),hash:zy(u)}}function Ty(s,r){let o=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function Hc(s,r,o,c){return`Cannot include a '${s}' character in a manually specified \`to.${r}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ry(s){return s.filter((r,o)=>o===0||r.route.path&&r.route.path.length>0)}function ad(s){let r=Ry(s);return r.map((o,c)=>c===r.length-1?o.pathname:o.pathnameBase)}function ld(s,r,o,c=!1){let u;typeof s=="string"?u=zl(s):(u={...s},nt(!u.pathname||!u.pathname.includes("?"),Hc("?","pathname","search",u)),nt(!u.pathname||!u.pathname.includes("#"),Hc("#","pathname","hash",u)),nt(!u.search||!u.search.includes("#"),Hc("#","search","hash",u)));let f=s===""||u.pathname==="",h=f?"/":u.pathname,b;if(h==null)b=o;else{let x=r.length-1;if(!c&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),x-=1;u.pathname=w.join("/")}b=x>=0?r[x]:"/"}let y=Cy(u,b),p=h&&h!=="/"&&h.endsWith("/"),v=(f||h===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var Pn=s=>s.join("/").replace(/\/\/+/g,"/"),Ey=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Ay=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,zy=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function ky(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $h=["POST","PUT","PATCH","DELETE"];new Set($h);var Dy=["GET",...$h];new Set(Dy);var kl=g.createContext(null);kl.displayName="DataRouter";var mr=g.createContext(null);mr.displayName="DataRouterState";g.createContext(!1);var Zh=g.createContext({isTransitioning:!1});Zh.displayName="ViewTransition";var By=g.createContext(new Map);By.displayName="Fetchers";var Oy=g.createContext(null);Oy.displayName="Await";var xn=g.createContext(null);xn.displayName="Navigation";var Ds=g.createContext(null);Ds.displayName="Location";var un=g.createContext({outlet:null,matches:[],isDataRoute:!1});un.displayName="Route";var sd=g.createContext(null);sd.displayName="RouteError";function My(s,{relative:r}={}){nt(Dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:c}=g.useContext(xn),{hash:u,pathname:f,search:h}=Bs(s,{relative:r}),b=f;return o!=="/"&&(b=f==="/"?o:Pn([o,f])),c.createHref({pathname:b,search:h,hash:u})}function Dl(){return g.useContext(Ds)!=null}function yn(){return nt(Dl(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Ds).location}var Kh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jh(s){g.useContext(xn).static||g.useLayoutEffect(s)}function bn(){let{isDataRoute:s}=g.useContext(un);return s?Jy():Uy()}function Uy(){nt(Dl(),"useNavigate() may be used only in the context of a <Router> component.");let s=g.useContext(kl),{basename:r,navigator:o}=g.useContext(xn),{matches:c}=g.useContext(un),{pathname:u}=yn(),f=JSON.stringify(ad(c)),h=g.useRef(!1);return Jh(()=>{h.current=!0}),g.useCallback((y,p={})=>{if(dn(h.current,Kh),!h.current)return;if(typeof y=="number"){o.go(y);return}let v=ld(y,JSON.parse(f),u,p.relative==="path");s==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:Pn([r,v.pathname])),(p.replace?o.replace:o.push)(v,p.state,p)},[r,o,f,u,s])}var Ly=g.createContext(null);function qy(s){let r=g.useContext(un).outlet;return g.useMemo(()=>r&&g.createElement(Ly.Provider,{value:s},r),[r,s])}function Hy(){let{matches:s}=g.useContext(un),r=s[s.length-1];return r?r.params:{}}function Bs(s,{relative:r}={}){let{matches:o}=g.useContext(un),{pathname:c}=yn(),u=JSON.stringify(ad(o));return g.useMemo(()=>ld(s,JSON.parse(u),c,r==="path"),[s,u,c,r])}function Fy(s,r){return Ih(s,r)}function Ih(s,r,o,c,u){nt(Dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=g.useContext(xn),{matches:h}=g.useContext(un),b=h[h.length-1],y=b?b.params:{},p=b?b.pathname:"/",v=b?b.pathnameBase:"/",x=b&&b.route;{let M=x&&x.path||"";ep(p,!x||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=yn(),C;if(r){let M=typeof r=="string"?zl(r):r;nt(v==="/"||M.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${M.pathname}" was given in the \`location\` prop.`),C=M}else C=w;let S=C.pathname||"/",N=S;if(v!=="/"){let M=v.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let j=Ph(s,{pathname:N});dn(x||j!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),dn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Py(j&&j.map(M=>Object.assign({},M,{params:Object.assign({},y,M.params),pathname:Pn([v,f.encodeLocation?f.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:Pn([v,f.encodeLocation?f.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),h,o,c,u);return r&&T?g.createElement(Ds.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},T):T}function Vy(){let s=Ky(),r=ky(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,c="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:c},f={padding:"2px 4px",backgroundColor:c},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:f},"ErrorBoundary")," or"," ",g.createElement("code",{style:f},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},r),o?g.createElement("pre",{style:u},o):null,h)}var Gy=g.createElement(Vy,null),Qy=class extends g.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){this.props.unstable_onError?this.props.unstable_onError(s,r):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?g.createElement(un.Provider,{value:this.props.routeContext},g.createElement(sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yy({routeContext:s,match:r,children:o}){let c=g.useContext(kl);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(un.Provider,{value:s},o)}function Py(s,r=[],o=null,c=null,u=null){if(s==null){if(!o)return null;if(o.errors)s=o.matches;else if(r.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let f=s,h=o?.errors;if(h!=null){let p=f.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,p+1))}let b=!1,y=-1;if(o)for(let p=0;p<f.length;p++){let v=f[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(y=p),v.route.id){let{loaderData:x,errors:w}=o,C=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||C){b=!0,y>=0?f=f.slice(0,y+1):f=[f[0]];break}}}return f.reduceRight((p,v,x)=>{let w,C=!1,S=null,N=null;o&&(w=h&&v.route.id?h[v.route.id]:void 0,S=v.route.errorElement||Gy,b&&(y<0&&x===0?(ep("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,N=null):y===x&&(C=!0,N=v.route.hydrateFallbackElement||null)));let j=r.concat(f.slice(0,x+1)),T=()=>{let M;return w?M=S:C?M=N:v.route.Component?M=g.createElement(v.route.Component,null):v.route.element?M=v.route.element:M=p,g.createElement(Yy,{match:v,routeContext:{outlet:p,matches:j,isDataRoute:o!=null},children:M})};return o&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?g.createElement(Qy,{location:o.location,revalidation:o.revalidation,component:S,error:w,children:T(),routeContext:{outlet:null,matches:j,isDataRoute:!0},unstable_onError:c}):T()},null)}function id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xy(s){let r=g.useContext(kl);return nt(r,id(s)),r}function Wy(s){let r=g.useContext(mr);return nt(r,id(s)),r}function $y(s){let r=g.useContext(un);return nt(r,id(s)),r}function rd(s){let r=$y(s),o=r.matches[r.matches.length-1];return nt(o.route.id,`${s} can only be used on routes that contain a unique "id"`),o.route.id}function Zy(){return rd("useRouteId")}function Ky(){let s=g.useContext(sd),r=Wy("useRouteError"),o=rd("useRouteError");return s!==void 0?s:r.errors?.[o]}function Jy(){let{router:s}=Xy("useNavigate"),r=rd("useNavigate"),o=g.useRef(!1);return Jh(()=>{o.current=!0}),g.useCallback(async(u,f={})=>{dn(o.current,Kh),o.current&&(typeof u=="number"?s.navigate(u):await s.navigate(u,{fromRouteId:r,...f}))},[s,r])}var wh={};function ep(s,r,o){!r&&!wh[s]&&(wh[s]=!0,dn(!1,o))}g.memo(Iy);function Iy({routes:s,future:r,state:o,unstable_onError:c}){return Ih(s,void 0,o,c,r)}function $t({to:s,replace:r,state:o,relative:c}){nt(Dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=g.useContext(xn);dn(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=g.useContext(un),{pathname:h}=yn(),b=bn(),y=ld(s,ad(f),h,c==="path"),p=JSON.stringify(y);return g.useEffect(()=>{b(JSON.parse(p),{replace:r,state:o,relative:c})},[b,p,c,r,o]),null}function e0(s){return qy(s.context)}function Ee(s){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t0({basename:s="/",children:r=null,location:o,navigationType:c="POP",navigator:u,static:f=!1}){nt(!Dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),b=g.useMemo(()=>({basename:h,navigator:u,static:f,future:{}}),[h,u,f]);typeof o=="string"&&(o=zl(o));let{pathname:y="/",search:p="",hash:v="",state:x=null,key:w="default"}=o,C=g.useMemo(()=>{let S=Xn(y,h);return S==null?null:{location:{pathname:S,search:p,hash:v,state:x,key:w},navigationType:c}},[h,y,p,v,x,w,c]);return dn(C!=null,`<Router basename="${h}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:g.createElement(xn.Provider,{value:b},g.createElement(Ds.Provider,{children:r,value:C}))}function n0({children:s,location:r}){return Fy($c(s),r)}function $c(s,r=[]){let o=[];return g.Children.forEach(s,(c,u)=>{if(!g.isValidElement(c))return;let f=[...r,u];if(c.type===g.Fragment){o.push.apply(o,$c(c.props.children,f));return}nt(c.type===Ee,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let h={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(h.children=$c(c.props.children,f)),o.push(h)}),o}var ir="get",rr="application/x-www-form-urlencoded";function hr(s){return s!=null&&typeof s.tagName=="string"}function a0(s){return hr(s)&&s.tagName.toLowerCase()==="button"}function l0(s){return hr(s)&&s.tagName.toLowerCase()==="form"}function s0(s){return hr(s)&&s.tagName.toLowerCase()==="input"}function i0(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function r0(s,r){return s.button===0&&(!r||r==="_self")&&!i0(s)}function Zc(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((r,o)=>{let c=s[o];return r.concat(Array.isArray(c)?c.map(u=>[o,u]):[[o,c]])},[]))}function o0(s,r){let o=Zc(s);return r&&r.forEach((c,u)=>{o.has(u)||r.getAll(u).forEach(f=>{o.append(u,f)})}),o}var nr=null;function c0(){if(nr===null)try{new FormData(document.createElement("form"),0),nr=!1}catch{nr=!0}return nr}var d0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fc(s){return s!=null&&!d0.has(s)?(dn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rr}"`),null):s}function u0(s,r){let o,c,u,f,h;if(l0(s)){let b=s.getAttribute("action");c=b?Xn(b,r):null,o=s.getAttribute("method")||ir,u=Fc(s.getAttribute("enctype"))||rr,f=new FormData(s)}else if(a0(s)||s0(s)&&(s.type==="submit"||s.type==="image")){let b=s.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||b.getAttribute("action");if(c=y?Xn(y,r):null,o=s.getAttribute("formmethod")||b.getAttribute("method")||ir,u=Fc(s.getAttribute("formenctype"))||Fc(b.getAttribute("enctype"))||rr,f=new FormData(b,s),!c0()){let{name:p,type:v,value:x}=s;if(v==="image"){let w=p?`${p}.`:"";f.append(`${w}x`,"0"),f.append(`${w}y`,"0")}else p&&f.append(p,x)}}else{if(hr(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=ir,c=null,u=rr,h=s}return f&&u==="text/plain"&&(h=f,f=void 0),{action:c,method:o.toLowerCase(),encType:u,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function od(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function f0(s,r,o){let c=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return c.pathname==="/"?c.pathname=`_root.${o}`:r&&Xn(c.pathname,r)==="/"?c.pathname=`${r.replace(/\/$/,"")}/_root.${o}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${o}`,c}async function m0(s,r){if(s.id in r)return r[s.id];try{let o=await import(s.module);return r[s.id]=o,o}catch(o){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h0(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function p0(s,r,o){let c=await Promise.all(s.map(async u=>{let f=r.routes[u.route.id];if(f){let h=await m0(f,o);return h.links?h.links():[]}return[]}));return b0(c.flat(1).filter(h0).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function Nh(s,r,o,c,u,f){let h=(y,p)=>o[p]?y.route.id!==o[p].route.id:!0,b=(y,p)=>o[p].pathname!==y.pathname||o[p].route.path?.endsWith("*")&&o[p].params["*"]!==y.params["*"];return f==="assets"?r.filter((y,p)=>h(y,p)||b(y,p)):f==="data"?r.filter((y,p)=>{let v=c.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(h(y,p)||b(y,p))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function g0(s,r,{includeHydrateFallback:o}={}){return x0(s.map(c=>{let u=r.routes[c.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),o&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function x0(s){return[...new Set(s)]}function y0(s){let r={},o=Object.keys(s).sort();for(let c of o)r[c]=s[c];return r}function b0(s,r){let o=new Set;return new Set(r),s.reduce((c,u)=>{let f=JSON.stringify(y0(u));return o.has(f)||(o.add(f),c.push({key:f,link:u})),c},[])}function tp(){let s=g.useContext(kl);return od(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function v0(){let s=g.useContext(mr);return od(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var cd=g.createContext(void 0);cd.displayName="FrameworkContext";function np(){let s=g.useContext(cd);return od(s,"You must render this element inside a <HydratedRouter> element"),s}function j0(s,r){let o=g.useContext(cd),[c,u]=g.useState(!1),[f,h]=g.useState(!1),{onFocus:b,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:x}=r,w=g.useRef(null);g.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let N=T=>{T.forEach(M=>{h(M.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[s]),g.useEffect(()=>{if(c){let N=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(N)}}},[c]);let C=()=>{u(!0)},S=()=>{u(!1),h(!1)};return o?s!=="intent"?[f,w,{}]:[f,w,{onFocus:As(b,C),onBlur:As(y,S),onMouseEnter:As(p,C),onMouseLeave:As(v,S),onTouchStart:As(x,C)}]:[!1,w,{}]}function As(s,r){return o=>{s&&s(o),o.defaultPrevented||r(o)}}function S0({page:s,...r}){let{router:o}=tp(),c=g.useMemo(()=>Ph(o.routes,s,o.basename),[o.routes,s,o.basename]);return c?g.createElement(w0,{page:s,matches:c,...r}):null}function _0(s){let{manifest:r,routeModules:o}=np(),[c,u]=g.useState([]);return g.useEffect(()=>{let f=!1;return p0(s,r,o).then(h=>{f||u(h)}),()=>{f=!0}},[s,r,o]),c}function w0({page:s,matches:r,...o}){let c=yn(),{manifest:u,routeModules:f}=np(),{basename:h}=tp(),{loaderData:b,matches:y}=v0(),p=g.useMemo(()=>Nh(s,r,y,u,c,"data"),[s,r,y,u,c]),v=g.useMemo(()=>Nh(s,r,y,u,c,"assets"),[s,r,y,u,c]),x=g.useMemo(()=>{if(s===c.pathname+c.search+c.hash)return[];let S=new Set,N=!1;if(r.forEach(T=>{let M=u.routes[T.route.id];!M||!M.hasLoader||(!p.some(D=>D.route.id===T.route.id)&&T.route.id in b&&f[T.route.id]?.shouldRevalidate||M.hasClientLoader?N=!0:S.add(T.route.id))}),S.size===0)return[];let j=f0(s,h,"data");return N&&S.size>0&&j.searchParams.set("_routes",r.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[j.pathname+j.search]},[h,b,c,u,p,r,s,f]),w=g.useMemo(()=>g0(v,u),[v,u]),C=_0(v);return g.createElement(g.Fragment,null,x.map(S=>g.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...o})),w.map(S=>g.createElement("link",{key:S,rel:"modulepreload",href:S,...o})),C.map(({key:S,link:N})=>g.createElement("link",{key:S,nonce:o.nonce,...N})))}function N0(...s){return r=>{s.forEach(o=>{typeof o=="function"?o(r):o!=null&&(o.current=r)})}}var ap=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ap&&(window.__reactRouterVersion="7.9.5")}catch{}function C0({basename:s,children:r,window:o}){let c=g.useRef();c.current==null&&(c.current=cy({window:o,v5Compat:!0}));let u=c.current,[f,h]=g.useState({action:u.action,location:u.location}),b=g.useCallback(y=>{g.startTransition(()=>h(y))},[h]);return g.useLayoutEffect(()=>u.listen(b),[u,b]),g.createElement(t0,{basename:s,children:r,location:f.location,navigationType:f.action,navigator:u})}var lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=g.forwardRef(function({onClick:r,discover:o="render",prefetch:c="none",relative:u,reloadDocument:f,replace:h,state:b,target:y,to:p,preventScrollReset:v,viewTransition:x,...w},C){let{basename:S}=g.useContext(xn),N=typeof p=="string"&&lp.test(p),j,T=!1;if(typeof p=="string"&&N&&(j=p,ap))try{let ee=new URL(window.location.href),Z=p.startsWith("//")?new URL(ee.protocol+p):new URL(p),H=Xn(Z.pathname,S);Z.origin===ee.origin&&H!=null?p=H+Z.search+Z.hash:T=!0}catch{dn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=My(p,{relative:u}),[D,z,E]=j0(c,w),q=A0(p,{replace:h,state:b,target:y,preventScrollReset:v,relative:u,viewTransition:x});function B(ee){r&&r(ee),ee.defaultPrevented||q(ee)}let W=g.createElement("a",{...w,...E,href:j||M,onClick:T||f?r:B,ref:N0(C,z),target:y,"data-discover":!N&&o==="render"?"true":void 0});return D&&!N?g.createElement(g.Fragment,null,W,g.createElement(S0,{page:M})):W});Ge.displayName="Link";var T0=g.forwardRef(function({"aria-current":r="page",caseSensitive:o=!1,className:c="",end:u=!1,style:f,to:h,viewTransition:b,children:y,...p},v){let x=Bs(h,{relative:p.relative}),w=yn(),C=g.useContext(mr),{navigator:S,basename:N}=g.useContext(xn),j=C!=null&&M0(x)&&b===!0,T=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,M=w.pathname,D=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;o||(M=M.toLowerCase(),D=D?D.toLowerCase():null,T=T.toLowerCase()),D&&N&&(D=Xn(D,N)||D);const z=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let E=M===T||!u&&M.startsWith(T)&&M.charAt(z)==="/",q=D!=null&&(D===T||!u&&D.startsWith(T)&&D.charAt(T.length)==="/"),B={isActive:E,isPending:q,isTransitioning:j},W=E?r:void 0,ee;typeof c=="function"?ee=c(B):ee=[c,E?"active":null,q?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let Z=typeof f=="function"?f(B):f;return g.createElement(Ge,{...p,"aria-current":W,className:ee,ref:v,style:Z,to:h,viewTransition:b},typeof y=="function"?y(B):y)});T0.displayName="NavLink";var R0=g.forwardRef(({discover:s="render",fetcherKey:r,navigate:o,reloadDocument:c,replace:u,state:f,method:h=ir,action:b,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:x,...w},C)=>{let S=B0(),N=O0(b,{relative:p}),j=h.toLowerCase()==="get"?"get":"post",T=typeof b=="string"&&lp.test(b),M=D=>{if(y&&y(D),D.defaultPrevented)return;D.preventDefault();let z=D.nativeEvent.submitter,E=z?.getAttribute("formmethod")||h;S(z||D.currentTarget,{fetcherKey:r,method:E,navigate:o,replace:u,state:f,relative:p,preventScrollReset:v,viewTransition:x})};return g.createElement("form",{ref:C,method:j,action:N,onSubmit:c?y:M,...w,"data-discover":!T&&s==="render"?"true":void 0})});R0.displayName="Form";function E0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sp(s){let r=g.useContext(kl);return nt(r,E0(s)),r}function A0(s,{target:r,replace:o,state:c,preventScrollReset:u,relative:f,viewTransition:h}={}){let b=bn(),y=yn(),p=Bs(s,{relative:f});return g.useCallback(v=>{if(r0(v,r)){v.preventDefault();let x=o!==void 0?o:ks(y)===ks(p);b(s,{replace:x,state:c,preventScrollReset:u,relative:f,viewTransition:h})}},[y,b,p,o,c,r,s,u,f,h])}function z0(s){dn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=g.useRef(Zc(s)),o=g.useRef(!1),c=yn(),u=g.useMemo(()=>o0(c.search,o.current?null:r.current),[c.search]),f=bn(),h=g.useCallback((b,y)=>{const p=Zc(typeof b=="function"?b(new URLSearchParams(u)):b);o.current=!0,f("?"+p,y)},[f,u]);return[u,h]}var k0=0,D0=()=>`__${String(++k0)}__`;function B0(){let{router:s}=sp("useSubmit"),{basename:r}=g.useContext(xn),o=Zy();return g.useCallback(async(c,u={})=>{let{action:f,method:h,encType:b,formData:y,body:p}=u0(c,r);if(u.navigate===!1){let v=u.fetcherKey||D0();await s.fetch(v,o,u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||h,formEncType:u.encType||b,flushSync:u.flushSync})}else await s.navigate(u.action||f,{preventScrollReset:u.preventScrollReset,formData:y,body:p,formMethod:u.method||h,formEncType:u.encType||b,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,r,o])}function O0(s,{relative:r}={}){let{basename:o}=g.useContext(xn),c=g.useContext(un);nt(c,"useFormAction must be used inside a RouteContext");let[u]=c.matches.slice(-1),f={...Bs(s||".",{relative:r})},h=yn();if(s==null){f.search=h.search;let b=new URLSearchParams(f.search),y=b.getAll("index");if(y.some(v=>v==="")){b.delete("index"),y.filter(x=>x).forEach(x=>b.append("index",x));let v=b.toString();f.search=v?`?${v}`:""}}return(!s||s===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(f.pathname=f.pathname==="/"?o:Pn([o,f.pathname])),ks(f)}function M0(s,{relative:r}={}){let o=g.useContext(Zh);nt(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=sp("useViewTransitionState"),u=Bs(s,{relative:r});if(!o.isTransitioning)return!1;let f=Xn(o.currentLocation.pathname,c)||o.currentLocation.pathname,h=Xn(o.nextLocation.pathname,c)||o.nextLocation.pathname;return ur(u.pathname,h)!=null||ur(u.pathname,f)!=null}const Vc="photolytics_auth_token",Gc="photolytics_user_email",Qc="photolytics_user_domain",ar="photolytics_token_timestamp",Ch=24,U0="https://facerecognition.mpanel.app",Zt={getToken(){const s=localStorage.getItem(Vc);return s?this.isTokenExpired()?(this.clearToken(),null):s:null},saveToken(s,r,o=null){localStorage.setItem(Vc,s),localStorage.setItem(Gc,r),localStorage.setItem(ar,Date.now().toString()),o&&localStorage.setItem(Qc,o)},clearToken(){localStorage.removeItem(Vc),localStorage.removeItem(Gc),localStorage.removeItem(Qc),localStorage.removeItem(ar)},isTokenExpired(){const s=localStorage.getItem(ar);if(!s)return!0;const r=Date.now()-parseInt(s,10),o=Ch*60*60*1e3;return r>o},getTokenTimeRemaining(){const s=localStorage.getItem(ar);if(!s)return 0;const r=Date.now()-parseInt(s,10),c=Ch*60*60*1e3-r;return Math.max(0,Math.floor(c/(60*1e3)))},isAuthenticated(){return!!this.getToken()&&!this.isTokenExpired()},getEmail(){return localStorage.getItem(Gc)},getDomain(){return localStorage.getItem(Qc)||"serbia"},async login(s){try{const r=await fetch(`${U0}/api/auth/token-by-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const o=await r.json();if(o.success)return Array.isArray(o.data)?{success:!0,multiDomain:!0,domains:o.data}:(this.saveToken(o.data.token,o.data.email),{success:!0,multiDomain:!1,token:o.data.token,email:o.data.email});throw new Error(o.error||"Login failed")}catch(r){throw console.error("Login error:",r),r}},selectDomain(s){return this.saveToken(s.token,s.email,s.domain),{success:!0,token:s.token,email:s.email,domain:s.domain}}},ip=g.createContext(null);function L0({children:s}){const[r,o]=g.useState(null),[c,u]=g.useState(!0);g.useEffect(()=>{const y=Zt.getToken(),p=Zt.getEmail(),v=Zt.getDomain();y&&p&&o({email:p,token:y,domain:v}),u(!1);const x=w=>{w.key==="photolytics_auth_token"&&!w.newValue&&o(null)};return window.addEventListener("storage",x),()=>window.removeEventListener("storage",x)},[]);const f=async y=>{const p=await Zt.login(y);if(!p.multiDomain){const v={email:Zt.getEmail(),token:Zt.getToken(),domain:Zt.getDomain()};return o(v),{success:!0,user:v}}return p},h=y=>{Zt.selectDomain(y),o({email:y.email,token:y.token,domain:y.domain})},b=()=>{Zt.clearToken(),o(null)};return n.jsx(ip.Provider,{value:{user:r,loading:c,isAuthenticated:!!r,login:f,selectDomain:h,logout:b},children:s})}function Wn(){const s=g.useContext(ip);if(!s)throw new Error("useAuth must be used within AuthProvider");return s}const rp=g.createContext();function q0({children:s}){const[r,o]=g.useState(()=>{const u=localStorage.getItem("training_ui_theme");return u||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});g.useEffect(()=>{document.documentElement.setAttribute("data-theme",r),localStorage.setItem("training_ui_theme",r)},[r]);const c=()=>{o(u=>u==="light"?"dark":"light")};return n.jsx(rp.Provider,{value:{theme:r,toggleTheme:c},children:s})}function H0(){const s=g.useContext(rp);if(!s)throw new Error("useTheme must be used within ThemeProvider");return s}const op=g.createContext();function F0({children:s}){const[r,o]=g.useState(!1),[c,u]=g.useState(null),[f,h]=g.useState(!1),[b,y]=g.useState(0),p=j=>{u(j),o(!0)},v=()=>{o(!1),u(null)},x=()=>{h(!0),y(0)},w=()=>{y(j=>j+1)},C=()=>{y(j=>Math.max(0,j-1))},S=()=>{h(!1),y(0),localStorage.setItem("tutorial_completed","true")},N=()=>!localStorage.getItem("tutorial_completed");return n.jsx(op.Provider,{value:{helpModalOpen:r,currentHelpPage:c,tutorialActive:f,tutorialStep:b,openHelp:p,closeHelp:v,startTutorial:x,nextTutorialStep:w,previousTutorialStep:C,endTutorial:S,shouldShowTutorial:N},children:s})}function pr(){const s=g.useContext(op);if(!s)throw new Error("useHelp must be used within HelpProvider");return s}function V0({children:s}){const{isAuthenticated:r,loading:o}=Wn(),c=bn();return g.useEffect(()=>{!o&&!r&&c("/login",{replace:!0})},[r,o,c]),o?n.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:n.jsx("p",{children:"Loading..."})}):r?s:null}function G0(){const{user:s,logout:r}=Wn(),{theme:o,toggleTheme:c}=H0(),u=bn(),[f,h]=g.useState(!1),[b,y]=g.useState(!1),p=()=>{r(),u("/login",{replace:!0})};return n.jsxs("div",{className:"app-layout",children:[n.jsxs("nav",{className:"sidebar",children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsx("h2",{children:"Training UI"}),n.jsx("p",{className:"user-email",children:s?.email})]}),n.jsxs("ul",{className:"nav-menu",children:[n.jsx("li",{children:n.jsxs(Ge,{to:"/dashboard",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Dashboard"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/gallery",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Image Gallery"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/rejected-faces",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Rejected Faces"]})}),n.jsxs("li",{children:[n.jsxs("div",{className:"nav-link nav-section-toggle",onClick:()=>y(!b),style:{cursor:"pointer"},children:[n.jsx("span",{className:"nav-icon",children:""}),"Video Recognition",n.jsx("span",{style:{marginLeft:"auto",fontSize:"0.8rem"},children:b?"":""})]}),b&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsxs(Ge,{to:"/video-recognition/upload",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Upload Video"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/video-recognition/results",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Recognition Results"]})})]})]}),n.jsx("li",{children:n.jsxs(Ge,{to:"/storage-management",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Storage Management"]})}),n.jsxs("li",{children:[n.jsxs("div",{className:"nav-link nav-section-toggle",onClick:()=>h(!f),style:{cursor:"pointer"},children:[n.jsx("span",{className:"nav-icon",children:""}),"Training",n.jsx("span",{style:{marginLeft:"auto",fontSize:"0.8rem"},children:f?"":""})]}),f&&n.jsxs("ul",{className:"nav-submenu",children:[n.jsx("li",{children:n.jsxs(Ge,{to:"/training",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Dashboard"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/generate",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Discover People"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/queue",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Training Queue"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/batch",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Batch Training"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/batches",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Active Batches"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/review",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Review & Deploy"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/benchmarks",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Benchmarks"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/merge-candidates",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Merge Candidates"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/manual-merge",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Manual Merge"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/discovery",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Celebrity Discovery"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/history",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"History"]})}),n.jsx("li",{children:n.jsxs(Ge,{to:"/training/failed",className:"nav-link nav-sublink",children:[n.jsx("span",{className:"nav-icon",children:""}),"Failed Queue"]})})]})]})]}),n.jsxs("div",{className:"sidebar-footer",children:[n.jsxs("a",{href:"/",className:"nav-link",children:[n.jsx("span",{className:"nav-icon",children:""}),"Main App"]}),n.jsxs("button",{onClick:p,className:"btn btn-logout",children:[n.jsx("span",{className:"nav-icon",children:""}),"Logout"]})]})]}),n.jsx("main",{className:"main-content",children:n.jsx("div",{className:"main-page-content",children:n.jsx(e0,{})})})]})}const Q0={dashboard:{title:"Dashboard",sections:[{heading:"Overview",content:"The Dashboard provides a quick overview of your training system status, including queue statistics, recent activity, and system health."},{heading:"Key Metrics",content:"Monitor total people trained, pending items in queue, active training sessions, and completion rates."},{heading:"Quick Actions",content:"Use the dashboard to quickly navigate to different sections like generating new training names, managing the queue, or monitoring progress."}]},generate:{title:"Generate Names",sections:[{heading:"What is This?",content:"This page allows you to manually add people to the training queue by entering their names."},{heading:"How to Use",content:`Enter a person's name in the input field and click "Add to Queue". The system will process the name and prepare it for training.`},{heading:"Best Practices",content:"Use full names for better results. Check the queue manager to verify entries before processing."}]},queue:{title:"Queue Manager",sections:[{heading:"Managing Your Queue",content:"View all pending training requests in the queue. You can reorder, remove, or modify entries before processing."},{heading:"Queue Actions",content:"Click on any entry to edit details. Use drag-and-drop to reorder priorities. Remove entries that are no longer needed."},{heading:"Processing",content:"When ready, start processing the queue. The system will handle entries in order from top to bottom."}]},progress:{title:"Progress Monitor",sections:[{heading:"Real-Time Monitoring",content:"Track active training sessions in real-time. See download progress, validation status, and completion rates."},{heading:"Status Indicators",content:"Green = Completed, Blue = Processing, Yellow = Pending, Red = Failed. Click on any entry for detailed logs."},{heading:"Troubleshooting",content:"If training fails, check the error message. Common issues include insufficient images or network problems."}]},gallery:{title:"Image Gallery",sections:[{heading:"Browse Training Images",content:"View all images collected during the training process. Filter by person, quality, or validation status."},{heading:"Quality Control",content:"Mark images as approved or rejected. Only high-quality face images should be kept for training."},{heading:"Bulk Actions",content:"Select multiple images to delete, move, or re-validate in batch operations."}]},sync:{title:"Sync Manager",sections:[{heading:"Database Synchronization",content:"Keep your training database in sync with the production environment. Push updates or pull latest changes."},{heading:"Sync Operations",content:"Pull: Get latest data from production. Push: Send your changes to production. Always backup before major operations."},{heading:"Conflict Resolution",content:"If conflicts arise, review changes carefully. The system will show differences and let you choose which version to keep."}]},testing:{title:"Testing",sections:[{heading:"Model Testing",content:"Test the trained face recognition model by uploading sample images. See recognition results and confidence scores."},{heading:"Upload Test Images",content:"Upload clear face photos to test recognition accuracy. The system will identify the person and show confidence level."},{heading:"Interpreting Results",content:"Confidence above 80% is generally reliable. Below 60% may indicate the person is not in the database or image quality is poor."}]},"ab-testing-live":{title:"A/B Testing - Live Comparison",sections:[{heading:"Compare Models",content:"Upload images to compare two different face recognition models (Model A vs Model B) side-by-side."},{heading:"Running Tests",content:'Upload test images, select both models, and click "Run Comparison". Results show which model performs better.'},{heading:"Analyzing Results",content:"Compare accuracy, confidence scores, and processing time. Use these insights to determine which model to deploy."}]},"ab-testing-metrics":{title:"A/B Testing - Metrics Dashboard",sections:[{heading:"Performance Metrics",content:"View comprehensive metrics for your A/B tests including accuracy rates, average confidence, and processing times."},{heading:"Key Metrics",content:"Accuracy Rate: Percentage of correct identifications. Confidence: Average confidence scores. Speed: Processing time per image."},{heading:"Trend Analysis",content:"Charts show performance trends over time. Look for consistent improvements or degradation in model performance."}]},"ab-testing-decision":{title:"A/B Testing - Decision Support",sections:[{heading:"Statistical Analysis",content:"Get data-driven recommendations on which model to deploy based on statistical significance and performance metrics."},{heading:"Decision Criteria",content:"The system evaluates accuracy, confidence, speed, and consistency. Recommendations are based on predefined thresholds."},{heading:"Making Decisions",content:"Review recommendations carefully. Consider business requirements alongside statistical analysis before deploying."}]},"ab-testing-history":{title:"A/B Testing - Test History",sections:[{heading:"Historical Tests",content:"Browse all previous A/B tests with complete results, metrics, and decisions made."},{heading:"Learning from History",content:"Review past tests to understand model evolution. Identify patterns in what works and what doesn't."},{heading:"Reproducing Tests",content:"Click on any historical test to view full details. You can re-run similar tests with updated models."}]},"automated-generate":{title:"Automated Training - Generate Candidates",sections:[{heading:"Wikidata Integration",content:"Automatically find celebrities from Wikipedia/Wikidata based on country and occupation. This is FREE and uses real public data."},{heading:"How It Works",content:'1. Select a country and occupation. 2. Click "Generate from Wikidata". 3. Review the list of candidates. 4. Select people to train. 5. Start training.'},{heading:"New vs Existing",content:'Green "NEW" badge = Not in database yet. Gray "EXISTS" badge = Already in database. New people are auto-selected for training.'},{heading:"Batch Training",content:"Select multiple people and train them in one batch. The system downloads images from Google and validates them automatically."}]},"automated-batch":{title:"Automated Training - Batch Progress",sections:[{heading:"Real-Time Progress",content:"Monitor your batch training in real-time. The page auto-refreshes every 3 seconds to show current status."},{heading:"Status Icons",content:" Pending,  Processing,  Completed,  Failed. Each person has separate download and validation progress bars."},{heading:"Download & Validation",content:"First, images are downloaded from Google using SERP API. Then, DeepFace validates each image for face quality and detection."},{heading:"Canceling Batches",content:'Click "Cancel Batch" to stop processing. Already-completed people will remain in staging.'},{heading:"After Completion",content:"When batch finishes, you're auto-redirected to Review & Deploy page. People with 5 valid photos are ready for production."}]},"automated-review":{title:"Automated Training - Review & Deploy",sections:[{heading:"Staging Area",content:"Review all trained people in the staging area. Only people with 5 valid photos can be deployed to production."},{heading:"Ready vs Not Ready",content:"Green section = Ready for production (5 photos). Yellow section = Not ready (<5 photos, will be auto-deleted)."},{heading:"Deployment",content:`Select people to deploy and click "Deploy to Production". They'll be moved from trainingPassSerbia to recognized_faces_prod.`},{heading:"Photo Requirements",content:"Minimum 5 valid photos required for production. More photos = better recognition accuracy. Low-quality photos are automatically filtered out."},{heading:"Automatic Cleanup",content:"People with <5 photos are automatically deleted from staging. They won't waste storage space."}]},"training-workflow":{title:"Training Workflow",sections:[{heading:"Complete Pipeline",content:"The unified Training Workflow combines three steps into one page: Generate Names  Process Queue  Monitor Progress. This eliminates page navigation and shows the entire pipeline at once."},{heading:"Step 1: Generate Names",content:"AI generates ~50 celebrity names for the selected country. This takes 30-60 seconds. Generated names are automatically added to the processing queue."},{heading:"Step 2: Process Queue",content:'"Process Next" downloads images for one person (5-15s). "Process All" processes the entire queue sequentially. Background validation runs automatically after download.'},{heading:"Step 3: Monitor Progress",content:"Real-time monitoring shows all training folders with image counts and readiness status. Auto-updates every 15 seconds. Minimum 20 images recommended per person, 40+ is optimal."},{heading:"Status Indicators",content:"Empty (0 images), Insufficient (<20), Adequate (20-39), Ready (40+). Ready status means optimal for high-quality training."},{heading:"Workflow Tips",content:"Start by generating names, then process them one-by-one or in batch. Monitor progress in real-time on the right side. The progress monitor automatically refreshes as you process."}]},"queue-management":{title:"Queue Management",sections:[{heading:"What is Queue Management?",content:"View and manage all celebrity names that were generated by AI and are waiting to be processed. This page shows you exactly what's in the queue before images are downloaded."},{heading:"Queue Overview",content:"See total names in queue, how many have been processed, how many remain, and how many different categories (Actor, Musician, etc.) are included. The queue is grouped by occupation/category for easy navigation."},{heading:"Removing Names",content:`Click the "Remove" button next to any name to delete it from the queue. This is useful if you don't want to train on certain celebrities or if duplicates were generated. Removal is immediate and cannot be undone.`},{heading:"Auto-Refresh",content:"The queue automatically refreshes every 30 seconds to show the latest data. You can pause/resume auto-refresh using the toggle button, or manually refresh at any time."},{heading:"Workflow Integration",content:'Names are added to this queue when you use "Generate Names" in Training Workflow. When you click "Process Next" or "Process All" in Training Workflow, names are taken from this queue and images are downloaded.'},{heading:"Categories Display",content:"Queue entries are grouped by their occupation/category (Actor, Musician, Athlete, etc.). Each category section shows how many people are in that category. This helps you see the distribution of your training data."},{heading:"Best Practices",content:"Review the queue before processing to ensure quality. Remove any unwanted names early to save processing time. Check that you have a good mix of categories. Empty queue means you need to generate more names in Training Workflow."}]},"video-recognition":{title:"Video Face Recognition",sections:[{heading:"What is This?",content:"Upload videos to automatically extract frames and recognize faces in each frame. Perfect for analyzing video footage, surveillance videos, or batch processing multiple faces at once."},{heading:"How It Works",content:'1. Upload a video file (MP4, AVI, MOV, MKV, WebM, FLV, or WMV). 2. Configure frame extraction interval (default: 3 seconds). 3. Select recognition domain (Serbia, Croatia, Bosnia). 4. Click "Upload and Process". 5. Wait for processing to complete. 6. View results with statistics and frame-by-frame recognition.'},{heading:"Frame Extraction Interval",content:"The interval determines how often frames are extracted from the video. Lower interval = more frames = longer processing time. Default is 3 seconds (1 frame every 3 seconds). Range: 0.1 to 60 seconds."},{heading:"Processing Time",content:"Processing is done asynchronously in the background. A 30-second video with 3-second interval extracts ~10 frames. Processing typically takes 1-3 minutes depending on video length and frame count."},{heading:"Results Overview",content:"After processing, you'll see: 1. Recognition Statistics (total frames, recognized frames, recognition rate, unique persons). 2. System Performance (processing time, FPS, CPU usage, memory usage). 3. Frame-by-Frame Results (timestamp, person identified, confidence level)."},{heading:"Recognition Rate",content:"Recognition Rate = (Recognized Frames / Total Frames)  100%. Green (70%) = Excellent, Yellow (40-69%) = Moderate, Red (<40%) = Poor. Low rates may indicate poor video quality or unknown persons."},{heading:"File Requirements",content:"Maximum file size: 100 MB. Supported formats: MP4, AVI, MOV, MKV, WebM, FLV, WMV. Videos must contain visible faces for recognition to work."},{heading:"Best Practices",content:"Use high-quality videos with clear face visibility. Set appropriate interval (shorter for fast-moving videos). Choose the correct recognition domain for your use case. Review frame-by-frame results to identify any issues."}]}};function Y0(){const{helpModalOpen:s,currentHelpPage:r,closeHelp:o}=pr();if(!s||!r)return null;const c=Q0[r];return c?n.jsx("div",{className:"help-modal-overlay",onClick:o,children:n.jsxs("div",{className:"help-modal",onClick:u=>u.stopPropagation(),children:[n.jsxs("div",{className:"help-modal-header",children:[n.jsxs("h2",{children:[c.title," - Help"]}),n.jsx("button",{className:"help-modal-close",onClick:o,children:""})]}),n.jsx("div",{className:"help-modal-content",children:c.sections.map((u,f)=>n.jsxs("div",{className:"help-section",children:[n.jsx("h3",{children:u.heading}),n.jsx("p",{children:u.content})]},f))}),n.jsx("div",{className:"help-modal-footer",children:n.jsx("button",{className:"btn btn-primary",onClick:o,children:"Got it!"})})]})}):null}const lr=[{title:"Welcome to Training UI!",content:"This interactive tutorial will guide you through the main features of the application. You can skip this tutorial at any time.",image:"",route:"/dashboard"},{title:"Dashboard Overview",content:"The Dashboard shows your training system status, including queue statistics and recent activity. It's your home base for monitoring everything.",image:"",route:"/dashboard",target:'a[href="/dashboard"]',arrowPosition:"right"},{title:"Sidebar Navigation",content:"Use the sidebar to navigate between different sections. The main training pages are at the top.",image:"",route:"/dashboard",target:".sidebar",arrowPosition:"right"},{title:"Training Workflow",content:'Add people to train manually via "Generate Names" or use AI-powered Automated Training to find celebrities from Wikipedia/Wikidata automatically. The workflow is semi-automated and uses AI to increase speed!',image:"",route:"/dashboard",target:'a[href="/generate"]',arrowPosition:"right"},{title:"A/B Testing",content:"Compare different face recognition models side-by-side. Find it in the A/B Testing section of the sidebar.",image:"",route:"/dashboard",target:".nav-section-toggle",arrowPosition:"right"},{title:"Video Recognition (NEW!)",content:"Upload videos to automatically extract frames and recognize faces in each frame. Perfect for analyzing video footage!",image:"",route:"/dashboard",target:'a[href="/video-recognition"]',arrowPosition:"right"},{title:"Getting Help",content:"See the blue ? button? Click it on any page to get detailed help. Hover over UI elements for quick tips.",image:"",route:"/dashboard",target:".help-button",arrowPosition:"left"},{title:"Ready to Start!",content:"You're all set! Explore the application at your own pace. Remember, you can always click the ? button for help on any page.",image:"",route:"/dashboard"}];function P0(){const s=bn(),r=yn(),{tutorialActive:o,tutorialStep:c,nextTutorialStep:u,previousTutorialStep:f,endTutorial:h}=pr(),[b,y]=g.useState(null),[p,v]=g.useState(null),x=lr[c],w=c===lr.length-1,C=c===0,S=g.useCallback(()=>{if(!x?.target){y(null),v(null);return}setTimeout(()=>{let j=document.querySelector(x.target);if(!j&&x.fallbackTarget&&(j=document.querySelector(x.fallbackTarget)),j){const T=j.getBoundingClientRect();y(j),v({top:T.top,left:T.left,width:T.width,height:T.height})}else y(null),v(null)},300)},[x]);if(g.useEffect(()=>{x?.route&&o&&r.pathname!==x.route&&s(x.route)},[c,x,o,s,r.pathname]),g.useEffect(()=>{if(o)return S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[o,c,S]),!o)return null;const N=()=>{if(!p)return{};const j=600,T=window.innerHeight,M=window.innerWidth;let D="50%",z="50%",E="translate(-50%, -50%)";return p&&(p.left<M/2?(z="auto",E="translateY(-50%)",M-(p.left+p.width+40)>j?z=`${p.left+p.width+40}px`:(z="60%",E="translate(-50%, -50%)")):p.top<T/3?(D="auto",bottom="5%",E="translateX(-50%)"):p.top>T*2/3&&(D="20%",E="translate(-50%, 0)")),{top:D,left:z,transform:E,bottom:void 0}};return n.jsx(n.Fragment,{children:n.jsxs("div",{className:"tutorial-spotlight-overlay",children:[p&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"tutorial-spotlight-highlight",style:{top:`${p.top-8}px`,left:`${p.left-8}px`,width:`${p.width+16}px`,height:`${p.height+16}px`}}),x.arrowPosition&&n.jsxs("div",{className:`tutorial-arrow tutorial-arrow-${x.arrowPosition}`,style:{top:`${x.arrowPosition==="top"?p.top-40:x.arrowPosition==="bottom"?p.top+p.height+20:p.top+p.height/2-20}px`,left:`${x.arrowPosition==="left"?p.left-60:x.arrowPosition==="right"?p.left+p.width+20:p.left+p.width/2-20}px`},children:[x.arrowPosition==="left"&&"",x.arrowPosition==="right"&&"",x.arrowPosition==="top"&&"",x.arrowPosition==="bottom"&&""]})]}),n.jsxs("div",{className:"tutorial-modal",style:N(),children:[n.jsxs("div",{className:"tutorial-progress",children:[n.jsx("div",{className:"tutorial-progress-bar",children:n.jsx("div",{className:"tutorial-progress-fill",style:{width:`${(c+1)/lr.length*100}%`}})}),n.jsxs("span",{className:"tutorial-progress-text",children:["Step ",c+1," of ",lr.length]})]}),n.jsxs("div",{className:"tutorial-content",children:[n.jsx("div",{className:"tutorial-image",children:x.image}),n.jsx("h2",{className:"tutorial-title",children:x.title}),n.jsx("p",{className:"tutorial-text",children:x.content})]}),n.jsxs("div",{className:"tutorial-actions",children:[n.jsx("button",{className:"tutorial-btn tutorial-btn-skip",onClick:h,children:"Skip Tutorial"}),n.jsxs("div",{className:"tutorial-nav",children:[!C&&n.jsx("button",{className:"tutorial-btn tutorial-btn-secondary",onClick:f,children:"Previous"}),w?n.jsx("button",{className:"tutorial-btn tutorial-btn-primary",onClick:h,children:"Get Started!"}):n.jsx("button",{className:"tutorial-btn tutorial-btn-primary",onClick:u,children:"Next"})]})]})]})]})})}function X0(){const{isAuthenticated:s}=Wn(),{shouldShowTutorial:r,startTutorial:o,tutorialActive:c}=pr(),u=yn();return g.useEffect(()=>{if(s&&u.pathname==="/dashboard"&&r()&&!c){const f=setTimeout(()=>{o()},500);return()=>clearTimeout(f)}},[s,u.pathname,r,o,c]),null}function W0(){const[s,r]=g.useState(""),[o,c]=g.useState(!1),[u,f]=g.useState(null),[h,b]=g.useState(null),[y,p]=g.useState(null),{login:v,selectDomain:x}=Wn(),w=bn();g.useEffect(()=>{const N=sessionStorage.getItem("auth_redirect_message");N&&(b(N),sessionStorage.removeItem("auth_redirect_message"),setTimeout(()=>b(null),1e4))},[]);const C=async N=>{N.preventDefault(),f(null),c(!0);try{const j=await v(s);j.multiDomain?p(j.domains):w("/dashboard",{replace:!0})}catch(j){f(j.message||"Login failed. Please try again.")}finally{c(!1)}},S=N=>{x(N),w("/dashboard",{replace:!0})};return y?n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsx("h1",{children:"Select Domain"}),n.jsx("p",{className:"subtitle",children:"Choose which organization to access"}),n.jsx("div",{className:"domain-list",children:y.map((N,j)=>n.jsxs("button",{className:"domain-button",onClick:()=>S(N),children:[n.jsx("span",{className:"domain-name",children:N.domain}),n.jsx("span",{className:"domain-icon",children:""})]},j))})]})}):n.jsx("div",{className:"login-container",children:n.jsxs("div",{className:"login-card",children:[n.jsxs("div",{className:"login-header",children:[n.jsx("h1",{children:"Training UI"}),n.jsx("p",{className:"subtitle",children:"Face Recognition Training Dashboard"})]}),n.jsxs("form",{onSubmit:C,className:"login-form",children:[h&&n.jsxs("div",{className:"alert",style:{backgroundColor:"#fef3c7",color:"#92400e",border:"1px solid #fbbf24",marginBottom:"1rem"},children:[" ",h]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",children:"Email Address"}),n.jsx("input",{id:"email",type:"email",value:s,onChange:N=>r(N.target.value),placeholder:"Enter your email",required:!0,disabled:o,className:"form-input"})]}),u&&n.jsx("div",{className:"alert alert-error",children:u}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?"Loading...":"Get Access Token"})]}),n.jsx("div",{className:"login-footer",children:n.jsx("a",{href:"/",className:"link",children:" Back to Main App"})})]})})}function cp(s,r){return function(){return s.apply(r,arguments)}}const{toString:$0}=Object.prototype,{getPrototypeOf:dd}=Object,{iterator:gr,toStringTag:dp}=Symbol,xr=(s=>r=>{const o=$0.call(r);return s[o]||(s[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),vn=s=>(s=s.toLowerCase(),r=>xr(r)===s),yr=s=>r=>typeof r===s,{isArray:Bl}=Array,Al=yr("undefined");function Os(s){return s!==null&&!Al(s)&&s.constructor!==null&&!Al(s.constructor)&&Lt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const up=vn("ArrayBuffer");function Z0(s){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(s):r=s&&s.buffer&&up(s.buffer),r}const K0=yr("string"),Lt=yr("function"),fp=yr("number"),Ms=s=>s!==null&&typeof s=="object",J0=s=>s===!0||s===!1,or=s=>{if(xr(s)!=="object")return!1;const r=dd(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(dp in s)&&!(gr in s)},I0=s=>{if(!Ms(s)||Os(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},eb=vn("Date"),tb=vn("File"),nb=vn("Blob"),ab=vn("FileList"),lb=s=>Ms(s)&&Lt(s.pipe),sb=s=>{let r;return s&&(typeof FormData=="function"&&s instanceof FormData||Lt(s.append)&&((r=xr(s))==="formdata"||r==="object"&&Lt(s.toString)&&s.toString()==="[object FormData]"))},ib=vn("URLSearchParams"),[rb,ob,cb,db]=["ReadableStream","Request","Response","Headers"].map(vn),ub=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Us(s,r,{allOwnKeys:o=!1}={}){if(s===null||typeof s>"u")return;let c,u;if(typeof s!="object"&&(s=[s]),Bl(s))for(c=0,u=s.length;c<u;c++)r.call(null,s[c],c,s);else{if(Os(s))return;const f=o?Object.getOwnPropertyNames(s):Object.keys(s),h=f.length;let b;for(c=0;c<h;c++)b=f[c],r.call(null,s[b],b,s)}}function mp(s,r){if(Os(s))return null;r=r.toLowerCase();const o=Object.keys(s);let c=o.length,u;for(;c-- >0;)if(u=o[c],r===u.toLowerCase())return u;return null}const qa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hp=s=>!Al(s)&&s!==qa;function Kc(){const{caseless:s,skipUndefined:r}=hp(this)&&this||{},o={},c=(u,f)=>{const h=s&&mp(o,f)||f;or(o[h])&&or(u)?o[h]=Kc(o[h],u):or(u)?o[h]=Kc({},u):Bl(u)?o[h]=u.slice():(!r||!Al(u))&&(o[h]=u)};for(let u=0,f=arguments.length;u<f;u++)arguments[u]&&Us(arguments[u],c);return o}const fb=(s,r,o,{allOwnKeys:c}={})=>(Us(r,(u,f)=>{o&&Lt(u)?s[f]=cp(u,o):s[f]=u},{allOwnKeys:c}),s),mb=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),hb=(s,r,o,c)=>{s.prototype=Object.create(r.prototype,c),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:r.prototype}),o&&Object.assign(s.prototype,o)},pb=(s,r,o,c)=>{let u,f,h;const b={};if(r=r||{},s==null)return r;do{for(u=Object.getOwnPropertyNames(s),f=u.length;f-- >0;)h=u[f],(!c||c(h,s,r))&&!b[h]&&(r[h]=s[h],b[h]=!0);s=o!==!1&&dd(s)}while(s&&(!o||o(s,r))&&s!==Object.prototype);return r},gb=(s,r,o)=>{s=String(s),(o===void 0||o>s.length)&&(o=s.length),o-=r.length;const c=s.indexOf(r,o);return c!==-1&&c===o},xb=s=>{if(!s)return null;if(Bl(s))return s;let r=s.length;if(!fp(r))return null;const o=new Array(r);for(;r-- >0;)o[r]=s[r];return o},yb=(s=>r=>s&&r instanceof s)(typeof Uint8Array<"u"&&dd(Uint8Array)),bb=(s,r)=>{const c=(s&&s[gr]).call(s);let u;for(;(u=c.next())&&!u.done;){const f=u.value;r.call(s,f[0],f[1])}},vb=(s,r)=>{let o;const c=[];for(;(o=s.exec(r))!==null;)c.push(o);return c},jb=vn("HTMLFormElement"),Sb=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,c,u){return c.toUpperCase()+u}),Th=(({hasOwnProperty:s})=>(r,o)=>s.call(r,o))(Object.prototype),_b=vn("RegExp"),pp=(s,r)=>{const o=Object.getOwnPropertyDescriptors(s),c={};Us(o,(u,f)=>{let h;(h=r(u,f,s))!==!1&&(c[f]=h||u)}),Object.defineProperties(s,c)},wb=s=>{pp(s,(r,o)=>{if(Lt(s)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const c=s[o];if(Lt(c)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},Nb=(s,r)=>{const o={},c=u=>{u.forEach(f=>{o[f]=!0})};return Bl(s)?c(s):c(String(s).split(r)),o},Cb=()=>{},Tb=(s,r)=>s!=null&&Number.isFinite(s=+s)?s:r;function Rb(s){return!!(s&&Lt(s.append)&&s[dp]==="FormData"&&s[gr])}const Eb=s=>{const r=new Array(10),o=(c,u)=>{if(Ms(c)){if(r.indexOf(c)>=0)return;if(Os(c))return c;if(!("toJSON"in c)){r[u]=c;const f=Bl(c)?[]:{};return Us(c,(h,b)=>{const y=o(h,u+1);!Al(y)&&(f[b]=y)}),r[u]=void 0,f}}return c};return o(s,0)},Ab=vn("AsyncFunction"),zb=s=>s&&(Ms(s)||Lt(s))&&Lt(s.then)&&Lt(s.catch),gp=((s,r)=>s?setImmediate:r?((o,c)=>(qa.addEventListener("message",({source:u,data:f})=>{u===qa&&f===o&&c.length&&c.shift()()},!1),u=>{c.push(u),qa.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",Lt(qa.postMessage)),kb=typeof queueMicrotask<"u"?queueMicrotask.bind(qa):typeof process<"u"&&process.nextTick||gp,Db=s=>s!=null&&Lt(s[gr]),P={isArray:Bl,isArrayBuffer:up,isBuffer:Os,isFormData:sb,isArrayBufferView:Z0,isString:K0,isNumber:fp,isBoolean:J0,isObject:Ms,isPlainObject:or,isEmptyObject:I0,isReadableStream:rb,isRequest:ob,isResponse:cb,isHeaders:db,isUndefined:Al,isDate:eb,isFile:tb,isBlob:nb,isRegExp:_b,isFunction:Lt,isStream:lb,isURLSearchParams:ib,isTypedArray:yb,isFileList:ab,forEach:Us,merge:Kc,extend:fb,trim:ub,stripBOM:mb,inherits:hb,toFlatObject:pb,kindOf:xr,kindOfTest:vn,endsWith:gb,toArray:xb,forEachEntry:bb,matchAll:vb,isHTMLForm:jb,hasOwnProperty:Th,hasOwnProp:Th,reduceDescriptors:pp,freezeMethods:wb,toObjectSet:Nb,toCamelCase:Sb,noop:Cb,toFiniteNumber:Tb,findKey:mp,global:qa,isContextDefined:hp,isSpecCompliantForm:Rb,toJSONObject:Eb,isAsyncFn:Ab,isThenable:zb,setImmediate:gp,asap:kb,isIterable:Db};function Te(s,r,o,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",r&&(this.code=r),o&&(this.config=o),c&&(this.request=c),u&&(this.response=u,this.status=u.status?u.status:null)}P.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const xp=Te.prototype,yp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{yp[s]={value:s}});Object.defineProperties(Te,yp);Object.defineProperty(xp,"isAxiosError",{value:!0});Te.from=(s,r,o,c,u,f)=>{const h=Object.create(xp);P.toFlatObject(s,h,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const b=s&&s.message?s.message:"Error",y=r==null&&s?s.code:r;return Te.call(h,b,y,o,c,u),s&&h.cause==null&&Object.defineProperty(h,"cause",{value:s,configurable:!0}),h.name=s&&s.name||"Error",f&&Object.assign(h,f),h};const Bb=null;function Jc(s){return P.isPlainObject(s)||P.isArray(s)}function bp(s){return P.endsWith(s,"[]")?s.slice(0,-2):s}function Rh(s,r,o){return s?s.concat(r).map(function(u,f){return u=bp(u),!o&&f?"["+u+"]":u}).join(o?".":""):r}function Ob(s){return P.isArray(s)&&!s.some(Jc)}const Mb=P.toFlatObject(P,{},null,function(r){return/^is[A-Z]/.test(r)});function br(s,r,o){if(!P.isObject(s))throw new TypeError("target must be an object");r=r||new FormData,o=P.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!P.isUndefined(j[N])});const c=o.metaTokens,u=o.visitor||v,f=o.dots,h=o.indexes,y=(o.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(r);if(!P.isFunction(u))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(P.isDate(S))return S.toISOString();if(P.isBoolean(S))return S.toString();if(!y&&P.isBlob(S))throw new Te("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(S)||P.isTypedArray(S)?y&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function v(S,N,j){let T=S;if(S&&!j&&typeof S=="object"){if(P.endsWith(N,"{}"))N=c?N:N.slice(0,-2),S=JSON.stringify(S);else if(P.isArray(S)&&Ob(S)||(P.isFileList(S)||P.endsWith(N,"[]"))&&(T=P.toArray(S)))return N=bp(N),T.forEach(function(D,z){!(P.isUndefined(D)||D===null)&&r.append(h===!0?Rh([N],z,f):h===null?N:N+"[]",p(D))}),!1}return Jc(S)?!0:(r.append(Rh(j,N,f),p(S)),!1)}const x=[],w=Object.assign(Mb,{defaultVisitor:v,convertValue:p,isVisitable:Jc});function C(S,N){if(!P.isUndefined(S)){if(x.indexOf(S)!==-1)throw Error("Circular reference detected in "+N.join("."));x.push(S),P.forEach(S,function(T,M){(!(P.isUndefined(T)||T===null)&&u.call(r,T,P.isString(M)?M.trim():M,N,w))===!0&&C(T,N?N.concat(M):[M])}),x.pop()}}if(!P.isObject(s))throw new TypeError("data must be an object");return C(s),r}function Eh(s){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(c){return r[c]})}function ud(s,r){this._pairs=[],s&&br(s,this,r)}const vp=ud.prototype;vp.append=function(r,o){this._pairs.push([r,o])};vp.toString=function(r){const o=r?function(c){return r.call(this,c,Eh)}:Eh;return this._pairs.map(function(u){return o(u[0])+"="+o(u[1])},"").join("&")};function Ub(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jp(s,r,o){if(!r)return s;const c=o&&o.encode||Ub;P.isFunction(o)&&(o={serialize:o});const u=o&&o.serialize;let f;if(u?f=u(r,o):f=P.isURLSearchParams(r)?r.toString():new ud(r,o).toString(c),f){const h=s.indexOf("#");h!==-1&&(s=s.slice(0,h)),s+=(s.indexOf("?")===-1?"?":"&")+f}return s}class Ah{constructor(){this.handlers=[]}use(r,o,c){return this.handlers.push({fulfilled:r,rejected:o,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){P.forEach(this.handlers,function(c){c!==null&&r(c)})}}const Sp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lb=typeof URLSearchParams<"u"?URLSearchParams:ud,qb=typeof FormData<"u"?FormData:null,Hb=typeof Blob<"u"?Blob:null,Fb={isBrowser:!0,classes:{URLSearchParams:Lb,FormData:qb,Blob:Hb},protocols:["http","https","file","blob","url","data"]},fd=typeof window<"u"&&typeof document<"u",Ic=typeof navigator=="object"&&navigator||void 0,Vb=fd&&(!Ic||["ReactNative","NativeScript","NS"].indexOf(Ic.product)<0),Gb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Qb=fd&&window.location.href||"http://localhost",Yb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fd,hasStandardBrowserEnv:Vb,hasStandardBrowserWebWorkerEnv:Gb,navigator:Ic,origin:Qb},Symbol.toStringTag,{value:"Module"})),Ct={...Yb,...Fb};function Pb(s,r){return br(s,new Ct.classes.URLSearchParams,{visitor:function(o,c,u,f){return Ct.isNode&&P.isBuffer(o)?(this.append(c,o.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...r})}function Xb(s){return P.matchAll(/\w+|\[(\w*)]/g,s).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Wb(s){const r={},o=Object.keys(s);let c;const u=o.length;let f;for(c=0;c<u;c++)f=o[c],r[f]=s[f];return r}function _p(s){function r(o,c,u,f){let h=o[f++];if(h==="__proto__")return!0;const b=Number.isFinite(+h),y=f>=o.length;return h=!h&&P.isArray(u)?u.length:h,y?(P.hasOwnProp(u,h)?u[h]=[u[h],c]:u[h]=c,!b):((!u[h]||!P.isObject(u[h]))&&(u[h]=[]),r(o,c,u[h],f)&&P.isArray(u[h])&&(u[h]=Wb(u[h])),!b)}if(P.isFormData(s)&&P.isFunction(s.entries)){const o={};return P.forEachEntry(s,(c,u)=>{r(Xb(c),u,o,0)}),o}return null}function $b(s,r,o){if(P.isString(s))try{return(r||JSON.parse)(s),P.trim(s)}catch(c){if(c.name!=="SyntaxError")throw c}return(o||JSON.stringify)(s)}const Ls={transitional:Sp,adapter:["xhr","http","fetch"],transformRequest:[function(r,o){const c=o.getContentType()||"",u=c.indexOf("application/json")>-1,f=P.isObject(r);if(f&&P.isHTMLForm(r)&&(r=new FormData(r)),P.isFormData(r))return u?JSON.stringify(_p(r)):r;if(P.isArrayBuffer(r)||P.isBuffer(r)||P.isStream(r)||P.isFile(r)||P.isBlob(r)||P.isReadableStream(r))return r;if(P.isArrayBufferView(r))return r.buffer;if(P.isURLSearchParams(r))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let b;if(f){if(c.indexOf("application/x-www-form-urlencoded")>-1)return Pb(r,this.formSerializer).toString();if((b=P.isFileList(r))||c.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return br(b?{"files[]":r}:r,y&&new y,this.formSerializer)}}return f||u?(o.setContentType("application/json",!1),$b(r)):r}],transformResponse:[function(r){const o=this.transitional||Ls.transitional,c=o&&o.forcedJSONParsing,u=this.responseType==="json";if(P.isResponse(r)||P.isReadableStream(r))return r;if(r&&P.isString(r)&&(c&&!this.responseType||u)){const h=!(o&&o.silentJSONParsing)&&u;try{return JSON.parse(r,this.parseReviver)}catch(b){if(h)throw b.name==="SyntaxError"?Te.from(b,Te.ERR_BAD_RESPONSE,this,null,this.response):b}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],s=>{Ls.headers[s]={}});const Zb=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Kb=s=>{const r={};let o,c,u;return s&&s.split(`
`).forEach(function(h){u=h.indexOf(":"),o=h.substring(0,u).trim().toLowerCase(),c=h.substring(u+1).trim(),!(!o||r[o]&&Zb[o])&&(o==="set-cookie"?r[o]?r[o].push(c):r[o]=[c]:r[o]=r[o]?r[o]+", "+c:c)}),r},zh=Symbol("internals");function zs(s){return s&&String(s).trim().toLowerCase()}function cr(s){return s===!1||s==null?s:P.isArray(s)?s.map(cr):String(s)}function Jb(s){const r=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=o.exec(s);)r[c[1]]=c[2];return r}const Ib=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function Yc(s,r,o,c,u){if(P.isFunction(c))return c.call(this,r,o);if(u&&(r=o),!!P.isString(r)){if(P.isString(c))return r.indexOf(c)!==-1;if(P.isRegExp(c))return c.test(r)}}function ev(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,o,c)=>o.toUpperCase()+c)}function tv(s,r){const o=P.toCamelCase(" "+r);["get","set","has"].forEach(c=>{Object.defineProperty(s,c+o,{value:function(u,f,h){return this[c].call(this,r,u,f,h)},configurable:!0})})}let qt=class{constructor(r){r&&this.set(r)}set(r,o,c){const u=this;function f(b,y,p){const v=zs(y);if(!v)throw new Error("header name must be a non-empty string");const x=P.findKey(u,v);(!x||u[x]===void 0||p===!0||p===void 0&&u[x]!==!1)&&(u[x||y]=cr(b))}const h=(b,y)=>P.forEach(b,(p,v)=>f(p,v,y));if(P.isPlainObject(r)||r instanceof this.constructor)h(r,o);else if(P.isString(r)&&(r=r.trim())&&!Ib(r))h(Kb(r),o);else if(P.isObject(r)&&P.isIterable(r)){let b={},y,p;for(const v of r){if(!P.isArray(v))throw TypeError("Object iterator must return a key-value pair");b[p=v[0]]=(y=b[p])?P.isArray(y)?[...y,v[1]]:[y,v[1]]:v[1]}h(b,o)}else r!=null&&f(o,r,c);return this}get(r,o){if(r=zs(r),r){const c=P.findKey(this,r);if(c){const u=this[c];if(!o)return u;if(o===!0)return Jb(u);if(P.isFunction(o))return o.call(this,u,c);if(P.isRegExp(o))return o.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,o){if(r=zs(r),r){const c=P.findKey(this,r);return!!(c&&this[c]!==void 0&&(!o||Yc(this,this[c],c,o)))}return!1}delete(r,o){const c=this;let u=!1;function f(h){if(h=zs(h),h){const b=P.findKey(c,h);b&&(!o||Yc(c,c[b],b,o))&&(delete c[b],u=!0)}}return P.isArray(r)?r.forEach(f):f(r),u}clear(r){const o=Object.keys(this);let c=o.length,u=!1;for(;c--;){const f=o[c];(!r||Yc(this,this[f],f,r,!0))&&(delete this[f],u=!0)}return u}normalize(r){const o=this,c={};return P.forEach(this,(u,f)=>{const h=P.findKey(c,f);if(h){o[h]=cr(u),delete o[f];return}const b=r?ev(f):String(f).trim();b!==f&&delete o[f],o[b]=cr(u),c[b]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const o=Object.create(null);return P.forEach(this,(c,u)=>{c!=null&&c!==!1&&(o[u]=r&&P.isArray(c)?c.join(", "):c)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,o])=>r+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...o){const c=new this(r);return o.forEach(u=>c.set(u)),c}static accessor(r){const c=(this[zh]=this[zh]={accessors:{}}).accessors,u=this.prototype;function f(h){const b=zs(h);c[b]||(tv(u,h),c[b]=!0)}return P.isArray(r)?r.forEach(f):f(r),this}};qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(qt.prototype,({value:s},r)=>{let o=r[0].toUpperCase()+r.slice(1);return{get:()=>s,set(c){this[o]=c}}});P.freezeMethods(qt);function Pc(s,r){const o=this||Ls,c=r||o,u=qt.from(c.headers);let f=c.data;return P.forEach(s,function(b){f=b.call(o,f,u.normalize(),r?r.status:void 0)}),u.normalize(),f}function wp(s){return!!(s&&s.__CANCEL__)}function Ol(s,r,o){Te.call(this,s??"canceled",Te.ERR_CANCELED,r,o),this.name="CanceledError"}P.inherits(Ol,Te,{__CANCEL__:!0});function Np(s,r,o){const c=o.config.validateStatus;!o.status||!c||c(o.status)?s(o):r(new Te("Request failed with status code "+o.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function nv(s){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return r&&r[1]||""}function av(s,r){s=s||10;const o=new Array(s),c=new Array(s);let u=0,f=0,h;return r=r!==void 0?r:1e3,function(y){const p=Date.now(),v=c[f];h||(h=p),o[u]=y,c[u]=p;let x=f,w=0;for(;x!==u;)w+=o[x++],x=x%s;if(u=(u+1)%s,u===f&&(f=(f+1)%s),p-h<r)return;const C=v&&p-v;return C?Math.round(w*1e3/C):void 0}}function lv(s,r){let o=0,c=1e3/r,u,f;const h=(p,v=Date.now())=>{o=v,u=null,f&&(clearTimeout(f),f=null),s(...p)};return[(...p)=>{const v=Date.now(),x=v-o;x>=c?h(p,v):(u=p,f||(f=setTimeout(()=>{f=null,h(u)},c-x)))},()=>u&&h(u)]}const fr=(s,r,o=3)=>{let c=0;const u=av(50,250);return lv(f=>{const h=f.loaded,b=f.lengthComputable?f.total:void 0,y=h-c,p=u(y),v=h<=b;c=h;const x={loaded:h,total:b,progress:b?h/b:void 0,bytes:y,rate:p||void 0,estimated:p&&b&&v?(b-h)/p:void 0,event:f,lengthComputable:b!=null,[r?"download":"upload"]:!0};s(x)},o)},kh=(s,r)=>{const o=s!=null;return[c=>r[0]({lengthComputable:o,total:s,loaded:c}),r[1]]},Dh=s=>(...r)=>P.asap(()=>s(...r)),sv=Ct.hasStandardBrowserEnv?((s,r)=>o=>(o=new URL(o,Ct.origin),s.protocol===o.protocol&&s.host===o.host&&(r||s.port===o.port)))(new URL(Ct.origin),Ct.navigator&&/(msie|trident)/i.test(Ct.navigator.userAgent)):()=>!0,iv=Ct.hasStandardBrowserEnv?{write(s,r,o,c,u,f,h){if(typeof document>"u")return;const b=[`${s}=${encodeURIComponent(r)}`];P.isNumber(o)&&b.push(`expires=${new Date(o).toUTCString()}`),P.isString(c)&&b.push(`path=${c}`),P.isString(u)&&b.push(`domain=${u}`),f===!0&&b.push("secure"),P.isString(h)&&b.push(`SameSite=${h}`),document.cookie=b.join("; ")},read(s){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+s+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(s){this.write(s,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function rv(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function ov(s,r){return r?s.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):s}function Cp(s,r,o){let c=!rv(r);return s&&(c||o==!1)?ov(s,r):r}const Bh=s=>s instanceof qt?{...s}:s;function Fa(s,r){r=r||{};const o={};function c(p,v,x,w){return P.isPlainObject(p)&&P.isPlainObject(v)?P.merge.call({caseless:w},p,v):P.isPlainObject(v)?P.merge({},v):P.isArray(v)?v.slice():v}function u(p,v,x,w){if(P.isUndefined(v)){if(!P.isUndefined(p))return c(void 0,p,x,w)}else return c(p,v,x,w)}function f(p,v){if(!P.isUndefined(v))return c(void 0,v)}function h(p,v){if(P.isUndefined(v)){if(!P.isUndefined(p))return c(void 0,p)}else return c(void 0,v)}function b(p,v,x){if(x in r)return c(p,v);if(x in s)return c(void 0,p)}const y={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:b,headers:(p,v,x)=>u(Bh(p),Bh(v),x,!0)};return P.forEach(Object.keys({...s,...r}),function(v){const x=y[v]||u,w=x(s[v],r[v],v);P.isUndefined(w)&&x!==b||(o[v]=w)}),o}const Tp=s=>{const r=Fa({},s);let{data:o,withXSRFToken:c,xsrfHeaderName:u,xsrfCookieName:f,headers:h,auth:b}=r;if(r.headers=h=qt.from(h),r.url=jp(Cp(r.baseURL,r.url,r.allowAbsoluteUrls),s.params,s.paramsSerializer),b&&h.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):""))),P.isFormData(o)){if(Ct.hasStandardBrowserEnv||Ct.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(P.isFunction(o.getHeaders)){const y=o.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([v,x])=>{p.includes(v.toLowerCase())&&h.set(v,x)})}}if(Ct.hasStandardBrowserEnv&&(c&&P.isFunction(c)&&(c=c(r)),c||c!==!1&&sv(r.url))){const y=u&&f&&iv.read(f);y&&h.set(u,y)}return r},cv=typeof XMLHttpRequest<"u",dv=cv&&function(s){return new Promise(function(o,c){const u=Tp(s);let f=u.data;const h=qt.from(u.headers).normalize();let{responseType:b,onUploadProgress:y,onDownloadProgress:p}=u,v,x,w,C,S;function N(){C&&C(),S&&S(),u.cancelToken&&u.cancelToken.unsubscribe(v),u.signal&&u.signal.removeEventListener("abort",v)}let j=new XMLHttpRequest;j.open(u.method.toUpperCase(),u.url,!0),j.timeout=u.timeout;function T(){if(!j)return;const D=qt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),E={data:!b||b==="text"||b==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:D,config:s,request:j};Np(function(B){o(B),N()},function(B){c(B),N()},E),j=null}"onloadend"in j?j.onloadend=T:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(T)},j.onabort=function(){j&&(c(new Te("Request aborted",Te.ECONNABORTED,s,j)),j=null)},j.onerror=function(z){const E=z&&z.message?z.message:"Network Error",q=new Te(E,Te.ERR_NETWORK,s,j);q.event=z||null,c(q),j=null},j.ontimeout=function(){let z=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const E=u.transitional||Sp;u.timeoutErrorMessage&&(z=u.timeoutErrorMessage),c(new Te(z,E.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,s,j)),j=null},f===void 0&&h.setContentType(null),"setRequestHeader"in j&&P.forEach(h.toJSON(),function(z,E){j.setRequestHeader(E,z)}),P.isUndefined(u.withCredentials)||(j.withCredentials=!!u.withCredentials),b&&b!=="json"&&(j.responseType=u.responseType),p&&([w,S]=fr(p,!0),j.addEventListener("progress",w)),y&&j.upload&&([x,C]=fr(y),j.upload.addEventListener("progress",x),j.upload.addEventListener("loadend",C)),(u.cancelToken||u.signal)&&(v=D=>{j&&(c(!D||D.type?new Ol(null,s,j):D),j.abort(),j=null)},u.cancelToken&&u.cancelToken.subscribe(v),u.signal&&(u.signal.aborted?v():u.signal.addEventListener("abort",v)));const M=nv(u.url);if(M&&Ct.protocols.indexOf(M)===-1){c(new Te("Unsupported protocol "+M+":",Te.ERR_BAD_REQUEST,s));return}j.send(f||null)})},uv=(s,r)=>{const{length:o}=s=s?s.filter(Boolean):[];if(r||o){let c=new AbortController,u;const f=function(p){if(!u){u=!0,b();const v=p instanceof Error?p:this.reason;c.abort(v instanceof Te?v:new Ol(v instanceof Error?v.message:v))}};let h=r&&setTimeout(()=>{h=null,f(new Te(`timeout ${r} of ms exceeded`,Te.ETIMEDOUT))},r);const b=()=>{s&&(h&&clearTimeout(h),h=null,s.forEach(p=>{p.unsubscribe?p.unsubscribe(f):p.removeEventListener("abort",f)}),s=null)};s.forEach(p=>p.addEventListener("abort",f));const{signal:y}=c;return y.unsubscribe=()=>P.asap(b),y}},fv=function*(s,r){let o=s.byteLength;if(o<r){yield s;return}let c=0,u;for(;c<o;)u=c+r,yield s.slice(c,u),c=u},mv=async function*(s,r){for await(const o of hv(s))yield*fv(o,r)},hv=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const r=s.getReader();try{for(;;){const{done:o,value:c}=await r.read();if(o)break;yield c}}finally{await r.cancel()}},Oh=(s,r,o,c)=>{const u=mv(s,r);let f=0,h,b=y=>{h||(h=!0,c&&c(y))};return new ReadableStream({async pull(y){try{const{done:p,value:v}=await u.next();if(p){b(),y.close();return}let x=v.byteLength;if(o){let w=f+=x;o(w)}y.enqueue(new Uint8Array(v))}catch(p){throw b(p),p}},cancel(y){return b(y),u.return()}},{highWaterMark:2})},Mh=64*1024,{isFunction:sr}=P,pv=(({Request:s,Response:r})=>({Request:s,Response:r}))(P.global),{ReadableStream:Uh,TextEncoder:Lh}=P.global,qh=(s,...r)=>{try{return!!s(...r)}catch{return!1}},gv=s=>{s=P.merge.call({skipUndefined:!0},pv,s);const{fetch:r,Request:o,Response:c}=s,u=r?sr(r):typeof fetch=="function",f=sr(o),h=sr(c);if(!u)return!1;const b=u&&sr(Uh),y=u&&(typeof Lh=="function"?(S=>N=>S.encode(N))(new Lh):async S=>new Uint8Array(await new o(S).arrayBuffer())),p=f&&b&&qh(()=>{let S=!1;const N=new o(Ct.origin,{body:new Uh,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!N}),v=h&&b&&qh(()=>P.isReadableStream(new c("").body)),x={stream:v&&(S=>S.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!x[S]&&(x[S]=(N,j)=>{let T=N&&N[S];if(T)return T.call(N);throw new Te(`Response type '${S}' is not supported`,Te.ERR_NOT_SUPPORT,j)})});const w=async S=>{if(S==null)return 0;if(P.isBlob(S))return S.size;if(P.isSpecCompliantForm(S))return(await new o(Ct.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(P.isArrayBufferView(S)||P.isArrayBuffer(S))return S.byteLength;if(P.isURLSearchParams(S)&&(S=S+""),P.isString(S))return(await y(S)).byteLength},C=async(S,N)=>{const j=P.toFiniteNumber(S.getContentLength());return j??w(N)};return async S=>{let{url:N,method:j,data:T,signal:M,cancelToken:D,timeout:z,onDownloadProgress:E,onUploadProgress:q,responseType:B,headers:W,withCredentials:ee="same-origin",fetchOptions:Z}=Tp(S),H=r||fetch;B=B?(B+"").toLowerCase():"text";let oe=uv([M,D&&D.toAbortSignal()],z),pe=null;const Ae=oe&&oe.unsubscribe&&(()=>{oe.unsubscribe()});let Me;try{if(q&&p&&j!=="get"&&j!=="head"&&(Me=await C(W,T))!==0){let R=new o(N,{method:"POST",body:T,duplex:"half"}),U;if(P.isFormData(T)&&(U=R.headers.get("content-type"))&&W.setContentType(U),R.body){const[Y,te]=kh(Me,fr(Dh(q)));T=Oh(R.body,Mh,Y,te)}}P.isString(ee)||(ee=ee?"include":"omit");const Q=f&&"credentials"in o.prototype,ae={...Z,signal:oe,method:j.toUpperCase(),headers:W.normalize().toJSON(),body:T,duplex:"half",credentials:Q?ee:void 0};pe=f&&new o(N,ae);let K=await(f?H(pe,Z):H(N,ae));const ge=v&&(B==="stream"||B==="response");if(v&&(E||ge&&Ae)){const R={};["status","statusText","headers"].forEach(ce=>{R[ce]=K[ce]});const U=P.toFiniteNumber(K.headers.get("content-length")),[Y,te]=E&&kh(U,fr(Dh(E),!0))||[];K=new c(Oh(K.body,Mh,Y,()=>{te&&te(),Ae&&Ae()}),R)}B=B||"text";let je=await x[P.findKey(x,B)||"text"](K,S);return!ge&&Ae&&Ae(),await new Promise((R,U)=>{Np(R,U,{data:je,headers:qt.from(K.headers),status:K.status,statusText:K.statusText,config:S,request:pe})})}catch(Q){throw Ae&&Ae(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,S,pe),{cause:Q.cause||Q}):Te.from(Q,Q&&Q.code,S,pe)}}},xv=new Map,Rp=s=>{let r=s&&s.env||{};const{fetch:o,Request:c,Response:u}=r,f=[c,u,o];let h=f.length,b=h,y,p,v=xv;for(;b--;)y=f[b],p=v.get(y),p===void 0&&v.set(y,p=b?new Map:gv(r)),v=p;return p};Rp();const md={http:Bb,xhr:dv,fetch:{get:Rp}};P.forEach(md,(s,r)=>{if(s){try{Object.defineProperty(s,"name",{value:r})}catch{}Object.defineProperty(s,"adapterName",{value:r})}});const Hh=s=>`- ${s}`,yv=s=>P.isFunction(s)||s===null||s===!1;function bv(s,r){s=P.isArray(s)?s:[s];const{length:o}=s;let c,u;const f={};for(let h=0;h<o;h++){c=s[h];let b;if(u=c,!yv(c)&&(u=md[(b=String(c)).toLowerCase()],u===void 0))throw new Te(`Unknown adapter '${b}'`);if(u&&(P.isFunction(u)||(u=u.get(r))))break;f[b||"#"+h]=u}if(!u){const h=Object.entries(f).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let b=o?h.length>1?`since :
`+h.map(Hh).join(`
`):" "+Hh(h[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+b,"ERR_NOT_SUPPORT")}return u}const Ep={getAdapter:bv,adapters:md};function Xc(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ol(null,s)}function Fh(s){return Xc(s),s.headers=qt.from(s.headers),s.data=Pc.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Ep.getAdapter(s.adapter||Ls.adapter,s)(s).then(function(c){return Xc(s),c.data=Pc.call(s,s.transformResponse,c),c.headers=qt.from(c.headers),c},function(c){return wp(c)||(Xc(s),c&&c.response&&(c.response.data=Pc.call(s,s.transformResponse,c.response),c.response.headers=qt.from(c.response.headers))),Promise.reject(c)})}const Ap="1.13.2",vr={};["object","boolean","number","function","string","symbol"].forEach((s,r)=>{vr[s]=function(c){return typeof c===s||"a"+(r<1?"n ":" ")+s}});const Vh={};vr.transitional=function(r,o,c){function u(f,h){return"[Axios v"+Ap+"] Transitional option '"+f+"'"+h+(c?". "+c:"")}return(f,h,b)=>{if(r===!1)throw new Te(u(h," has been removed"+(o?" in "+o:"")),Te.ERR_DEPRECATED);return o&&!Vh[h]&&(Vh[h]=!0,console.warn(u(h," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(f,h,b):!0}};vr.spelling=function(r){return(o,c)=>(console.warn(`${c} is likely a misspelling of ${r}`),!0)};function vv(s,r,o){if(typeof s!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const c=Object.keys(s);let u=c.length;for(;u-- >0;){const f=c[u],h=r[f];if(h){const b=s[f],y=b===void 0||h(b,f,s);if(y!==!0)throw new Te("option "+f+" must be "+y,Te.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new Te("Unknown option "+f,Te.ERR_BAD_OPTION)}}const dr={assertOptions:vv,validators:vr},Tn=dr.validators;let Ha=class{constructor(r){this.defaults=r||{},this.interceptors={request:new Ah,response:new Ah}}async request(r,o){try{return await this._request(r,o)}catch(c){if(c instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{c.stack?f&&!String(c.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+f):c.stack=f}catch{}}throw c}}_request(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=Fa(this.defaults,o);const{transitional:c,paramsSerializer:u,headers:f}=o;c!==void 0&&dr.assertOptions(c,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),u!=null&&(P.isFunction(u)?o.paramsSerializer={serialize:u}:dr.assertOptions(u,{encode:Tn.function,serialize:Tn.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),dr.assertOptions(o,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let h=f&&P.merge(f.common,f[o.method]);f&&P.forEach(["delete","get","head","post","put","patch","common"],S=>{delete f[S]}),o.headers=qt.concat(h,f);const b=[];let y=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(o)===!1||(y=y&&N.synchronous,b.unshift(N.fulfilled,N.rejected))});const p=[];this.interceptors.response.forEach(function(N){p.push(N.fulfilled,N.rejected)});let v,x=0,w;if(!y){const S=[Fh.bind(this),void 0];for(S.unshift(...b),S.push(...p),w=S.length,v=Promise.resolve(o);x<w;)v=v.then(S[x++],S[x++]);return v}w=b.length;let C=o;for(;x<w;){const S=b[x++],N=b[x++];try{C=S(C)}catch(j){N.call(this,j);break}}try{v=Fh.call(this,C)}catch(S){return Promise.reject(S)}for(x=0,w=p.length;x<w;)v=v.then(p[x++],p[x++]);return v}getUri(r){r=Fa(this.defaults,r);const o=Cp(r.baseURL,r.url,r.allowAbsoluteUrls);return jp(o,r.params,r.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(r){Ha.prototype[r]=function(o,c){return this.request(Fa(c||{},{method:r,url:o,data:(c||{}).data}))}});P.forEach(["post","put","patch"],function(r){function o(c){return function(f,h,b){return this.request(Fa(b||{},{method:r,headers:c?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}Ha.prototype[r]=o(),Ha.prototype[r+"Form"]=o(!0)});let jv=class zp{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(f){o=f});const c=this;this.promise.then(u=>{if(!c._listeners)return;let f=c._listeners.length;for(;f-- >0;)c._listeners[f](u);c._listeners=null}),this.promise.then=u=>{let f;const h=new Promise(b=>{c.subscribe(b),f=b}).then(u);return h.cancel=function(){c.unsubscribe(f)},h},r(function(f,h,b){c.reason||(c.reason=new Ol(f,h,b),o(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const o=this._listeners.indexOf(r);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const r=new AbortController,o=c=>{r.abort(c)};return this.subscribe(o),r.signal.unsubscribe=()=>this.unsubscribe(o),r.signal}static source(){let r;return{token:new zp(function(u){r=u}),cancel:r}}};function Sv(s){return function(o){return s.apply(null,o)}}function _v(s){return P.isObject(s)&&s.isAxiosError===!0}const ed={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ed).forEach(([s,r])=>{ed[r]=s});function kp(s){const r=new Ha(s),o=cp(Ha.prototype.request,r);return P.extend(o,Ha.prototype,r,{allOwnKeys:!0}),P.extend(o,r,null,{allOwnKeys:!0}),o.create=function(u){return kp(Fa(s,u))},o}const ot=kp(Ls);ot.Axios=Ha;ot.CanceledError=Ol;ot.CancelToken=jv;ot.isCancel=wp;ot.VERSION=Ap;ot.toFormData=br;ot.AxiosError=Te;ot.Cancel=ot.CanceledError;ot.all=function(r){return Promise.all(r)};ot.spread=Sv;ot.isAxiosError=_v;ot.mergeConfig=Fa;ot.AxiosHeaders=qt;ot.formToJSON=s=>_p(P.isHTMLForm(s)?new FormData(s):s);ot.getAdapter=Ep.getAdapter;ot.HttpStatusCode=ed;ot.default=ot;const{Axios:oj,AxiosError:cj,CanceledError:dj,isCancel:uj,CancelToken:fj,VERSION:mj,all:hj,Cancel:pj,isAxiosError:gj,spread:xj,toFormData:yj,AxiosHeaders:bj,HttpStatusCode:vj,formToJSON:jj,getAdapter:Sj,mergeConfig:_j}=ot,wv="https://facerecognition.mpanel.app",Nv=parseInt("30000",10),re=ot.create({baseURL:wv,timeout:Nv});re.interceptors.request.use(s=>{const r=Zt.getToken();return r&&(s.headers.Authorization=r),s},s=>Promise.reject(s));re.interceptors.response.use(s=>s,s=>{if(s.response?.status===401||s.response?.status===403){const r=["/recognize","/api/test/recognize","/upload-for-detection"],o=s.config?.url||"";if(r.some(f=>o.includes(f)))return Promise.reject(s);if(!!localStorage.getItem("photolytics_auth_token")){Zt.clearToken();const f=Zt.isTokenExpired()?"Your session has expired. Please log in again.":"Authentication failed. Please log in again.";sessionStorage.setItem("auth_redirect_message",f)}setTimeout(()=>{window.location.href="/training/login"},100)}return s.response?.status===404?console.warn("API endpoint not found:",s.config?.url):s.response?.status>=500?console.error("Server error:",s.response.status,s.config?.url):s.code==="ECONNABORTED"&&console.error("Request timeout:",s.config?.url),Promise.reject(s)});const xt={async generateNames(s,r=[]){const o={country:s};return r&&r.length>0&&(o.occupation=r.join(",")),(await re.get("/api/excel/check-excel",{params:o,timeout:6e4})).data},async processNext(){return(await re.get("/api/excel/process",{timeout:4e4})).data},async getQueueStatus(){return(await re.get("/api/training/queue-status")).data},async getTrainingProgress(s="serbia",r="production",o=1,c=50,u=null){const f={domain:s,view:r,page:o,limit:c};return u&&(f.search=u),(await re.get("/api/training/progress",{params:f})).data},async getQueueList(){return(await re.get("/api/training/queue-list")).data},async removeFromQueue(s){return(await re.delete("/api/training/queue",{data:{id:s}})).data},async getOccupations(){return(await re.get("/api/excel/occupations")).data},async syncFaces(){return(await re.post("/sync-faces")).data},async testRecognition(s){const r=new FormData;return r.append("image",s),(await re.post("/recognize",r,{headers:{"Content-Type":"multipart/form-data"},timeout:3e4})).data},async abTestRecognition(s,r=null){const o=new FormData;return o.append("image",s),r&&o.append("ground_truth",r),(await re.post("/api/test/recognize",o,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4})).data},async getNameMappings(){return(await re.get("/admin/name-mappings")).data},async deleteImage(s,r="serbia"){const o=s.split("/").pop();return(await re.post("/manage-image",{filename:o,action:"delete",domain:r})).data},async getFolderImages(s,r="serbia",o="production",c=1,u=50){return(await re.get(`/api/training/folders/${encodeURIComponent(s)}`,{params:{domain:r,view:o,page:c,limit:u}})).data},async getSmartQueue(s="serbia"){return(await re.get("/api/training/smart/queue",{params:{domain:s}})).data},async startBatchTraining(s={}){const{domain:r="serbia",discoverNew:o=!1,benchmarkExisting:c=!1,maxTraining:u=30,imagesPerPerson:f=30}=s;return(await re.post("/api/training/smart/run",{domain:r,discover_new:o,benchmark_existing:c,max_new_discoveries:0,max_training_per_run:u,images_per_person:f},{timeout:3e4})).data},async getTrainingRuns(s="serbia",r=20){return(await re.get("/api/training/smart/runs",{params:{domain:s,limit:r}})).data},async getApprovals(s="serbia",r="production"){return(await re.get("/api/training/approvals",{params:{domain:s,view:r}})).data},async approvePerson(s,r="serbia",o="production",c=0){return(await re.post(`/api/training/approvals/${encodeURIComponent(s)}`,{domain:r,view:o,image_count:c})).data},async unapprovePerson(s,r="serbia",o="production"){return(await re.delete(`/api/training/approvals/${encodeURIComponent(s)}`,{params:{domain:r,view:o}})).data},async deletePerson(s,r="serbia"){return(await re.post("/api/training/delete-person",{person_name:s,domain:r})).data}};function qs(s,r=5e3,o=!0,c=[]){const[u,f]=g.useState(null),[h,b]=g.useState(!0),[y,p]=g.useState(null),[v,x]=g.useState(o),w=g.useRef(null),C=g.useRef(!0),S=async()=>{try{const M=await s();C.current&&(f(M),p(null))}catch(M){C.current&&p(M.message||"Failed to fetch data")}finally{C.current&&b(!1)}},N=()=>{x(!0)},j=()=>{x(!1),w.current&&(clearInterval(w.current),w.current=null)},T=async()=>{b(!0),await S()};return g.useEffect(()=>(C.current=!0,()=>{C.current=!1,w.current&&clearInterval(w.current)}),[]),g.useEffect(()=>{if(!v){w.current&&(clearInterval(w.current),w.current=null);return}return S(),w.current=setInterval(S,r),()=>{w.current&&(clearInterval(w.current),w.current=null)}},[v,r,...c]),{data:u,loading:h,error:y,refetch:T,startPolling:N,stopPolling:j,isPolling:v}}function Le({children:s,content:r,position:o="top"}){const[c,u]=g.useState(!1);return r?n.jsxs("div",{className:"tooltip-wrapper",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[s,c&&n.jsx("div",{className:`tooltip tooltip-${o}`,children:r})]}):s}function Kt({pageName:s}){const{openHelp:r}=pr();return n.jsx(Le,{content:"Get help for this page",position:"left",children:n.jsx("button",{className:"help-button",onClick:()=>r(s),"aria-label":"Help",children:"?"})})}function Cv(){const[s,r]=g.useState(!0),o=async()=>{const v=await xt.getQueueStatus();if(v.success)return v.data;throw new Error(v.message||"Failed to fetch stats")},{data:c,loading:u,error:f,isPolling:h,startPolling:b,stopPolling:y}=qs(o,1e4,s),p=()=>{h?(y(),r(!1)):(b(),r(!0))};return n.jsxs("div",{className:"page-container",children:[n.jsx(Kt,{pageName:"dashboard"}),n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Training Dashboard"}),n.jsx("p",{className:"subtitle",children:"Overview of face recognition training status"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[h&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#10b981",fontSize:"0.875rem"},children:[n.jsx("span",{className:"spinner",style:{width:"16px",height:"16px",borderWidth:"2px"}}),n.jsx("span",{title:"Dashboard automatically refreshes queue statistics every 10 seconds to show real-time progress",children:"Auto-refresh: ON"})]}),!h&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280",fontSize:"0.875rem"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Auto-refresh: OFF"})]}),n.jsx("button",{className:"btn",onClick:p,title:h?"Stop automatic refresh of dashboard data":"Start automatic refresh of dashboard data",style:{background:h?"#ef4444":"#10b981",color:"white",border:"none"},children:h?" Pause Updates":" Resume Updates"})]})]}),f&&n.jsx("div",{className:"alert alert-error",children:f}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Queue Size"}),n.jsx("div",{className:"stat-value",children:u?"...":c?.queue?.total_in_queue??0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Processed Today"}),n.jsx("div",{className:"stat-value",children:u?"...":c?.queue?.processed_today??0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Remaining"}),n.jsx("div",{className:"stat-value",children:u?"...":c?.queue?.remaining??0})]})]}),c?.queue?.failed_today>0&&n.jsxs(Ge,{to:"/rejected-faces",className:"stat-card",style:{textDecoration:"none",cursor:"pointer"},children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Failed Today"}),n.jsx("div",{className:"stat-value",children:c.queue.failed_today}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"0.25rem"},children:"Click to view"})]})]})]}),n.jsxs("div",{className:"dashboard-columns",children:[n.jsxs("div",{className:"section",children:[n.jsx("h2",{children:"Quick Actions"}),n.jsxs("div",{className:"actions-grid-compact",children:[n.jsxs(Ge,{to:"/training",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Training"}),n.jsx("p",{children:"Generate, queue, and benchmark training data"})]})]}),n.jsxs(Ge,{to:"/training/benchmarks",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Benchmarks"}),n.jsx("p",{children:"View recognition accuracy benchmarks"})]})]}),n.jsxs("a",{href:"https://photolytics.mpanel.app/",target:"_blank",rel:"noopener noreferrer",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Test Recognition"}),n.jsx("p",{children:"Upload images to test face recognition"})]})]}),n.jsxs(Ge,{to:"/video-recognition",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Video Recognition"}),n.jsx("p",{children:"Process videos for face recognition"})]})]})]})]}),n.jsxs("div",{className:"section",children:[n.jsx("h2",{children:"Recent Activity"}),n.jsx("div",{className:"activity-log",children:n.jsx("p",{className:"text-muted",children:"Activity log will be displayed here once processing begins."})})]})]})]})}const Tv=[{id:"serbia",name:"Serbia"},{id:"usa",name:"USA"},{id:"uk",name:"UK"},{id:"france",name:"France"},{id:"croatia",name:"Croatia"},{id:"bosnia",name:"Bosnia"}],Rv=[{id:"actor",name:"Actor"},{id:"politician",name:"Politician"},{id:"tennis_player",name:"Tennis Player"},{id:"football_player",name:"Football Player"},{id:"basketball_player",name:"Basketball Player"},{id:"musician",name:"Musician"},{id:"singer",name:"Singer"},{id:"writer",name:"Writer"},{id:"director",name:"Director"}],Rl={success:!0,batch_id:"mock_batch_123",status:"processing",created_at:new Date().toISOString(),total:2,completed:0,processing:1,failed:0,queued:1,progress_percentage:0,people:[{full_name:"Novak Djokovic",name:"Novak",last_name:"Djokovic",occupation:"tennis_player",folder_name:"novak_djokovic",status:"processing",current_step:"downloading_images",photos_downloaded:15,photos_validated:0,error:null,started_at:new Date().toISOString(),completed_at:null},{full_name:"Ana Ivanovic",name:"Ana",last_name:"Ivanovic",occupation:"tennis_player",folder_name:"ana_ivanovic",status:"queued",current_step:null,photos_downloaded:0,photos_validated:0,error:null,started_at:null,completed_at:null}]},Gh=[{folder_name:"novak_djokovic",image_count:28,ready_for_production:!0},{folder_name:"ana_ivanovic",image_count:31,ready_for_production:!0},{folder_name:"unknown_person",image_count:3,ready_for_production:!1}],mt={async getCountries(){try{return(await re.get("/api/training/countries")).data}catch(s){return console.warn("API not available, using mock data:",s.message),{success:!0,countries:Tv}}},async getOccupations(){try{return(await re.get("/api/training/occupations")).data}catch(s){return console.warn("API not available, using mock data:",s.message),{success:!0,occupations:Rv}}},async generateCandidates(s,r,o){try{return(await re.post("/api/training/generate-candidates",{country:s,occupation:r,domain:o},{timeout:12e4})).data}catch(c){throw console.error(" Generate candidates API call failed:",c),console.error("Error details:",{message:c.message,response:c.response?.data,status:c.response?.status,url:c.config?.url,params:{country:s,occupation:r,domain:o}}),c}},async startBatch(s,r){try{return(await re.post("/api/training/start-batch",{candidates:s,domain:r})).data}catch(o){return console.warn("API not available, using mock data:",o.message),{success:!0,message:`Started batch training for ${s.length} people`,batch_id:"mock_batch_"+Date.now(),total_people:s.length}}},async getBatchStatus(s){try{return(await re.get(`/api/training/batch/${s}/status`)).data}catch(r){console.warn("API not available, using mock data:",r.message);const o=Math.min(100,Date.now()%1e5/1e3),c=Math.floor(Rl.total*o/100);return{...Rl,batch_id:s,progress_percentage:Math.round(o),completed:c,processing:c<Rl.total?1:0,queued:Rl.total-c-1,status:c===Rl.total?"completed":"processing",people:Rl.people.map((u,f)=>({...u,status:f<c?"completed":f===c?"processing":"queued",photos_downloaded:f<c?28:f===c?15:0,completed_at:f<c?new Date().toISOString():null}))}}},async cancelBatch(s){try{return(await re.post(`/api/training/batch/${s}/cancel`)).data}catch(r){return console.warn("API not available, using mock data:",r.message),{success:!0,message:"Batch cancelled successfully",batch_id:s}}},async getStagingList(s){try{const r=await re.get("/api/training/staging-list",{params:{domain:s}});return console.log(" Staging list loaded from API:",r.data),r.data}catch(r){throw console.error(" Staging list API call failed:",r),console.error("Error details:",{message:r.message,response:r.response?.data,status:r.response?.status,url:r.config?.url}),r}},async deployToProduction(s,r){try{return(await re.post("/api/training/deploy",{people:s,domain:r})).data}catch(o){console.warn("API not available, using mock data:",o.message);const c=Gh.filter(f=>s.includes(f.folder_name)&&f.ready_for_production),u=Gh.filter(f=>s.includes(f.folder_name)&&!f.ready_for_production);return{success:!0,message:`Deployed ${c.length} people to production`,deployed:c.map(f=>({folder:f.folder_name,image_count:f.image_count})),skipped:u.map(f=>({folder:f.folder_name,reason:`Too few images (${f.image_count}), minimum is 5`})),errors:[],statistics:{deployed_count:c.length,skipped_count:u.length,error_count:0}}}},async removeFromStaging(s,r){try{return(await re.post("/api/training/staging/remove",{people:s,domain:r})).data}catch(o){throw console.error("Failed to remove from staging:",o),o}},async deleteStagingImage(s,r,o){try{return(await re.delete(`/api/training/staging/image/${s}/${r}/${o}`)).data}catch(c){throw console.error("Failed to delete staging image:",c),c}},async trainViaSERP(s,r){try{return(await re.post("/api/training/staging/train-serp",{people:s,domain:r})).data}catch(o){throw console.error("Failed to start SERP training:",o),o}},async getSerpBatchStatus(s){try{return(await re.get(`/api/training/staging/serp-status/${s}`)).data}catch(r){throw console.error("Failed to get SERP batch status:",r),r}},async listSerpBatches(){try{return(await re.get("/api/training/staging/serp-batches")).data}catch(s){throw console.error("Failed to list SERP batches:",s),s}},async listTrainingBatches(){try{return(await re.get("/api/training/staging/training-batches")).data}catch(s){throw console.error("Failed to list training batches:",s),s}},async listAllBatches(){try{const[s,r]=await Promise.all([re.get("/api/training/staging/serp-batches"),re.get("/api/training/staging/training-batches")]),o=s.data,c=r.data,u=[...(o.running_batches||[]).map(h=>({...h,type:"serp"})),...(c.running_batches||[]).map(h=>({...h,type:"wikidata"}))],f=[...(o.completed_batches||[]).map(h=>({...h,type:"serp"})),...(c.completed_batches||[]).map(h=>({...h,type:"wikidata"}))];return u.sort((h,b)=>new Date(b.created_at)-new Date(h.created_at)),f.sort((h,b)=>new Date(b.created_at||b.completed_at)-new Date(h.created_at||h.completed_at)),{success:!0,running_batches:u,completed_batches:f,running_count:u.length,completed_count:f.length}}catch(s){throw console.error("Failed to list all batches:",s),s}}};function Ev(){const[s,r]=g.useState("serbia"),[o,c]=g.useState(["actor"]),[u,f]=g.useState(!1),[h,b]=g.useState([]),[y,p]=g.useState([]),[v,x]=g.useState(!1),[w,C]=g.useState(null),[S,N]=g.useState(null),[j,T]=g.useState([]),[M,D]=g.useState(null),[z,E]=g.useState(!1),[q,B]=g.useState("new"),[W,ee]=g.useState(!1),[Z,H]=g.useState(!1),[oe,pe]=g.useState(null),[Ae,Me]=g.useState(null),[Q,ae]=g.useState(null),[K,ge]=g.useState(!0);g.useEffect(()=>{(async()=>{try{const[he,Qe]=await Promise.all([mt.getCountries(),mt.getOccupations()]);he.success&&b(he.countries),Qe.success&&p(Qe.occupations)}catch(he){console.error("Failed to load data:",he)}})()},[]),g.useEffect(()=>{const ne=he=>{u&&(he.target.closest(".occupation-dropdown-container")||f(!1))};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[u]);const je=async()=>{const ne=await xt.getTrainingProgress();if(ne.success)return ne.data.folders||[];throw new Error(ne.message||"Failed to fetch progress")},{data:R,loading:U,error:Y,refetch:te,isPolling:ce,startPolling:ye,stopPolling:we}=qs(je,15e3,K),Je=ne=>{console.log("Toggling occupation:",ne),c(he=>{console.log("Previous selections:",he);const Qe=he.includes(ne)?he.filter(at=>at!==ne):[...he,ne];return console.log("New selections:",Qe),Qe})},Ye=async ne=>{if(ne.preventDefault(),C(null),N(null),T([]),D(null),o.length===0){C("Please select at least one occupation");return}x(!0);try{const he=o.map(ve=>mt.generateCandidates(s,ve,s)),Qe=await Promise.all(he);let at=[],Va=0,Ga=0;Qe.forEach(ve=>{if(ve.success&&ve.candidates){const qe=ve.candidates.map(ze=>({...ze,isSelected:!ze.exists_in_db}));at=[...at,...qe],Va+=ve.statistics?.new_people||ve.candidates.filter(ze=>!ze.exists_in_db).length,Ga+=ve.statistics?.existing_people||ve.candidates.filter(ze=>ze.exists_in_db).length}});const le=at.filter((ve,qe,ze)=>qe===ze.findIndex(Jt=>Jt.wikidata_id===ve.wikidata_id));T(le),D({total:le.length,new_people:le.filter(ve=>!ve.exists_in_db).length,existing_people:le.filter(ve=>ve.exists_in_db).length}),E(!0),B("new");const de=o.map(ve=>y.find(qe=>qe.id===ve)?.name||ve).join(", ");N(`Found ${le.length} people in ${o.length} occupation(s) from ${s}! (${M?.new_people||Va} new)`)}catch(he){const Qe=he.response?.data?.error||he.message||"Failed to generate candidates from Wikidata";C(Qe)}finally{x(!1)}},Et=ne=>{T(he=>he.map(Qe=>Qe.wikidata_id===ne?{...Qe,isSelected:!Qe.isSelected}:Qe))},jn=()=>{T(ne=>ne.map(he=>({...he,isSelected:!0})))},fn=()=>{T(ne=>ne.map(he=>({...he,isSelected:!he.exists_in_db})))},Sn=()=>{T(ne=>ne.map(he=>({...he,isSelected:!1})))},Tt=()=>j.filter(ne=>ne.isSelected).length,se=()=>{T([]),D(null),C(null),N(null),E(!1)},O=j.filter(ne=>q==="new"?!ne.exists_in_db:q==="existing"?ne.exists_in_db:!0),ie=async()=>{Me(null),ae(null),ee(!0);try{const ne=await xt.processNext();if(ne.success&&ne.data){const he=ne.data.name&&ne.data.last_name?`${ne.data.name} ${ne.data.last_name}`:ne.data.person;if(!he||he==="N/A"||!ne.images?.count){Me("Queue is empty. Generate names first to add people to the queue."),pe(null);return}pe(ne.data),ae(`Processed: ${he} (${ne.images?.count||0} images downloaded)`),te()}else{const he=ne.message||"Queue is empty. Generate names first.";Me(he),pe(null)}}catch(ne){ne.message?.toLowerCase().includes("no data")||ne.message?.toLowerCase().includes("not found")?Me('Queue is empty. Click "Generate from Wikidata" to add people to the queue.'):Me(ne.message||"An error occurred while processing"),pe(null)}finally{ee(!1)}},Se=async()=>{const ne=j.filter(he=>he.isSelected);if(ne.length===0){C("Please select at least one candidate to train");return}Me(null),ae(null),H(!0);try{const he=await mt.startBatch(ne,s);he.success?(ae(`Started training ${ne.length} people! Monitor progress below.`),se(),setTimeout(()=>te(),2e3)):Me(he.message||"Failed to start batch training")}catch(he){Me(he.message||"Failed to start batch training")}finally{H(!1)}},Ne=()=>{ce?(we(),ge(!1)):(ye(),ge(!0))},wt=ne=>ne===0?{label:"Empty",className:"status-empty"}:ne<20?{label:"Insufficient",className:"status-insufficient"}:ne<40?{label:"Adequate",className:"status-adequate"}:{label:"Ready",className:"status-ready"};return n.jsxs("div",{className:"page-container",children:[n.jsx(Kt,{pageName:"training-workflow"}),n.jsx("div",{className:"workflow-header",children:n.jsxs("div",{children:[n.jsx("h1",{children:"Training Workflow"}),n.jsx("p",{className:"subtitle",children:"Complete pipeline: Generate  Select  Train  Monitor"})]})}),n.jsxs("div",{className:"step-indicator",children:[n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"1"}),n.jsx("div",{className:"step-label",children:"Generate from Wikidata"})]}),n.jsx("div",{className:"step-divider"}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"2"}),n.jsx("div",{className:"step-label",children:"Select Candidates"})]}),n.jsx("div",{className:"step-divider"}),n.jsxs("div",{className:"step",children:[n.jsx("div",{className:"step-number",children:"3"}),n.jsx("div",{className:"step-label",children:"Train & Monitor"})]})]}),n.jsxs("div",{className:"workflow-grid",children:[n.jsxs("div",{className:"workflow-actions",children:[n.jsxs("div",{className:"workflow-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"step-badge",children:"1"}),"Generate from Wikidata"]}),n.jsx("span",{className:"card-subtitle",children:"Query Wikidata for celebrities (~5-10s)"})]}),n.jsxs("form",{onSubmit:Ye,style:{marginTop:"1.5rem"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"country",children:"Country"}),n.jsx("select",{id:"country",className:"form-input",value:s,onChange:ne=>r(ne.target.value),disabled:v,children:h.map(ne=>n.jsx("option",{value:ne.code,children:ne.name},ne.code))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"occupation-dropdown",children:"Select Occupations"}),n.jsxs("div",{className:"occupation-dropdown-container",style:{position:"relative"},children:[n.jsxs("button",{type:"button",id:"occupation-dropdown",className:"form-input",onClick:()=>f(!u),disabled:v,style:{width:"100%",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"white",border:"1px solid #d1d5db",borderRadius:"0.375rem",cursor:"pointer"},children:[n.jsx("span",{style:{color:o.length>0?"#111827":"#6b7280"},children:o.length>0?`${o.length} occupation${o.length>1?"s":""} selected`:"Select occupations..."}),n.jsx("span",{style:{fontSize:"0.875rem"},children:u?"":""})]}),u&&n.jsx("div",{className:"occupation-dropdown-menu",style:{position:"absolute",top:"calc(100% + 0.25rem)",left:0,right:0,background:"white",border:"1px solid #d1d5db",borderRadius:"0.375rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",maxHeight:"300px",overflowY:"auto",zIndex:1e3},children:y.map(ne=>{const he=o.includes(ne.id);return n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem 1rem",cursor:"pointer",background:he?"#eff6ff":"white",borderBottom:"1px solid #f3f4f6",transition:"background 0.15s"},onClick:Qe=>{Qe.stopPropagation(),Je(ne.id)},onMouseEnter:Qe=>{he||(Qe.currentTarget.style.background="#f9fafb")},onMouseLeave:Qe=>{he||(Qe.currentTarget.style.background="white")},children:[n.jsx("input",{type:"checkbox",checked:he,onChange:()=>{},style:{width:"16px",height:"16px",cursor:"pointer",pointerEvents:"none",margin:0}}),n.jsx("span",{style:{fontSize:"0.875rem",fontWeight:he?600:400,userSelect:"none"},children:ne.name})]},ne.id)})})]}),n.jsx("small",{style:{display:"block",marginTop:"0.25rem",color:"#6b7280"},children:"Click to select multiple occupations"})]}),w&&n.jsx("div",{className:"alert alert-error",children:w}),S&&n.jsx("div",{className:"alert alert-success",children:S}),n.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:v,children:v?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Querying Wikidata..."]}):n.jsx(n.Fragment,{children:" Generate from Wikidata"})})]})]}),j.length>0&&n.jsxs("div",{className:"workflow-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"step-badge",children:"2"}),"Select Candidates"]}),n.jsxs("span",{className:"card-subtitle",children:[M?.total||j.length," found (",M?.new_people||j.filter(ne=>!ne.exists_in_db).length," new)"]})]}),M&&n.jsxs("div",{className:"stats-summary-compact",style:{marginTop:"1rem"},children:[n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:M.total}),n.jsx("span",{children:"Total"})]}),n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:M.new_people}),n.jsx("span",{children:"New"})]}),n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:M.existing_people}),n.jsx("span",{children:"Existing"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem"},children:[n.jsxs("button",{onClick:()=>B("new"),className:"btn btn-sm",style:{flex:1,fontSize:"0.75rem",padding:"0.4rem",background:q==="new"?"#10b981":"#e5e7eb",color:q==="new"?"white":"#374151",border:"none"},children:["New (",M?.new_people||0,")"]}),n.jsxs("button",{onClick:()=>B("existing"),className:"btn btn-sm",style:{flex:1,fontSize:"0.75rem",padding:"0.4rem",background:q==="existing"?"#6b7280":"#e5e7eb",color:q==="existing"?"white":"#374151",border:"none"},children:["Existing (",M?.existing_people||0,")"]}),n.jsxs("button",{onClick:()=>B("all"),className:"btn btn-sm",style:{flex:1,fontSize:"0.75rem",padding:"0.4rem",background:q==="all"?"#3b82f6":"#e5e7eb",color:q==="all"?"white":"#374151",border:"none"},children:["All (",M?.total||0,")"]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1rem",flexWrap:"wrap"},children:[n.jsx("button",{onClick:fn,className:"btn btn-sm",style:{fontSize:"0.75rem",padding:"0.4rem 0.8rem",background:"#10b981",color:"white",border:"none"},children:" New Only"}),n.jsx("button",{onClick:jn,className:"btn btn-sm",style:{fontSize:"0.75rem",padding:"0.4rem 0.8rem",background:"#3b82f6",color:"white",border:"none"},children:" All"}),n.jsx("button",{onClick:Sn,className:"btn btn-sm",style:{fontSize:"0.75rem",padding:"0.4rem 0.8rem",background:"#6b7280",color:"white",border:"none"},children:" None"}),n.jsx("button",{onClick:se,className:"btn btn-sm",style:{fontSize:"0.75rem",padding:"0.4rem 0.8rem",background:"#ef4444",color:"white",border:"none",marginLeft:"auto"},children:"Clear"})]}),n.jsxs("div",{className:"folders-list",style:{marginTop:"1rem",maxHeight:"300px",overflowY:"auto"},children:[O.length===0?n.jsx("div",{style:{padding:"2rem",textAlign:"center",color:"#6b7280"},children:"No candidates match the current filter"}):O.slice(0,50).map(ne=>n.jsx("div",{className:"folder-item",style:{padding:"0.75rem",cursor:"pointer",borderBottom:"1px solid #e5e7eb"},onClick:()=>Et(ne.wikidata_id),children:n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("input",{type:"checkbox",checked:ne.isSelected,onChange:()=>Et(ne.wikidata_id),onClick:he=>he.stopPropagation(),style:{width:"16px",height:"16px"}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("div",{style:{fontWeight:500,color:"#111827"},children:ne.full_name}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:ne.description})]}),ne.exists_in_db?n.jsx("span",{className:"status-badge-sm",style:{background:"#e5e7eb",color:"#6b7280"},children:" EXISTS"}):n.jsx("span",{className:"status-badge-sm",style:{background:"#d1fae5",color:"#065f46"},children:" NEW"})]})},ne.wikidata_id)),O.length>50&&n.jsxs("div",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",color:"#6b7280"},children:["... and ",O.length-50," more"]})]}),n.jsx("button",{onClick:Se,disabled:Tt()===0||Z,className:"btn btn-block",style:{marginTop:"1rem",background:"#10b981",color:"white",border:"none",padding:"0.75rem",fontSize:"1rem",fontWeight:600},children:Z?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Starting Training..."]}):n.jsxs(n.Fragment,{children:[" Start Training (",Tt()," selected)"]})})]}),j.length===0&&n.jsxs("div",{className:"workflow-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"step-badge",children:"2"}),"Process Queue"]}),n.jsx("span",{className:"card-subtitle",children:"Process Excel-based queue (legacy)"})]}),n.jsx("div",{className:"button-group",style:{marginTop:"1.5rem"},children:n.jsx("button",{className:"btn btn-primary",onClick:ie,disabled:W||Z||v,style:{flex:1},children:W?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Processing..."]}):n.jsx(n.Fragment,{children:" Process Next"})})}),Ae&&n.jsx("div",{className:"alert alert-error",children:Ae}),Q&&n.jsx("div",{className:"alert alert-success",children:Q}),oe&&n.jsxs("div",{className:"result-box",children:[n.jsx("h4",{children:"Last Processed"}),n.jsxs("div",{className:"result-details",children:[n.jsxs("div",{className:"result-row",children:[n.jsx("span",{children:"Person:"}),n.jsx("strong",{children:oe.person||"N/A"})]}),n.jsxs("div",{className:"result-row",children:[n.jsx("span",{children:"Images:"}),n.jsx("strong",{children:oe.images_downloaded||0})]})]})]})]})]}),n.jsx("div",{className:"workflow-monitor",children:n.jsxs("div",{className:"workflow-card",children:[n.jsxs("div",{className:"card-header",children:[n.jsxs("h2",{children:[n.jsx("span",{className:"step-badge",children:"3"}),"Training Progress"]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[ce&&n.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.4rem",color:"#10b981",fontSize:"0.75rem"},children:[n.jsx("span",{className:"spinner",style:{width:"12px",height:"12px",borderWidth:"2px"}}),"Auto-updating"]}),n.jsx("button",{className:"btn btn-sm",onClick:Ne,title:ce?"Pause auto-updates":"Resume auto-updates",style:{padding:"0.25rem 0.75rem",fontSize:"0.75rem",background:ce?"#ef4444":"#10b981",color:"white",border:"none"},children:ce?"":""}),n.jsx("button",{className:"btn btn-sm btn-primary",onClick:te,disabled:U,title:"Refresh now",style:{padding:"0.25rem 0.75rem",fontSize:"0.75rem"},children:""})]})]}),Y&&n.jsx("div",{className:"alert alert-error",children:Y}),Q&&n.jsx("div",{className:"alert alert-success",children:Q}),U?n.jsxs("div",{className:"loading-state-inline",children:[n.jsx("span",{className:"spinner"}),n.jsx("span",{children:"Loading..."})]}):!R||R.length===0?n.jsxs("div",{className:"empty-state-inline",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("p",{children:"No training data yet"}),n.jsx("small",{children:"Generate and train candidates to start"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"stats-summary-compact",children:[n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:R.length}),n.jsx("span",{children:"Folders"})]}),n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:R.reduce((ne,he)=>ne+(he.image_count||0),0)}),n.jsx("span",{children:"Images"})]}),n.jsxs("div",{className:"summary-item-compact",children:[n.jsx("strong",{children:R.filter(ne=>(ne.image_count||0)>=20).length}),n.jsx("span",{children:"Ready"})]})]}),n.jsxs("div",{className:"folders-list",children:[R.slice(0,10).map((ne,he)=>{const Qe=wt(ne.image_count||0);return n.jsxs("div",{className:"folder-item",children:[n.jsxs("div",{className:"folder-item-header",children:[n.jsx("span",{className:"folder-name-short",title:ne.display_name,children:ne.display_name||ne.name||"Unknown"}),n.jsx("span",{className:`status-badge-sm ${Qe.className}`,children:Qe.label})]}),n.jsxs("div",{className:"folder-item-stats",children:[n.jsxs("span",{children:[ne.image_count||0," images"]}),ne.image_count>0&&n.jsx("div",{className:"progress-bar-sm",children:n.jsx("div",{className:"progress-fill",style:{width:`${Math.min(ne.image_count/40*100,100)}%`,backgroundColor:ne.image_count>=20?"#10b981":"#f59e0b"}})})]})]},he)}),R.length>10&&n.jsxs("div",{className:"folder-item-more",children:["+",R.length-10," more folders"]})]})]})]})})]}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" Complete Workflow Guide"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"0.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Step 1:"})," Query Wikidata for celebrities by occupation"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Step 2:"})," Select which candidates to train"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Step 3:"})," Start batch training & monitor progress"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ready:"})," 40+ images optimal for training"]})]})]})]})}function Av(){const[s,r]=g.useState([]),[o,c]=g.useState(!0),[u,f]=g.useState(null),[h,b]=g.useState(!0),[y,p]=g.useState(null),[v,x]=g.useState(null),w=async()=>{const W=await xt.getQueueList();if(W.success)return W.data;throw new Error(W.message||"Failed to fetch queue")},{data:C,loading:S,error:N,refetch:j,isPolling:T,startPolling:M,stopPolling:D}=qs(w,3e4,h);g.useEffect(()=>{C&&(r(C.queue||[]),c(!1))},[C]),g.useEffect(()=>{N&&(f(N),c(!1))},[N]);const z=()=>{T?(D(),b(!1)):(M(),b(!0))},E=async W=>{if(confirm(`Remove "${W.name} ${W.last_name}" from queue?`)){p(W.id),f(null),x(null);try{const ee=await xt.removeFromQueue(W.id);ee.success?(x(`Removed ${W.name} ${W.last_name}. ${ee.remaining_count} remaining in queue.`),j()):f(ee.message||"Failed to remove entry")}catch(ee){f(ee.message||"An error occurred while removing entry")}finally{p(null),setTimeout(()=>x(null),3e3)}}},q=W=>{const ee={};return W.forEach(Z=>{const H=Z.occupation||"Unknown";ee[H]||(ee[H]=[]),ee[H].push(Z)}),ee},B=s.length>0?q(s):{};return n.jsxs("div",{className:"page-container",children:[n.jsx(Kt,{pageName:"queue-management"}),n.jsxs("div",{className:"page-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Queue Management"}),n.jsx("p",{className:"subtitle",children:"View and manage generated celebrity names waiting to be processed"})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#10b981",fontSize:"0.875rem"},children:[n.jsx("span",{className:"spinner",style:{width:"16px",height:"16px",borderWidth:"2px"}}),n.jsx("span",{children:"Auto-refresh: ON"})]}),!T&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280",fontSize:"0.875rem"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Auto-refresh: OFF"})]}),n.jsx("button",{className:"btn",onClick:z,style:{background:T?"#ef4444":"#10b981",color:"white",border:"none"},children:T?" Pause":" Resume"}),n.jsx("button",{className:"btn btn-primary",onClick:j,disabled:S,children:" Refresh"})]})]}),n.jsxs("div",{className:"queue-stats",children:[n.jsxs("div",{className:"stat-card-simple",children:[n.jsx("span",{className:"stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"stat-value",children:C?.total||0}),n.jsx("div",{className:"stat-label",children:"Total in Queue"})]})]}),n.jsxs("div",{className:"stat-card-simple",children:[n.jsx("span",{className:"stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"stat-value",children:C?.processed||0}),n.jsx("div",{className:"stat-label",children:"Processed"})]})]}),n.jsxs("div",{className:"stat-card-simple",children:[n.jsx("span",{className:"stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"stat-value",children:C?.remaining||0}),n.jsx("div",{className:"stat-label",children:"Remaining"})]})]}),n.jsxs("div",{className:"stat-card-simple",children:[n.jsx("span",{className:"stat-icon",children:""}),n.jsxs("div",{children:[n.jsx("div",{className:"stat-value",children:Object.keys(B).length}),n.jsx("div",{className:"stat-label",children:"Categories"})]})]})]}),u&&n.jsx("div",{className:"alert alert-error",children:u}),v&&n.jsx("div",{className:"alert alert-success",children:v}),o?n.jsxs("div",{className:"loading-state",children:[n.jsx("span",{className:"spinner"}),n.jsx("span",{children:"Loading queue..."})]}):s.length===0?n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"Queue is Empty"}),n.jsx("p",{children:"No celebrities in the training queue"}),n.jsx("small",{children:"Go to Training Workflow to generate names"})]}):n.jsx(n.Fragment,{children:n.jsx("div",{className:"queue-sections",children:Object.entries(B).map(([W,ee])=>n.jsxs("div",{className:"queue-section",children:[n.jsx("div",{className:"section-header",children:n.jsxs("h2",{children:[W,n.jsx("span",{className:"count-badge",children:ee.length})]})}),n.jsx("div",{className:"queue-table-container",children:n.jsxs("table",{className:"queue-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"#"}),n.jsx("th",{children:"Name"}),n.jsx("th",{children:"Country"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:ee.map(Z=>n.jsxs("tr",{children:[n.jsx("td",{children:Z.id}),n.jsx("td",{children:n.jsxs("strong",{children:[Z.name," ",Z.last_name]})}),n.jsx("td",{children:n.jsx("span",{className:"country-badge",children:Z.country||"Unknown"})}),n.jsx("td",{children:n.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>E(Z),disabled:y===Z.id,children:y===Z.id?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner-sm"}),"Removing..."]}):n.jsx(n.Fragment,{children:" Remove"})})})]},Z.id))})]})})]},W))})}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" About Queue Management"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem",lineHeight:"1.8"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Queue:"})," These are celebrity names generated by AI, waiting to be processed"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Processing:"})," Each person will be processed to download 20-70 images from the web"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Remove:"})," Use the Remove button to delete names you don't want to train"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Auto-refresh:"})," Queue updates automatically every 30 seconds"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Go to Training Workflow:"})," To generate more names or start processing"]})]})]})]})}function zv(){const[s,r]=g.useState([]),[o,c]=g.useState(!1),[u,f]=g.useState([]),[h,b]=g.useState(null),[y,p]=g.useState(!1),[v,x]=g.useState(!1),w=D=>{if(!D||D.length===0)return;const z=[],E=[];if(Array.from(D).forEach((B,W)=>{if(!B.type.startsWith("image/")){E.push(`${B.name}: Not an image file`);return}if(B.size>10*1024*1024){E.push(`${B.name}: File size must be less than 10MB`);return}z.push(B)}),E.length>0){if(b(E.join(", ")),z.length===0)return}else b(null);const q=z.map(B=>({file:B,preview:null,result:null,loading:!1}));q.forEach((B,W)=>{const ee=new FileReader;ee.onloadend=()=>{B.preview=ee.result,W===q.length-1&&(r([...s,...q]),f([]))},ee.readAsDataURL(B.file)}),q.length===0&&r([...s,...q])},C=D=>{D.preventDefault(),D.stopPropagation(),D.type==="dragenter"||D.type==="dragover"?p(!0):D.type==="dragleave"&&p(!1)},S=D=>{D.preventDefault(),D.stopPropagation(),p(!1),D.dataTransfer.files&&D.dataTransfer.files.length>0&&w(D.dataTransfer.files)},N=D=>{D.preventDefault(),D.target.files&&D.target.files.length>0&&w(D.target.files)},j=async()=>{if(s.length===0)return;c(!0),b(null);const D=[];for(let z=0;z<s.length;z++)try{const E=await xt.testRecognition(s[z].file);D.push({fileName:s[z].file.name,...E})}catch(E){let q="Failed to test recognition";E.response?.status===401||E.response?.status===403?q="Session expired - please log in again":E.response?.status===404?q="Recognition service not available":E.response?.status>=500?q="Server error - please try again later":E.code==="ECONNABORTED"?q="Request timeout - file may be too large":E.message&&(q=E.message),D.push({fileName:s[z].file.name,status:"error",message:q})}f(D),c(!1)},T=()=>{r([]),f([]),b(null)},M=D=>{const z=s.filter((E,q)=>q!==D);if(r(z),u.length>0){const E=u.filter((q,B)=>B!==D);f(E)}};return n.jsxs("div",{className:"page-container",children:[n.jsx(Kt,{pageName:"testing"}),n.jsx("h1",{children:"Test Recognition"}),n.jsx("p",{className:"subtitle",children:"Upload one or multiple images to test face recognition accuracy."}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{style:{marginTop:0},children:"Upload Images"}),n.jsxs("div",{className:`upload-zone ${y?"drag-active":""}`,onDragEnter:C,onDragLeave:C,onDragOver:C,onDrop:S,style:{border:`2px dashed ${y?"#667eea":"#d1d5db"}`,borderRadius:"12px",padding:"2rem",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",background:y?"#f0f4ff":"#f9fafb"},children:[n.jsx("input",{type:"file",id:"file-upload",accept:"image/*",multiple:!0,onChange:N,style:{display:"none"}}),n.jsxs("label",{htmlFor:"file-upload",style:{cursor:"pointer",display:"block"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("p",{style:{margin:"0 0 0.5rem 0",fontWeight:500},children:"Drop images here or click to browse"}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"#6b7280"},children:"Supports JPG, PNG, GIF (max 10MB per file) - Multiple files supported"})]})]}),h&&n.jsx("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:h}),s.length>0&&n.jsxs("div",{style:{marginTop:"1.5rem"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsxs("h4",{style:{margin:0},children:[s.length," image",s.length>1?"s":""," selected"]}),n.jsxs("div",{className:"button-group",children:[n.jsx("button",{className:"btn btn-primary",onClick:j,disabled:o||s.length===0,children:o?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner"}),"Testing..."]}):` Test All (${s.length})`}),n.jsx("button",{className:"btn",onClick:T,disabled:o,style:{background:"#ef4444",color:"white",border:"none"},children:"Clear All"})]})]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"1rem"},children:s.map((D,z)=>n.jsxs("div",{style:{position:"relative",border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},children:[D.preview&&n.jsx("img",{src:D.preview,alt:`Preview ${z+1}`,style:{width:"100%",height:"150px",objectFit:"cover"}}),n.jsx("div",{style:{padding:"0.5rem",fontSize:"0.75rem",wordBreak:"break-all"},children:D.file.name}),!o&&n.jsx("button",{onClick:()=>M(z),style:{position:"absolute",top:"4px",right:"4px",background:"rgba(239, 68, 68, 0.9)",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",cursor:"pointer",fontSize:"1rem",lineHeight:"1",padding:0},children:""})]},z))})]})]}),u.length>0&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsx("h2",{children:"Recognition Results"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"1.5rem",marginTop:"1rem"},children:u.map((D,z)=>n.jsxs("div",{className:"card",children:[n.jsx("h4",{style:{marginTop:0,fontSize:"0.875rem",color:"#6b7280",wordBreak:"break-all"},children:D.fileName}),D.status==="success"&&D.person?n.jsxs("div",{className:"result-box",style:{border:"2px solid #10b981"},children:[n.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#10b981"},children:" Recognized"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem"},children:D.person}),D.best_match?.confidence_metrics?.confidence_percentage&&n.jsxs("div",{style:{marginTop:"0.75rem"},children:[n.jsxs("div",{style:{marginBottom:"0.5rem",fontSize:"0.875rem"},children:["Confidence: ",D.best_match.confidence_metrics.confidence_percentage.toFixed(2),"%"]}),n.jsx("div",{className:"progress-bar",style:{height:"6px"},children:n.jsx("div",{className:"progress-fill",style:{width:`${D.best_match.confidence_metrics.confidence_percentage}%`,backgroundColor:"#10b981"}})})]})]}):D.status==="no_faces"||D.status==="error"?n.jsxs("div",{className:"result-box",style:{border:"2px solid #f59e0b"},children:[n.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#f59e0b"},children:" No Face Detected"}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:D.message||"No valid faces found in the image"})]}):n.jsxs("div",{className:"result-box",style:{border:"2px solid #6b7280"},children:[n.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#6b7280"},children:" Unknown Person"}),n.jsx("p",{style:{margin:0,fontSize:"0.875rem"},children:"No matching person found"})]})]},z))})]}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" Testing Tips"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsx("li",{children:"Use clear, frontal face photos for best results"}),n.jsx("li",{children:"Ensure good lighting and no obstructions"}),n.jsx("li",{children:"Single face per image works best"}),n.jsx("li",{children:"Test with various angles and expressions"}),n.jsx("li",{children:"Images should be similar to training data quality"})]})]})]})}function kv(){const[s,r]=g.useState("serbia"),[o,c]=g.useState("production"),[u,f]=g.useState(1),[h,b]=g.useState(""),[y,p]=g.useState(null),[v,x]=g.useState(!1),[w,C]=g.useState(null),[S,N]=g.useState(null),[j,T]=g.useState(null),[M,D]=g.useState(""),[z,E]=g.useState(""),[q,B]=g.useState(new Set),[W,ee]=g.useState(!1),[Z,H]=g.useState({}),[oe,pe]=g.useState(!1),Ae=50;g.useEffect(()=>{(async()=>{pe(!0);try{const de=await xt.getApprovals(s,o);de.success&&H(de.data.approvals||{})}catch(de){console.error("Failed to load approvals:",de)}finally{pe(!1)}})()},[s,o]);const[Me,Q]=g.useState({}),[ae,K]=g.useState(null);g.useEffect(()=>{const le=setTimeout(()=>{E(M),f(1)},300);return()=>clearTimeout(le)},[M]);const{data:ge}=qs(async()=>{const le=await xt.getTrainingProgress(s,o,u,Ae,z||null);return le.success?le:null},3e4,!0,[s,o,u,z]),je=ge?.data?.folders||[],R=ge?.data?.pagination||{},U=ge?.data?.summary||{},Y=je,te=async(le,de=1)=>{if(le)try{x(!0),C(null);const ve=await xt.getFolderImages(le,s,o,de,Ae);ve.success&&(p(ve.data),ve.data?.pagination?.total_items!==void 0&&Q(qe=>({...qe,[le]:ve.data.pagination.total_items})))}catch(ve){C(ve.message||"Failed to load images")}finally{x(!1)}},ce=le=>{const de=le.target.value;b(de),de?te(de,1):p(null)},ye=le=>{console.log("Domain change triggered:",le.target.value),r(le.target.value),f(1),b(""),p(null),D("")},we=le=>{c(le.target.value),f(1),b(""),p(null),D("")},Je=le=>{f(le),window.scrollTo({top:0,behavior:"smooth"})},Ye=async le=>{if(confirm("Are you sure you want to delete this image? This will also remove it from the recognition database."))try{N(le),await xt.deleteImage(le,s),await te(h,y?.pagination?.page||1)}catch(de){C(de.message||"Failed to delete image")}finally{N(null)}},Et=le=>{const de=new Set(q);de.has(le)?de.delete(le):de.add(le),B(de)},jn=()=>{if(!y?.images)return;const le=new Set(y.images.map(de=>typeof de=="string"?de:de.path));B(le)},fn=()=>{B(new Set)},Sn=async()=>{if(q.size===0)return;const le=q.size;if(confirm(`Are you sure you want to delete ${le} image${le>1?"s":""}? This will also remove them from the recognition database.`))try{ee(!0),C(null);const de=Array.from(q);let ve=0,qe=0;for(const ze of de)try{await xt.deleteImage(ze,s),ve++}catch(Jt){console.error(`Failed to delete ${ze}:`,Jt),qe++}B(new Set),await te(h,y?.pagination?.page||1),qe>0&&C(`Deleted ${ve} images, but ${qe} failed to delete.`)}catch(de){C(de.message||"Failed to delete images")}finally{ee(!1)}},Tt=le=>{T(le)},se=()=>{T(null)},O=()=>{if(!Y||!h)return-1;const le=Y.findIndex(de=>de.name===h);return le===-1?-1:(u-1)*Ae+le},ie=()=>{if(!Y||Y.length===0)return;const le=Y.findIndex(de=>de.name===h);if(le>0){const de=Y[le-1];b(de.name),te(de.name,1),B(new Set)}else if(u>1){const de=u-1;K({select:"last",forPage:de}),f(de)}},Se=()=>{if(!Y||Y.length===0)return;const le=Y.findIndex(de=>de.name===h);if(le<Y.length-1){const de=Y[le+1];b(de.name),te(de.name,1),B(new Set)}else if(u<(R.total_pages||1)){const de=u+1;K({select:"first",forPage:de}),f(de)}};g.useEffect(()=>{if(ae&&Y&&Y.length>0&&R.page===ae.forPage){if(ae.select==="first"){const le=Y[0];b(le.name),te(le.name,1),B(new Set)}else if(ae.select==="last"){const le=Y[Y.length-1];b(le.name),te(le.name,1),B(new Set)}K(null)}},[Y,ae,R.page]);const Ne=async()=>{if(h)try{const le=y?.pagination?.total_items||0;await xt.approvePerson(h,s,o,le),H(de=>({...de,[h]:{approved_at:new Date().toISOString(),image_count:le}}))}catch(le){console.error("Failed to approve:",le),C("Failed to save approval")}},wt=async()=>{if(h)try{await xt.unapprovePerson(h,s,o),H(le=>{const de={...le};return delete de[h],de})}catch(le){console.error("Failed to unapprove:",le),C("Failed to remove approval")}},ne=le=>!!Z[le],he=()=>{Ne(),Se()},[Qe,at]=g.useState(!1),Va=async()=>{if(!h)return;const le=y?.pagination?.total_items||0,de=le>0?`Are you sure you want to delete "${h}"?

This will permanently delete ${le} image(s) and the database entry.

This action cannot be undone.`:`Are you sure you want to delete "${h}"?

This person has 0 images and will be removed from the database.`;if(confirm(de)){at(!0),C(null);try{const ve=await xt.deletePerson(h,s);if(ve.success){const qe=Y.findIndex(ze=>ze.name===h);if(qe<Y.length-1){const ze=Y[qe+1];b(ze.name),te(ze.name,1)}else if(qe>0){const ze=Y[qe-1];b(ze.name),te(ze.name,1)}else b(""),p(null);B(new Set),Z[h]&&H(ze=>{const Jt={...ze};return delete Jt[h],Jt})}else C(ve.error||"Failed to delete person")}catch(ve){C(ve.response?.data?.error||ve.message||"Failed to delete person")}finally{at(!1)}}},Ga=()=>{if(!R||R.total_pages<=1)return null;const le=[],de=5;let ve=Math.max(1,u-Math.floor(de/2)),qe=Math.min(R.total_pages,ve+de-1);qe-ve<de-1&&(ve=Math.max(1,qe-de+1));for(let ze=ve;ze<=qe;ze++)le.push(ze);return n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center",marginTop:"2rem"},children:[n.jsx("button",{className:"btn",onClick:()=>Je(1),disabled:u===1,style:{padding:"0.5rem 1rem",opacity:u===1?.5:1,cursor:u===1?"not-allowed":"pointer"},children:" First"}),n.jsx("button",{className:"btn",onClick:()=>Je(u-1),disabled:u===1,style:{padding:"0.5rem 1rem",opacity:u===1?.5:1,cursor:u===1?"not-allowed":"pointer"},children:" Prev"}),ve>1&&n.jsx("span",{children:"..."}),le.map(ze=>n.jsx("button",{className:"btn",onClick:()=>Je(ze),style:{padding:"0.5rem 1rem",background:ze===u?"#667eea":"#e2e8f0",color:ze===u?"white":"#1a202c",fontWeight:ze===u?"bold":"normal"},children:ze},ze)),qe<R.total_pages&&n.jsx("span",{children:"..."}),n.jsx("button",{className:"btn",onClick:()=>Je(u+1),disabled:u===R.total_pages,style:{padding:"0.5rem 1rem",opacity:u===R.total_pages?.5:1,cursor:u===R.total_pages?"not-allowed":"pointer"},children:"Next "}),n.jsx("button",{className:"btn",onClick:()=>Je(R.total_pages),disabled:u===R.total_pages,style:{padding:"0.5rem 1rem",opacity:u===R.total_pages?.5:1,cursor:u===R.total_pages?"not-allowed":"pointer"},children:"Last "}),n.jsxs("span",{style:{marginLeft:"1rem",color:"#718096"},children:["Page ",u," of ",R.total_pages]})]})};return n.jsxs("div",{className:"page-container",children:[n.jsx(Kt,{pageName:"gallery"}),n.jsx("h1",{children:"Image Gallery"}),n.jsx("p",{className:"subtitle",children:"Browse and manage training images by domain, view, and folder."}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"domain-select",children:"Domain"}),n.jsxs("select",{id:"domain-select",className:"form-input",value:s,onChange:ye,style:{fontSize:"1rem",padding:"0.75rem"},children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"view-select",children:"View"}),n.jsxs("select",{id:"view-select",className:"form-input",value:o,onChange:we,style:{fontSize:"1rem",padding:"0.75rem"},children:[n.jsx("option",{value:"production",children:"Production (Live Recognition)"}),n.jsx("option",{value:"staging",children:"Staging (Awaiting Deployment)"})]})]})]}),U&&n.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f7fafc",borderRadius:"0.5rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#718096"},children:"Total People"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2d3748"},children:R.total_items||0})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#718096"},children:"Total Images"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#2d3748"},children:U.total_images||0})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#718096"},children:"Ready (50+ images)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#38a169"},children:U.ready_for_training||0})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.875rem",color:"#718096"},children:"Insufficient (<20)"}),n.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#e53e3e"},children:U.insufficient_images||0})]})]})]}),Ga(),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("div",{className:"form-group",style:{marginBottom:"1rem"},children:[n.jsx("label",{htmlFor:"folder-search",children:"Search Person"}),n.jsx("input",{id:"folder-search",type:"text",className:"form-input",value:M,onChange:le=>D(le.target.value),placeholder:"Type to filter people...",style:{fontSize:"1rem",padding:"0.75rem"}}),M&&n.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#718096"},children:["Found ",Y.length," of ",je.length," people"]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"folder-select",children:"Select Training Folder"}),n.jsxs("select",{id:"folder-select",className:"form-input",value:h,onChange:ce,style:{fontSize:"1rem",padding:"0.75rem"},children:[n.jsx("option",{value:"",children:"-- Choose a folder --"}),Y&&Y.map((le,de)=>{const ve=Me[le.name]??le.image_count??0;return n.jsxs("option",{value:le.name,children:[ne(le.name)?" ":"",le.display_name||le.name," (",ve," images)"]},de)})]})]}),h&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginTop:"1rem",padding:"1rem",background:"#f7fafc",borderRadius:"0.5rem"},children:[n.jsx("button",{className:"btn",onClick:ie,disabled:O()<=0,style:{padding:"0.5rem 1rem",opacity:O()<=0?.5:1,cursor:O()<=0?"not-allowed":"pointer"},children:" Previous"}),n.jsxs("span",{style:{color:"#4a5568",fontWeight:"500"},children:["Person ",O()+1," of ",R.total_items||Y.length]}),n.jsx("button",{className:"btn",onClick:Se,disabled:O()>=(R.total_items||Y.length)-1,style:{padding:"0.5rem 1rem",opacity:O()>=(R.total_items||Y.length)-1?.5:1,cursor:O()>=(R.total_items||Y.length)-1?"not-allowed":"pointer"},children:"Next "}),n.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"0.5rem"},children:[ne(h)?n.jsx("button",{className:"btn",onClick:wt,style:{background:"#718096",color:"white",border:"none",padding:"0.5rem 1rem"},children:" Approved - Undo"}):n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"btn",onClick:Ne,style:{background:"#38a169",color:"white",border:"none",padding:"0.5rem 1rem"},children:" Approve"}),n.jsx("button",{className:"btn",onClick:he,style:{background:"#2b6cb0",color:"white",border:"none",padding:"0.5rem 1rem"},children:" Approve & Next "})]}),n.jsx("button",{className:"btn",onClick:Va,disabled:Qe,style:{background:"#dc2626",color:"white",border:"none",padding:"0.5rem 1rem",opacity:Qe?.7:1},title:"Delete this person from the database",children:Qe?"Removing...":"Remove"})]})]})]}),w&&n.jsx("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:w}),v?n.jsxs("div",{className:"loading-state",style:{marginTop:"3rem"},children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading images..."})]}):y?n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[n.jsxs("h2",{style:{margin:0},children:[y.folder," - ",y.pagination?.total_items||0," images"]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",alignItems:"center"},children:[q.size>0&&n.jsxs(n.Fragment,{children:[n.jsxs("span",{style:{color:"#4a5568",fontWeight:"500"},children:[q.size," selected"]}),n.jsx("button",{className:"btn",onClick:jn,style:{background:"#4299e1",color:"white",border:"none"},children:"Select All"}),n.jsx("button",{className:"btn",onClick:fn,style:{background:"#718096",color:"white",border:"none"},children:"Clear"}),n.jsx("button",{className:"btn",onClick:Sn,disabled:W,style:{background:"#e53e3e",color:"white",border:"none"},children:W?"Deleting...":"Delete Selected"})]}),n.jsx("button",{className:"btn",onClick:()=>te(h,y.pagination?.page||1),style:{background:"#667eea",color:"white",border:"none"},children:"Refresh"})]})]}),y.images&&y.images.length>0?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"gallery-grid",children:y.images.map((le,de)=>{const ve=typeof le=="string"?le:le.name,qe=typeof le=="string"?le:le.path,ze=q.has(qe),Jt=`https://facerecognition.mpanel.app/api/training/image/production/${s}/${ve}`;return n.jsxs("div",{className:"gallery-item",style:{border:ze?"3px solid #e53e3e":"1px solid #e2e8f0",boxShadow:ze?"0 0 10px rgba(229, 62, 62, 0.5)":"none",position:"relative"},children:[n.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",zIndex:10},children:n.jsx("input",{type:"checkbox",checked:ze,onChange:()=>Et(qe),style:{width:"20px",height:"20px",cursor:"pointer",accentColor:"#e53e3e"}})}),n.jsx("img",{src:Jt,alt:`${y.folder} - ${de+1}`,onClick:()=>Tt({name:ve,path:qe,url:Jt}),loading:"lazy",style:{cursor:"zoom-in"}}),n.jsxs("div",{className:"gallery-item-overlay",children:[n.jsx("button",{className:"gallery-action-btn view-btn",onClick:()=>Tt({name:ve,path:qe,url:Jt}),title:"View full size",children:""}),n.jsx("button",{className:"gallery-action-btn delete-btn",onClick:()=>Ye(qe),disabled:S===qe,title:"Delete image",children:S===qe?"":""})]}),n.jsx("div",{className:"gallery-item-info",children:n.jsx("small",{children:ve||`Image ${de+1}`})})]},de)})}),y.pagination&&y.pagination.total_pages>1&&n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",justifyContent:"center",marginTop:"2rem"},children:[n.jsx("button",{className:"btn",onClick:()=>te(h,1),disabled:y.pagination.page===1,style:{padding:"0.5rem 1rem",opacity:y.pagination.page===1?.5:1,cursor:y.pagination.page===1?"not-allowed":"pointer"},children:" First"}),n.jsx("button",{className:"btn",onClick:()=>te(h,y.pagination.page-1),disabled:y.pagination.page===1,style:{padding:"0.5rem 1rem",opacity:y.pagination.page===1?.5:1,cursor:y.pagination.page===1?"not-allowed":"pointer"},children:" Prev"}),n.jsxs("span",{style:{color:"#718096"},children:["Page ",y.pagination.page," of ",y.pagination.total_pages]}),n.jsx("button",{className:"btn",onClick:()=>te(h,y.pagination.page+1),disabled:y.pagination.page===y.pagination.total_pages,style:{padding:"0.5rem 1rem",opacity:y.pagination.page===y.pagination.total_pages?.5:1,cursor:y.pagination.page===y.pagination.total_pages?"not-allowed":"pointer"},children:"Next "}),n.jsx("button",{className:"btn",onClick:()=>te(h,y.pagination.total_pages),disabled:y.pagination.page===y.pagination.total_pages,style:{padding:"0.5rem 1rem",opacity:y.pagination.page===y.pagination.total_pages?.5:1,cursor:y.pagination.page===y.pagination.total_pages?"not-allowed":"pointer"},children:"Last "})]})]}):n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"No Images Found"}),n.jsx("p",{children:"This folder doesn't contain any images yet."})]})]}):h?n.jsxs("div",{className:"empty-state",style:{marginTop:"3rem"},children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"Loading..."}),n.jsx("p",{children:"Please wait while we load the images."})]}):n.jsxs("div",{className:"empty-state",style:{marginTop:"3rem"},children:[n.jsx("div",{className:"empty-icon",children:""}),n.jsx("h3",{children:"No Folder Selected"}),n.jsx("p",{children:"Select a training folder above to view its images."})]}),j&&n.jsx("div",{className:"lightbox",onClick:se,children:n.jsxs("div",{className:"lightbox-content",onClick:le=>le.stopPropagation(),children:[n.jsx("button",{className:"lightbox-close",onClick:se,children:""}),n.jsx("img",{src:j.url||j.path,alt:j.name||"Full size image"}),n.jsxs("div",{className:"lightbox-info",children:[n.jsx("p",{children:j.name||"Image"}),j.size&&n.jsxs("small",{children:["Size: ",(j.size/1024).toFixed(2)," KB"]})]})]})}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" Gallery Features"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Production View:"})," Browse all 29k+ images currently used for face recognition"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Staging View:"})," Review validated images awaiting deployment"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Domain Switching:"})," Switch between Serbia and Slovenia databases"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Pagination:"})," Navigate large datasets efficiently (50 items per page)"]}),n.jsx("li",{children:"Click any image to view full size"}),n.jsx("li",{children:"Delete unwanted or low-quality images"}),n.jsx("li",{children:"Minimum 20 images per person recommended, 50+ optimal for training"})]})]})]})}function Dv(){const[s,r]=g.useState(!1),[o,c]=g.useState(null),[u,f]=g.useState([]),[h,b]=g.useState(null);return{candidates:u,statistics:h,loading:s,error:o,generateCandidates:async(j,T,M)=>{r(!0),c(null),f([]),b(null);try{const D=await mt.generateCandidates(j,T,M);if(D.success){const z=D.candidates.map(E=>({...E,isSelected:!E.exists_in_db}));return f(z),b(D.statistics),D}else throw new Error(D.message||"Failed to generate candidates")}catch(D){const z=D.response?.data?.error||D.message||"Failed to generate candidates";throw c(z),D}finally{r(!1)}},toggleCandidate:j=>{f(T=>T.map(M=>M.wikidata_id===j?{...M,isSelected:!M.isSelected}:M))},selectAll:()=>{f(j=>j.map(T=>({...T,isSelected:!0})))},selectOnlyNew:()=>{f(j=>j.map(T=>({...T,isSelected:!T.exists_in_db})))},deselectAll:()=>{f(j=>j.map(T=>({...T,isSelected:!1})))},getSelectedCandidates:()=>u.filter(j=>j.isSelected),getSelectedCount:()=>u.filter(j=>j.isSelected).length,clearCandidates:()=>{f([]),b(null),c(null)}}}function Bv(){const s=bn(),[r,o]=g.useState([]),[c,u]=g.useState([]),[f,h]=g.useState("serbia"),[b,y]=g.useState(""),[p,v]=g.useState("new"),[x,w]=g.useState(!1),{candidates:C,statistics:S,loading:N,error:j,generateCandidates:T,toggleCandidate:M,selectAll:D,selectOnlyNew:z,deselectAll:E,getSelectedCount:q,clearCandidates:B}=Dv();g.useEffect(()=>{(async()=>{try{const[oe,pe]=await Promise.all([mt.getCountries(),mt.getOccupations()]);oe.success&&o(oe.countries),pe.success&&u(pe.occupations)}catch(oe){console.error("Failed to load data:",oe)}})()},[]),g.useEffect(()=>{c.length>0&&!b&&y(c[0].id||c[0].code)},[c]);const W=async()=>{if(!(!f||!b)){w(!0);try{await T(f,b,f),v("new")}catch(H){console.error("Generate failed:",H)}finally{w(!1)}}},ee=async()=>{const H=C.filter(oe=>oe.isSelected);if(H.length===0){alert("Please select at least one candidate");return}try{const oe=await mt.startBatch(H,f);oe.success&&s(`/training/batch/${oe.batch_id}`)}catch(oe){console.error("Failed to start batch:",oe)}},Z=C.filter(H=>p==="new"?!H.exists_in_db:p==="existing"?H.exists_in_db:!0);return n.jsxs("div",{className:"generate-candidates-container",children:[n.jsx(Kt,{pageName:"automated-generate"}),n.jsxs("div",{className:"generate-header",children:[n.jsx("h1",{children:"Generate Training Candidates"}),n.jsx("p",{children:"Select country and occupation to generate celebrity candidates from Wikidata"})]}),n.jsx("div",{className:"form-section",children:n.jsxs("div",{className:"form-grid",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Country"}),n.jsx("select",{value:f,onChange:H=>h(H.target.value),disabled:x||N,children:r.map(H=>n.jsx("option",{value:H.id||H.code,children:H.name},H.id||H.code))})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Occupation"}),n.jsx("select",{value:b,onChange:H=>y(H.target.value),disabled:x||N,children:c.map(H=>n.jsx("option",{value:H.id||H.code,children:H.name},H.id||H.code))})]}),n.jsx(Le,{content:"Query Wikidata to find celebrities from the selected country and occupation",position:"top",children:n.jsx("button",{onClick:W,disabled:x||N,className:"btn-primary",style:{alignSelf:"flex-end"},children:x?"Generating...":"Generate"})})]})}),j&&n.jsxs("div",{className:"error-box",children:[n.jsx("p",{children:"Error"}),n.jsx("p",{children:j})]}),C.length>0&&n.jsxs("div",{className:"results-section",children:[S&&n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-box blue",children:[n.jsx("p",{children:"Total Found"}),n.jsx("div",{className:"stat-number",children:S.total})]}),n.jsxs("div",{className:"stat-box green",children:[n.jsx("p",{children:"New People"}),n.jsx("div",{className:"stat-number",children:S.new_people})]}),n.jsxs("div",{className:"stat-box gray",children:[n.jsx("p",{children:"Already in DB"}),n.jsx("div",{className:"stat-number",children:S.existing_people})]})]}),n.jsxs("div",{className:"filter-buttons",children:[n.jsxs("button",{onClick:()=>v("new"),className:`filter-button ${p==="new"?"active green":""}`,children:["Show New (",S?.new_people||0,")"]}),n.jsxs("button",{onClick:()=>v("existing"),className:`filter-button ${p==="existing"?"active gray":""}`,children:["Show Existing (",S?.existing_people||0,")"]}),n.jsxs("button",{onClick:()=>v("all"),className:`filter-button ${p==="all"?"active blue":""}`,children:["Show All (",S?.total||0,")"]})]}),n.jsxs("div",{className:"selection-buttons",children:[n.jsx("button",{onClick:z,className:"selection-button green",children:"Select New Only"}),n.jsx("button",{onClick:D,className:"selection-button blue",children:"Select All"}),n.jsx("button",{onClick:E,className:"selection-button gray",children:"Deselect All"}),n.jsx("button",{onClick:B,className:"selection-button red",children:"Clear Results"})]}),n.jsx("div",{className:"candidates-list",children:Z.length===0?n.jsx("div",{className:"candidates-empty",children:"No candidates match the current filter"}):n.jsx(n.Fragment,{children:Z.map(H=>n.jsxs("div",{className:"candidate-item",children:[n.jsx("input",{type:"checkbox",checked:H.isSelected,onChange:()=>M(H.wikidata_id),className:"candidate-checkbox"}),n.jsxs("div",{className:"candidate-content",children:[n.jsxs("div",{className:"candidate-name",children:[H.full_name||H.name,H.exists_in_db?n.jsx(Le,{content:`Already trained with ${H.existing_photo_count||0} photos. Training again will add ${50-(H.existing_photo_count||0)} more photos (target: 50)`,position:"top",children:n.jsxs("span",{className:"candidate-badge exists",children:[" EXISTS (",H.existing_photo_count||0,")"]})}):n.jsx("span",{className:"candidate-badge new",children:" NEW"})]}),n.jsxs("div",{className:"candidate-meta",children:[n.jsx("a",{href:H.wikipedia_url,target:"_blank",rel:"noopener noreferrer",children:"Wikipedia"}),n.jsxs("span",{children:["Wikidata: ",H.wikidata_id]}),H.wikimedia_available_count>0&&n.jsxs("span",{children:[" ",H.wikimedia_available_count," Wikimedia photos"]}),H.exists_in_db&&H.existing_photo_count>0&&n.jsxs("span",{className:"extra-info",children:[H.existing_photo_count," in DB  Will add ",Math.max(0,50-H.existing_photo_count)," more"]})]}),"                    "]})]},H.wikidata_id))})}),n.jsx("div",{className:"action-buttons",children:n.jsxs("button",{onClick:ee,disabled:q()===0,className:"btn-primary",children:["Start Training (",q()," selected)"]})})]}),C.length===0&&!N&&!j&&n.jsx("div",{className:"empty-state",children:n.jsx("p",{children:'Select a country and occupation, then click "Generate" to find celebrity candidates'})})]})}function Ov(s,r=3e3){const[o,c]=g.useState(null),u=g.useCallback(async()=>{if(!s)return null;try{c(null);const w=await mt.getBatchStatus(s);if(w.success)return w;throw new Error(w.message||"Failed to fetch batch status")}catch(w){const C=w.message||"Failed to fetch batch status";throw c(C),w}},[s]),{data:f,loading:h,refetch:b,isPolling:y,startPolling:p,stopPolling:v}=qs(u,r,!!s),x=g.useCallback(async()=>{if(s)try{const w=await mt.cancelBatch(s);return w.success&&(v(),await b()),w}catch(w){throw c(w.message||"Failed to cancel batch"),w}},[s,v,b]);return{batchStatus:f,loading:h,error:o,refetch:b,isPolling:y,startPolling:p,stopPolling:v,cancelBatch:x}}function Qh(){const{batchId:s}=Hy(),r=bn(),{batchStatus:o,loading:c,error:u,isPolling:f,startPolling:h,stopPolling:b,cancelBatch:y}=Ov(s,3e3);g.useEffect(()=>(h(),()=>b()),[h,b]),g.useEffect(()=>{o?.status==="completed"&&(b(),setTimeout(()=>{r("/training/review")},2e3))},[o?.status,r,b]);const p=async()=>{if(confirm("Are you sure you want to cancel this batch?"))try{await y()}catch(j){console.error("Failed to cancel batch:",j)}},v=()=>o?Math.round(o.completed/o.total*100):0,x={page:{width:"100%",minHeight:"100vh",padding:"24px",paddingBottom:"100px",boxSizing:"border-box",backgroundColor:"#f8fafc"},container:{maxWidth:"1200px",margin:"0 auto"},header:{marginBottom:"24px"},title:{fontSize:"28px",fontWeight:"bold",color:"#1a1a1a",margin:"0 0 8px 0"},subtitle:{color:"#666",margin:0,fontSize:"14px"},batchId:{fontFamily:"monospace",backgroundColor:"#e2e8f0",padding:"2px 8px",borderRadius:"4px"},card:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"1px solid #e2e8f0"},cardHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},cardTitle:{fontSize:"20px",fontWeight:"600",color:"#1a1a1a",margin:0},statusBadge:{padding:"6px 16px",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},progressBarContainer:{backgroundColor:"#e2e8f0",borderRadius:"10px",height:"20px",overflow:"hidden",marginBottom:"24px"},progressBar:{height:"100%",borderRadius:"10px",transition:"width 0.5s ease-in-out"},progressText:{display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#666",marginBottom:"8px"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},statCard:{padding:"20px",borderRadius:"12px",textAlign:"center"},statLabel:{fontSize:"13px",color:"#666",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},statValue:{fontSize:"32px",fontWeight:"bold",margin:0},personCard:{border:"2px solid #e2e8f0",borderRadius:"12px",padding:"20px",marginBottom:"16px",backgroundColor:"#fff",transition:"all 0.2s ease"},personHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},personInfo:{display:"flex",alignItems:"center",gap:"12px"},personIcon:{fontSize:"28px",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},personName:{fontSize:"16px",fontWeight:"600",color:"#1a1a1a",margin:"0 0 4px 0",textTransform:"capitalize"},wikidataId:{fontSize:"12px",color:"#666",margin:0},miniProgressContainer:{backgroundColor:"#e2e8f0",borderRadius:"4px",height:"8px",overflow:"hidden",marginTop:"8px"},miniProgressBar:{height:"100%",borderRadius:"4px",transition:"width 0.3s ease"},progressLabel:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",marginBottom:"4px"},btn:{padding:"10px 20px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.2s ease"},pollingIndicator:{display:"flex",alignItems:"center",gap:"8px",marginTop:"16px",fontSize:"13px",color:"#666"},pulsingDot:{width:"8px",height:"8px",backgroundColor:"#3b82f6",borderRadius:"50%",animation:"pulse 1.5s ease-in-out infinite"},completionBanner:{marginTop:"24px",padding:"24px",borderRadius:"12px",border:"2px solid"}},w=j=>{switch(j){case"completed":return{badge:{backgroundColor:"#dcfce7",color:"#166534"},border:"#86efac",bg:"#f0fdf4",icon:{backgroundColor:"#dcfce7"}};case"processing":return{badge:{backgroundColor:"#dbeafe",color:"#1d4ed8"},border:"#93c5fd",bg:"#eff6ff",icon:{backgroundColor:"#dbeafe"}};case"failed":return{badge:{backgroundColor:"#fef2f2",color:"#dc2626"},border:"#fca5a5",bg:"#fef2f2",icon:{backgroundColor:"#fef2f2"}};default:return{badge:{backgroundColor:"#f3f4f6",color:"#374151"},border:"#e5e7eb",bg:"#f9fafb",icon:{backgroundColor:"#f3f4f6"}}}},C=j=>{switch(j){case"completed":return"";case"processing":return"";case"failed":return"";default:return""}},S=()=>o?.status==="completed"?"#16a34a":o?.status==="cancelled"?"#dc2626":"#3b82f6";if(c&&!o)return n.jsx("div",{style:x.page,children:n.jsx("div",{style:x.container,children:n.jsxs("div",{style:{...x.card,textAlign:"center",padding:"60px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e2e8f0",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),n.jsx("p",{style:{color:"#666",fontSize:"16px"},children:"Loading batch status..."})]})})});if(u&&!o)return n.jsx("div",{style:x.page,children:n.jsx("div",{style:x.container,children:n.jsxs("div",{style:{...x.card,backgroundColor:"#fef2f2",borderColor:"#fca5a5"},children:[n.jsx("p",{style:{fontWeight:"600",color:"#dc2626",marginBottom:"8px",fontSize:"18px"},children:"Error Loading Batch"}),n.jsx("p",{style:{color:"#991b1b",marginBottom:"20px"},children:u}),n.jsx("button",{onClick:()=>r("/training/generate"),style:{...x.btn,backgroundColor:"#dc2626",color:"#fff"},children:"Back to Generate"})]})})});const N=o?.status==="running"?"Processing":o?.status==="completed"?"Complete":o?.status==="cancelled"?"Cancelled":"Unknown";return n.jsxs("div",{style:x.page,children:[n.jsx("style",{children:`
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
      `}),n.jsxs("div",{style:x.container,children:[n.jsx(Kt,{pageName:"automated-batch"}),n.jsxs("div",{style:x.header,children:[n.jsx("h1",{style:x.title,children:"Batch Training Progress"}),n.jsxs("p",{style:x.subtitle,children:["Batch ID: ",n.jsx("span",{style:x.batchId,children:s})]})]}),n.jsxs("div",{style:x.card,children:[n.jsxs("div",{style:x.cardHeader,children:[n.jsxs("div",{children:[n.jsx("h2",{style:x.cardTitle,children:"Overall Progress"}),n.jsx("p",{style:{color:"#666",margin:"4px 0 0 0",fontSize:"14px"},children:N})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o?.status==="running"&&n.jsx("button",{onClick:p,style:{...x.btn,backgroundColor:"#dc2626",color:"#fff"},children:"Cancel Batch"}),n.jsx("div",{style:{...x.statusBadge,backgroundColor:o?.status==="completed"?"#dcfce7":o?.status==="cancelled"?"#fef2f2":"#dbeafe",color:o?.status==="completed"?"#166534":o?.status==="cancelled"?"#dc2626":"#1d4ed8"},children:N})]})]}),n.jsxs("div",{style:x.progressText,children:[n.jsxs("span",{children:[o?.completed||0," of ",o?.total||0," people processed"]}),n.jsxs("span",{style:{fontWeight:"600"},children:[v(),"%"]})]}),n.jsx("div",{style:x.progressBarContainer,children:n.jsx("div",{style:{...x.progressBar,width:`${v()}%`,backgroundColor:S()}})}),n.jsxs("div",{style:x.statsGrid,children:[n.jsxs("div",{style:{...x.statCard,backgroundColor:"#eff6ff",borderLeft:"4px solid #3b82f6"},children:[n.jsx("p",{style:x.statLabel,children:"Total"}),n.jsx("p",{style:{...x.statValue,color:"#3b82f6"},children:o?.total||0})]}),n.jsxs("div",{style:{...x.statCard,backgroundColor:"#f0fdf4",borderLeft:"4px solid #16a34a"},children:[n.jsx("p",{style:x.statLabel,children:"Completed"}),n.jsx("p",{style:{...x.statValue,color:"#16a34a"},children:o?.completed||0})]}),n.jsxs("div",{style:{...x.statCard,backgroundColor:"#fefce8",borderLeft:"4px solid #ca8a04"},children:[n.jsx("p",{style:x.statLabel,children:"Processing"}),n.jsx("p",{style:{...x.statValue,color:"#ca8a04"},children:o?.processing||0})]}),n.jsxs("div",{style:{...x.statCard,backgroundColor:"#fef2f2",borderLeft:"4px solid #dc2626"},children:[n.jsx("p",{style:x.statLabel,children:"Failed"}),n.jsx("p",{style:{...x.statValue,color:"#dc2626"},children:o?.failed||0})]})]}),f&&o?.status==="running"&&n.jsxs("div",{style:x.pollingIndicator,children:[n.jsx("div",{style:x.pulsingDot}),n.jsx("span",{children:"Auto-refreshing every 3 seconds..."})]})]}),n.jsxs("div",{style:x.card,children:[n.jsx("h2",{style:{...x.cardTitle,marginBottom:"20px"},children:"Person-by-Person Progress"}),o?.people?.length===0?n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:"No people in this batch"}):n.jsx("div",{children:o?.people?.map(j=>{const T=w(j.status);return n.jsxs("div",{style:{...x.personCard,borderColor:T.border,backgroundColor:T.bg},children:[n.jsxs("div",{style:x.personHeader,children:[n.jsxs("div",{style:x.personInfo,children:[n.jsx("div",{style:{...x.personIcon,...T.icon,color:T.badge.color,fontWeight:"bold"},children:C(j.status)}),n.jsxs("div",{children:[n.jsx("h3",{style:x.personName,children:j.full_name||j.name?.replace(/_/g," ")}),n.jsxs("p",{style:x.wikidataId,children:["Wikidata: ",j.wikidata_id]})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("div",{style:{...x.statusBadge,...T.badge,textTransform:"uppercase",fontSize:"11px",letterSpacing:"0.5px"},children:j.status||"pending"}),j.gallery_url&&n.jsx("a",{href:`https://facerecognition.mpanel.app${j.gallery_url}`,target:"_blank",rel:"noopener noreferrer",style:{padding:"4px 8px",backgroundColor:"#3b82f6",color:"#fff",fontSize:"11px",borderRadius:"4px",textDecoration:"none"},children:"Gallery"})]})]}),j.current_step&&n.jsxs("div",{style:{fontSize:"13px",color:"#666",marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[n.jsx("span",{style:{color:"#3b82f6"},children:""}),j.current_step.replace(/_/g," ")]}),j.photos_downloaded!==void 0&&n.jsxs("div",{style:{marginBottom:"12px"},children:[n.jsxs("div",{style:x.progressLabel,children:[n.jsx("span",{children:"Images Downloaded"}),n.jsxs("span",{style:{fontWeight:"600"},children:[j.photos_downloaded||0,(j.photos_from_wikimedia!==void 0||j.photos_from_serp!==void 0)&&n.jsxs("span",{style:{color:"#666",fontWeight:"normal"},children:[" ","(Wikimedia: ",j.photos_from_wikimedia||0,", SERP: ",j.photos_from_serp||0,")"]})]})]}),n.jsx("div",{style:x.miniProgressContainer,children:n.jsx("div",{style:{...x.miniProgressBar,width:`${Math.min(100,j.photos_downloaded/40*100)}%`,backgroundColor:"#3b82f6"}})})]}),j.valid_photos!==void 0&&j.status==="completed"&&n.jsx("div",{style:{marginTop:"12px",padding:"12px",borderRadius:"8px",backgroundColor:j.valid_photos>=5?"#dcfce7":"#fef9c3",border:`1px solid ${j.valid_photos>=5?"#86efac":"#fde047"}`},children:n.jsx("p",{style:{margin:0,fontSize:"13px",color:j.valid_photos>=5?"#166534":"#854d0e",fontWeight:"500"},children:j.valid_photos>=5?` ${j.valid_photos} valid photos - Ready for production`:` Only ${j.valid_photos} valid photos - Needs ${5-j.valid_photos} more`})}),j.error_message&&n.jsx("div",{style:{marginTop:"12px",padding:"12px",borderRadius:"8px",backgroundColor:"#fef2f2",border:"1px solid #fca5a5"},children:n.jsx("p",{style:{margin:0,fontSize:"13px",color:"#dc2626"},children:j.error_message})})]},j.person_id)})})]}),o?.status==="completed"&&n.jsxs("div",{style:{...x.completionBanner,backgroundColor:"#f0fdf4",borderColor:"#86efac"},children:[n.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"600",color:"#166534"},children:"Batch Training Complete!"}),n.jsx("p",{style:{margin:0,color:"#15803d",fontSize:"14px"},children:"Redirecting to review and deploy page in a moment..."})]}),o?.status==="cancelled"&&n.jsxs("div",{style:{...x.completionBanner,backgroundColor:"#fef2f2",borderColor:"#fca5a5"},children:[n.jsx("p",{style:{margin:"0 0 8px 0",fontSize:"20px",fontWeight:"600",color:"#dc2626"},children:"Batch Cancelled"}),n.jsx("p",{style:{margin:"0 0 16px 0",color:"#991b1b",fontSize:"14px"},children:"This batch was cancelled by the user."}),n.jsx("button",{onClick:()=>r("/training/generate"),style:{...x.btn,backgroundColor:"#dc2626",color:"#fff"},children:"Start New Batch"})]})]})]})}function Mv(){const s=bn(),[r,o]=g.useState(!0),[c,u]=g.useState(null),[f,h]=g.useState([]),[b,y]=g.useState([]),[p,v]=g.useState(!1),[x,w]=g.useState(null),[C,S]=g.useState({}),[N,j]=g.useState(!1),[T,M]=g.useState(null),[D,z]=g.useState(null),[E,q]=g.useState(null),[B,W]=g.useState(!1),[ee,Z]=g.useState({running:[],completed:[]}),[H,oe]=g.useState(null);g.useEffect(()=>{console.log("DEBUG: ReviewDeploy useEffect mounted"),pe(),je();const O=setInterval(je,3e3);return()=>clearInterval(O)},[]),g.useEffect(()=>{if(!D)return;const O=async()=>{try{const Se=await mt.getSerpBatchStatus(D);q(Se),Se.status==="completed"&&(z(null),setTimeout(()=>pe(),1e3))}catch(Se){console.error("Failed to poll SERP status:",Se)}};O();const ie=setInterval(O,2e3);return()=>clearInterval(ie)},[D]);const pe=async()=>{o(!0),u(null);try{const O=await mt.getStagingList("serbia");if(console.log("DEBUG: loadStagingList response:",O),O.success){console.log("DEBUG: Setting stagingList with",O.people.length,"people"),h(O.people);const ie=O.people.filter(Se=>Se.ready_for_production).map(Se=>Se.folder_name);console.log("DEBUG: readyPeople from response:",ie),y(ie),S({}),M(null)}else throw new Error(O.message||"Failed to load staging list")}catch(O){u(O.message||"Failed to load staging list")}finally{o(!1)}},Ae=O=>{y(ie=>ie.includes(O)?ie.filter(Se=>Se!==O):[...ie,O])},Me=()=>{const O=f.filter(ie=>ie.ready_for_production).map(ie=>ie.folder_name);y(O)},Q=()=>{y([])},ae=async()=>{if(b.length===0){alert("Please select at least one person to deploy");return}if(confirm(`Deploy ${b.length} people to production?`)){v(!0),w(null),u(null);try{const O=await mt.deployToProduction(b,"serbia");if(O.success)w(O),setTimeout(()=>{pe(),y([])},2e3);else throw new Error(O.message||"Deployment failed")}catch(O){u(O.message||"Deployment failed")}finally{v(!1)}}},K=(O,ie)=>{S(Se=>{const Ne={...Se};return Ne[O]===ie?delete Ne[O]:Ne[O]=ie,Ne})},ge=async()=>{const O=[],ie=[];if(Object.entries(C).forEach(([Ne,wt])=>{wt==="serp"?O.push({folder_name:Ne,full_name:Ne.replace(/_/g," ")}):wt==="remove"&&ie.push(Ne)}),O.length===0&&ie.length===0){alert("Please select at least one action");return}const Se=[];if(O.length>0&&Se.push(`Train ${O.length} via SERP`),ie.length>0&&Se.push(`Remove ${ie.length}`),!!confirm(`Apply actions?

${Se.join(`
`)}`)){j(!0),M(null);try{const Ne={serp:null,remove:null};O.length>0&&(Ne.serp=await mt.trainViaSERP(O,"serbia"),Ne.serp.batch_id&&z(Ne.serp.batch_id)),ie.length>0&&(Ne.remove=await mt.removeFromStaging(ie,"serbia")),M(Ne),S({}),ie.length>0&&O.length===0&&setTimeout(()=>pe(),1e3)}catch(Ne){u(Ne.message||"Failed to apply actions")}finally{j(!1)}}},je=async()=>{try{const O=await mt.listAllBatches();O.success&&Z({running:O.running_batches||[],completed:O.completed_batches||[]})}catch(O){console.error("Failed to load batches:",O)}},R=O=>{oe(H===O?null:O)},U=O=>`https://facerecognition.mpanel.app${O}`,Y=(O,ie,Se)=>{console.warn(`Image failed to load: ${O}/${ie}`),Se?.target?.parentElement&&(Se.target.parentElement.style.display="none")},te=async(O,ie,Se)=>{Se.preventDefault(),Se.stopPropagation();try{const Ne=await mt.deleteStagingImage("serbia",O,ie);Ne.success&&h(wt=>wt.map(ne=>ne.folder_name===O?{...ne,images:ne.images.filter(he=>he.filename!==ie),image_count:Ne.remaining_images,ready_for_production:Ne.remaining_images>=5,status:Ne.remaining_images>=5?"ready":"insufficient"}:ne))}catch(Ne){alert("Failed to delete image: "+Ne.message)}},ce=async O=>{try{const ie=await mt.deployToProduction([O],"serbia");ie.success?(h(Se=>Se.filter(Ne=>Ne.folder_name!==O)),y(Se=>Se.filter(Ne=>Ne!==O))):alert("Failed to approve: "+(ie.message||"Unknown error"))}catch(ie){alert("Failed to approve: "+ie.message)}},ye=async O=>{if(confirm(`Remove "${O.replace(/_/g," ")}" from staging?`))try{const ie=await mt.removeFromStaging([O],"serbia");ie.success?pe():alert("Failed to remove: "+(ie.message||"Unknown error"))}catch(ie){alert("Failed to remove: "+ie.message)}},we=f.filter(O=>O.ready_for_production);console.log("DEBUG readyPeople for rendering:",we);const Je=new Set(ee.running.flatMap(O=>(O.people||[]).filter(ie=>ie.status==="queued"||ie.status==="processing").map(ie=>ie.folder_name))),Ye=f.filter(O=>!O.ready_for_production&&!Je.has(O.folder_name)),Et=f.filter(O=>!O.ready_for_production&&Je.has(O.folder_name)),jn=f.filter(O=>b.includes(O.folder_name)).reduce((O,ie)=>O+ie.image_count,0),fn=Object.values(C).filter(O=>O==="serp").length,Sn=Object.values(C).filter(O=>O==="remove").length,Tt=fn>0||Sn>0,se={page:{width:"100%",minHeight:"100vh",padding:"24px",paddingBottom:"100px",boxSizing:"border-box"},container:{maxWidth:"1200px",margin:"0 auto"},header:{marginBottom:"24px"},title:{fontSize:"28px",fontWeight:"bold",color:"#1a1a1a",margin:"0 0 8px 0"},subtitle:{color:"#666",margin:0},statsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},statCard:{padding:"20px",borderRadius:"12px",border:"1px solid #e0e0e0",backgroundColor:"#fff"},statLabel:{fontSize:"14px",color:"#666",marginBottom:"4px"},statValue:{fontSize:"36px",fontWeight:"bold",margin:0},buttonRow:{display:"flex",gap:"12px",marginBottom:"24px",flexWrap:"wrap"},btn:{padding:"10px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:"500",fontSize:"14px"},section:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #e0e0e0"},sectionTitle:{fontSize:"20px",fontWeight:"bold",color:"#1a1a1a",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},personCard:{padding:"16px",borderRadius:"8px",marginBottom:"12px",display:"flex",alignItems:"center",gap:"16px"},personName:{fontSize:"16px",fontWeight:"600",color:"#1a1a1a",textTransform:"capitalize",margin:"0 0 4px 0"},badge:{display:"inline-block",padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600"},checkbox:{width:"20px",height:"20px",cursor:"pointer"},floatingButton:{position:"fixed",bottom:"24px",right:"90px",padding:"14px 24px",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:"600",fontSize:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",alignItems:"center",gap:"8px"},actionCheckbox:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",border:"2px solid transparent",transition:"all 0.2s"},imageGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"8px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px",marginTop:"12px",overflow:"visible"},imageThumbnail:{width:"100%",aspectRatio:"1",objectFit:"cover",borderRadius:"6px",border:"2px solid #e0e0e0",cursor:"pointer",transition:"transform 0.2s, border-color 0.2s"},expandButton:{padding:"6px 12px",backgroundColor:"#eff6ff",color:"#1d4ed8",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500",display:"flex",alignItems:"center",gap:"4px"},imageContainer:{position:"relative",display:"inline-block"},deleteImageBtn:{position:"absolute",top:"4px",right:"4px",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:"rgba(220, 38, 38, 0.9)",color:"#fff",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"bold",lineHeight:1,padding:0,boxShadow:"0 1px 3px rgba(0,0,0,0.3)",zIndex:10}};return r?n.jsx("div",{style:se.page,children:n.jsx("div",{style:se.container,children:n.jsxs("div",{style:{...se.section,textAlign:"center",padding:"48px"},children:[n.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid #e0e0e0",borderTopColor:"#3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),n.jsx("p",{style:{color:"#666"},children:"Loading staging list..."})]})})}):c&&!x?n.jsx("div",{style:se.page,children:n.jsx("div",{style:se.container,children:n.jsxs("div",{style:{...se.section,backgroundColor:"#fef2f2",borderColor:"#fecaca"},children:[n.jsx("p",{style:{fontWeight:"600",color:"#dc2626",marginBottom:"8px"},children:"Error"}),n.jsx("p",{style:{color:"#991b1b",marginBottom:"16px"},children:c}),n.jsx("button",{onClick:pe,style:{...se.btn,backgroundColor:"#dc2626",color:"#fff"},children:"Retry"})]})})}):n.jsx("div",{style:se.page,children:n.jsxs("div",{style:se.container,children:[n.jsx(Kt,{pageName:"automated-review"}),n.jsxs("div",{style:se.header,children:[n.jsx("h1",{style:se.title,children:"Review & Deploy"}),n.jsx("p",{style:se.subtitle,children:"Review trained people in staging and deploy to production"})]}),E&&n.jsxs("div",{style:{...se.section,backgroundColor:E.status==="completed"?"#f0fdf4":"#eff6ff",borderColor:E.status==="completed"?"#86efac":"#93c5fd",marginBottom:"16px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[n.jsx("p",{style:{fontWeight:"600",color:E.status==="completed"?"#166534":"#1d4ed8",margin:0},children:E.status==="completed"?"SERP Training Complete":"SERP Training in Progress"}),n.jsxs("span",{style:{...se.badge,backgroundColor:E.status==="completed"?"#16a34a":"#3b82f6",color:"#fff"},children:[E.completed,"/",E.total," completed"]})]}),n.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"#e0e0e0",borderRadius:"4px",marginBottom:"12px",overflow:"hidden"},children:n.jsx("div",{style:{width:`${E.completed/E.total*100}%`,height:"100%",backgroundColor:E.status==="completed"?"#16a34a":"#3b82f6",transition:"width 0.3s ease"}})}),E.current_person&&n.jsxs("p",{style:{color:"#1d4ed8",margin:"0 0 12px 0",fontSize:"14px"},children:["Currently processing: ",n.jsx("strong",{children:E.current_person})]}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:E.people?.map((O,ie)=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",backgroundColor:O.status==="completed"?"#dcfce7":O.status==="processing"?"#dbeafe":O.status==="failed"?"#fef2f2":"#f3f4f6",borderRadius:"6px",fontSize:"14px"},children:[n.jsx("span",{style:{fontSize:"16px"},children:O.status==="completed"?"":O.status==="processing"?"":O.status==="failed"?"":""}),n.jsx("span",{style:{flex:1,fontWeight:O.status==="processing"?"600":"400",color:O.status==="failed"?"#dc2626":"#1a1a1a"},children:O.full_name}),O.status==="completed"&&n.jsxs("span",{style:{color:"#16a34a",fontWeight:"500"},children:["+",O.photos_added," photos (",O.photos_after," total)"]}),O.status==="failed"&&O.error&&n.jsxs("span",{style:{color:"#dc2626",fontSize:"12px"},children:[O.error.substring(0,50),"..."]}),n.jsx("span",{style:{...se.badge,backgroundColor:O.status==="completed"?"#16a34a":O.status==="processing"?"#3b82f6":O.status==="failed"?"#dc2626":"#9ca3af",color:"#fff",fontSize:"11px",padding:"2px 8px"},children:O.status.toUpperCase()})]},O.folder_name))}),E.status==="completed"&&n.jsx("button",{onClick:()=>q(null),style:{...se.btn,marginTop:"12px",backgroundColor:"#16a34a",color:"#fff"},children:"Dismiss"})]}),T&&!E&&n.jsxs("div",{style:{...se.section,backgroundColor:"#f0fdf4",borderColor:"#86efac",marginBottom:"16px"},children:[n.jsx("p",{style:{fontWeight:"600",color:"#166534",marginBottom:"8px"},children:"Actions Applied"}),T.serp&&n.jsxs("p",{style:{color:"#15803d",margin:"4px 0"},children:["SERP training started for ",T.serp.people_count," people (processing in background)"]}),T.remove&&n.jsxs("p",{style:{color:"#15803d",margin:"4px 0"},children:["Removed ",T.remove.removed_count," people from staging"]})]}),x&&n.jsxs("div",{style:{...se.section,backgroundColor:"#f0fdf4",borderColor:"#86efac"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#166534",margin:0},children:"Deployment Complete!"}),n.jsx("span",{style:{fontSize:"14px",color:"#15803d"},children:new Date().toLocaleString()})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px"},children:[n.jsxs("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #86efac"},children:[n.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"Successfully Deployed"}),n.jsx("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#16a34a",margin:"0 0 12px 0"},children:x.deployed?.length||0}),x.deployed?.map(O=>n.jsxs("div",{style:{fontSize:"12px",backgroundColor:"#f0fdf4",padding:"8px",borderRadius:"4px",marginBottom:"4px"},children:[n.jsx("p",{style:{fontWeight:"500",color:"#166534",margin:"0 0 4px 0"},children:O.folder.replace(/_/g," ")}),n.jsxs("p",{style:{color:"#15803d",margin:0},children:[O.image_count," photos added"]}),O.duplicates_skipped>0&&n.jsxs("p",{style:{color:"#ea580c",margin:"4px 0 0 0"},children:[O.duplicates_skipped," duplicates skipped"]})]},O.folder))]}),n.jsxs("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #fde047"},children:[n.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"Skipped (Not Ready)"}),n.jsx("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#ca8a04",margin:"0 0 12px 0"},children:x.skipped?.length||0}),x.skipped?.map(O=>n.jsxs("div",{style:{fontSize:"12px",backgroundColor:"#fefce8",padding:"8px",borderRadius:"4px",marginBottom:"4px"},children:[n.jsx("p",{style:{fontWeight:"500",color:"#854d0e",margin:"0 0 4px 0"},children:O.folder.replace(/_/g," ")}),n.jsx("p",{style:{color:"#a16207",margin:0},children:O.reason})]},O.folder))]}),n.jsxs("div",{style:{backgroundColor:"#fff",padding:"16px",borderRadius:"8px",border:"1px solid #fca5a5"},children:[n.jsx("p",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:"Errors"}),n.jsx("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#dc2626",margin:"0 0 12px 0"},children:x.errors?.length||0}),x.errors?.map(O=>n.jsxs("div",{style:{fontSize:"12px",backgroundColor:"#fef2f2",padding:"8px",borderRadius:"4px",marginBottom:"4px"},children:[n.jsx("p",{style:{fontWeight:"500",color:"#991b1b",margin:"0 0 4px 0"},children:O.folder.replace(/_/g," ")}),n.jsx("p",{style:{color:"#b91c1c",margin:0},children:O.error})]},O.folder))]})]})]}),n.jsxs("div",{style:se.statsGrid,children:[n.jsxs("div",{style:{...se.statCard,borderLeftColor:"#3b82f6",borderLeftWidth:"4px"},children:[n.jsx("p",{style:se.statLabel,children:"Total in Staging"}),n.jsx("p",{style:{...se.statValue,color:"#3b82f6"},children:f.length})]}),n.jsxs("div",{style:{...se.statCard,borderLeftColor:"#16a34a",borderLeftWidth:"4px"},children:[n.jsx("p",{style:se.statLabel,children:"Ready for Production"}),n.jsx("p",{style:{...se.statValue,color:"#16a34a"},children:we.length})]}),n.jsxs("div",{style:{...se.statCard,borderLeftColor:"#ca8a04",borderLeftWidth:"4px"},children:[n.jsx("p",{style:se.statLabel,children:"Not Ready"}),n.jsx("p",{style:{...se.statValue,color:"#ca8a04"},children:Ye.length})]})]}),n.jsxs("div",{style:se.buttonRow,children:[n.jsxs("button",{onClick:Me,style:{...se.btn,backgroundColor:"#dcfce7",color:"#166534"},children:["Select All Ready (",we.length,")"]}),n.jsx("button",{onClick:Q,style:{...se.btn,backgroundColor:"#f3f4f6",color:"#374151"},children:"Deselect All"}),n.jsx("button",{onClick:pe,style:{...se.btn,backgroundColor:"#dbeafe",color:"#1d4ed8"},children:"Refresh"}),n.jsx("button",{onClick:()=>{je(),W(!0)},style:{...se.btn,backgroundColor:"#fef3c7",color:"#92400e"},children:"View SERP Batches"}),n.jsx("button",{onClick:ae,disabled:p||b.length===0,style:{...se.btn,marginLeft:"auto",backgroundColor:p||b.length===0?"#9ca3af":"#16a34a",color:"#fff",cursor:p||b.length===0?"not-allowed":"pointer"},children:p?"Deploying...":`Deploy to Production (${b.length} ${b.length===1?"person":"people"}, ${jn} photos)`})]}),we.length>0&&n.jsxs("div",{style:se.section,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h2",{style:se.sectionTitle,children:[n.jsx("span",{style:{color:"#16a34a"},children:""}),"Ready for Production"]}),n.jsx("span",{style:{...se.badge,backgroundColor:"#dcfce7",color:"#166534"},children:"5+ valid photos"})]}),n.jsx("div",{children:we.map(O=>n.jsxs("div",{style:{...se.personCard,backgroundColor:"#f0fdf4",border:"2px solid #86efac",flexDirection:"column",alignItems:"stretch"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[n.jsx("input",{type:"checkbox",checked:b.includes(O.folder_name),onChange:()=>Ae(O.folder_name),style:se.checkbox}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:se.personName,children:O.full_name||O.folder_name.replace(/_/g," ")}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#bbf7d0",color:"#166534"},children:[O.image_count," photos"]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[n.jsxs("button",{onClick:()=>R(O.folder_name),style:{...se.expandButton,backgroundColor:H===O.folder_name?"#dbeafe":"#eff6ff"},children:[H===O.folder_name?" Hide":" Show"," Photos"]}),n.jsx("button",{onClick:()=>ce(O.folder_name),style:{...se.btn,padding:"6px 16px",backgroundColor:"#16a34a",color:"#fff",fontSize:"12px",fontWeight:"600"},children:"Approve"}),n.jsx("button",{onClick:()=>ye(O.folder_name),style:{...se.btn,padding:"6px 12px",backgroundColor:"#fef2f2",color:"#dc2626",fontSize:"12px"},children:"Remove"})]})]}),H===O.folder_name&&O.images&&n.jsxs("div",{style:se.imageGrid,children:[(console.log(`DEBUG: Rendering ${O.images.length} images for ${O.folder_name}:`,O.images.map(ie=>ie.filename)),null),O.images.map((ie,Se)=>n.jsxs("div",{style:se.imageContainer,children:[n.jsx("button",{onClick:Ne=>te(O.folder_name,ie.filename,Ne),style:se.deleteImageBtn,title:"Delete this image",children:""}),n.jsx("a",{href:U(ie.url),target:"_blank",rel:"noopener noreferrer",children:n.jsx("img",{src:U(ie.url),alt:ie.filename,style:se.imageThumbnail,onError:Ne=>Y(O.folder_name,ie.filename,Ne)})})]},`${O.folder_name}-${ie.filename}-${Se}`))]})]},O.folder_name))})]}),Et.length>0&&n.jsxs("div",{style:se.section,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h2",{style:se.sectionTitle,children:[n.jsx("span",{style:{color:"#3b82f6"},children:""}),"Currently in SERP Training"]}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#dbeafe",color:"#1d4ed8"},children:[Et.length," people processing"]})]}),n.jsx("div",{children:Et.map(O=>n.jsxs("div",{style:{...se.personCard,backgroundColor:"#eff6ff",border:"2px solid #93c5fd"},children:[n.jsx("div",{style:{width:"20px",height:"20px",border:"3px solid #3b82f6",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:se.personName,children:O.full_name||O.folder_name.replace(/_/g," ")}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#bfdbfe",color:"#1d4ed8"},children:[O.image_count," photos (searching for more...)"]})]}),n.jsx("span",{style:{...se.badge,backgroundColor:"#3b82f6",color:"#fff"},children:"SERP TRAINING"})]},O.folder_name))})]}),Ye.length>0&&n.jsxs("div",{style:se.section,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[n.jsxs("h2",{style:se.sectionTitle,children:[n.jsx("span",{style:{color:"#ca8a04"},children:""}),"Not Ready for Production"]}),n.jsx("span",{style:{...se.badge,backgroundColor:"#fef2f2",color:"#dc2626"},children:"Less than 5 photos - select action below"})]}),n.jsx("div",{children:Ye.map(O=>{const ie=C[O.folder_name];return n.jsxs("div",{style:{...se.personCard,backgroundColor:"#fefce8",border:"2px solid #fde047",flexDirection:"column",alignItems:"stretch"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[n.jsxs("div",{style:{flex:1},children:[n.jsx("p",{style:se.personName,children:O.full_name||O.folder_name.replace(/_/g," ")}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#fecaca",color:"#991b1b"},children:["Only ",O.image_count," ",O.image_count===1?"photo":"photos"]})]}),n.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[n.jsxs("button",{onClick:()=>R(O.folder_name),style:{...se.expandButton,backgroundColor:H===O.folder_name?"#fef3c7":"#fffbeb"},children:[H===O.folder_name?" Hide":" Show"," Photos"]}),n.jsxs("label",{style:{...se.actionCheckbox,backgroundColor:ie==="serp"?"#dbeafe":"#f3f4f6",borderColor:ie==="serp"?"#3b82f6":"transparent",color:ie==="serp"?"#1d4ed8":"#666"},children:[n.jsx("input",{type:"checkbox",checked:ie==="serp",onChange:()=>K(O.folder_name,"serp"),style:{width:"16px",height:"16px"}}),"Add via SERP"]}),n.jsxs("label",{style:{...se.actionCheckbox,backgroundColor:ie==="remove"?"#fef2f2":"#f3f4f6",borderColor:ie==="remove"?"#dc2626":"transparent",color:ie==="remove"?"#dc2626":"#666"},children:[n.jsx("input",{type:"checkbox",checked:ie==="remove",onChange:()=>K(O.folder_name,"remove"),style:{width:"16px",height:"16px"}}),"Remove"]})]}),n.jsxs("div",{style:{textAlign:"right",minWidth:"80px"},children:[n.jsx("span",{style:{...se.badge,backgroundColor:"#ca8a04",color:"#fff"},children:"NOT READY"}),n.jsxs("p",{style:{fontSize:"12px",color:"#dc2626",margin:"8px 0 0 0"},children:["Needs ",5-O.image_count," more"]})]})]}),H===O.folder_name&&O.images&&n.jsxs("div",{style:{...se.imageGrid,backgroundColor:"#fef9e7"},children:[(console.log(`DEBUG: Rendering ${O.images.length} images for ${O.folder_name} (not ready):`,O.images.map(Se=>Se.filename)),null),O.images.map((Se,Ne)=>n.jsxs("div",{style:se.imageContainer,children:[n.jsx("button",{onClick:wt=>te(O.folder_name,Se.filename,wt),style:se.deleteImageBtn,title:"Delete this image",children:""}),n.jsx("a",{href:U(Se.url),target:"_blank",rel:"noopener noreferrer",children:n.jsx("img",{src:U(Se.url),alt:Se.filename,style:se.imageThumbnail,onError:wt=>Y(O.folder_name,Se.filename,wt)})})]},`${O.folder_name}-${Se.filename}-${Ne}`))]})]},O.folder_name)})}),n.jsxs("div",{style:{marginTop:"16px",padding:"16px",backgroundColor:"#eff6ff",borderLeft:"4px solid #3b82f6",borderRadius:"0 8px 8px 0"},children:[n.jsx("p",{style:{fontWeight:"600",color:"#1a1a1a",marginBottom:"8px"},children:"How to handle Not Ready people:"}),n.jsxs("ul",{style:{color:"#666",margin:0,paddingLeft:"20px",fontSize:"14px"},children:[n.jsxs("li",{style:{marginBottom:"4px"},children:[n.jsx("strong",{children:"Add via SERP"}),": Search Google for more photos and add them to training"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Remove"}),": Delete from staging (cannot be deployed with less than 5 photos)"]})]})]})]}),Tt&&n.jsx("button",{onClick:ge,disabled:N,style:{...se.floatingButton,backgroundColor:N?"#9ca3af":"#3b82f6",color:"#fff",cursor:N?"not-allowed":"pointer"},children:N?"Applying...":n.jsxs(n.Fragment,{children:["Apply Actions",fn>0&&n.jsxs("span",{style:{backgroundColor:"#1d4ed8",padding:"2px 8px",borderRadius:"12px",fontSize:"12px"},children:["SERP: ",fn]}),Sn>0&&n.jsxs("span",{style:{backgroundColor:"#dc2626",padding:"2px 8px",borderRadius:"12px",fontSize:"12px"},children:["Remove: ",Sn]})]})}),f.length===0&&n.jsxs("div",{style:{...se.section,textAlign:"center",padding:"48px"},children:[n.jsx("p",{style:{color:"#666",fontSize:"16px",marginBottom:"16px"},children:"No people in staging. Complete a batch training first."}),n.jsx("button",{onClick:()=>s("/training/generate"),style:{...se.btn,backgroundColor:"#3b82f6",color:"#fff"},children:"Start New Batch"})]}),B&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3},children:n.jsxs("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",maxWidth:"800px",width:"90%",maxHeight:"80vh",overflow:"auto"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,fontSize:"20px",fontWeight:"600"},children:"SERP Training Batches"}),n.jsx("button",{onClick:()=>W(!1),style:{...se.btn,backgroundColor:"#f3f4f6",color:"#374151",padding:"8px 16px"},children:"Close"})]}),ee.running.length>0&&n.jsxs("div",{style:{marginBottom:"24px"},children:[n.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1d4ed8",marginBottom:"12px"},children:["Running (",ee.running.length,")"]}),ee.running.map(O=>n.jsxs("div",{style:{backgroundColor:"#eff6ff",border:"1px solid #93c5fd",borderRadius:"8px",padding:"16px",marginBottom:"12px"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[n.jsxs("span",{style:{fontWeight:"600",color:"#1d4ed8"},children:["Batch: ",O.batch_id?.substring(0,20),"..."]}),n.jsxs("span",{style:{...se.badge,backgroundColor:"#3b82f6",color:"#fff"},children:[O.completed,"/",O.total," completed"]})]}),n.jsx("div",{style:{width:"100%",height:"6px",backgroundColor:"#dbeafe",borderRadius:"3px",marginBottom:"8px"},children:n.jsx("div",{style:{width:`${O.completed/O.total*100}%`,height:"100%",backgroundColor:"#3b82f6",borderRadius:"3px"}})}),n.jsx("div",{style:{fontSize:"13px",color:"#4b5563"},children:O.people?.map(ie=>n.jsxs("span",{style:{display:"inline-block",backgroundColor:ie.status==="completed"?"#dcfce7":ie.status==="processing"?"#dbeafe":"#f3f4f6",color:ie.status==="completed"?"#166534":ie.status==="processing"?"#1d4ed8":"#666",padding:"2px 8px",borderRadius:"4px",marginRight:"4px",marginBottom:"4px",fontSize:"12px"},children:[ie.full_name," (",ie.status,")"]},ie.folder_name))}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"8px"},children:["Started: ",new Date(O.started_at).toLocaleString()]})]},O.batch_id))]}),ee.completed.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#16a34a",marginBottom:"12px"},children:["Recently Completed (",ee.completed.length,")"]}),ee.completed.map(O=>n.jsx("div",{style:{backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px",padding:"12px 16px",marginBottom:"8px"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:"500",color:"#166534",fontSize:"14px"},children:O.people?.map(ie=>ie.full_name).join(", ")}),n.jsxs("div",{style:{fontSize:"11px",color:"#16a34a",marginTop:"4px"},children:[O.total," people processed"]})]}),n.jsxs("div",{style:{textAlign:"right"},children:[n.jsx("span",{style:{...se.badge,backgroundColor:"#16a34a",color:"#fff",fontSize:"11px"},children:"COMPLETED"}),n.jsx("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"4px"},children:O.completed_at?new Date(O.completed_at).toLocaleString():"N/A"})]})]})},O.batch_id))]}),ee.running.length===0&&ee.completed.length===0&&n.jsxs("div",{style:{textAlign:"center",padding:"32px",color:"#666"},children:[n.jsx("p",{children:"No SERP batches found."}),n.jsx("p",{style:{fontSize:"14px",color:"#9ca3af"},children:'Start SERP training from the "Not Ready" section below.'})]}),n.jsxs("div",{style:{marginTop:"16px",textAlign:"right"},children:[n.jsx("button",{onClick:()=>je(),style:{...se.btn,backgroundColor:"#dbeafe",color:"#1d4ed8",marginRight:"8px"},children:"Refresh"}),n.jsx("button",{onClick:()=>W(!1),style:{...se.btn,backgroundColor:"#3b82f6",color:"#fff"},children:"Close"})]})]})})]})})}const me={container:{maxWidth:"1200px",margin:"0 auto",padding:"24px"},header:{marginBottom:"32px"},title:{fontSize:"28px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},subtitle:{fontSize:"14px",color:"#6b7280",margin:0},section:{backgroundColor:"#fff",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"1px solid #e5e7eb"},sectionTitle:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 16px 0",display:"flex",alignItems:"center",gap:"8px"},badge:{display:"inline-block",padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"500"},batchCard:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"16px",marginBottom:"12px"},batchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},batchId:{fontWeight:"600",color:"#1f2937",fontSize:"14px"},progressBar:{width:"100%",height:"6px",backgroundColor:"#e5e7eb",borderRadius:"3px",overflow:"hidden",marginBottom:"8px"},progressFill:{height:"100%",transition:"width 0.3s ease"},peopleList:{fontSize:"13px",color:"#4b5563"},personTag:{display:"inline-block",padding:"2px 8px",borderRadius:"4px",marginRight:"4px",marginBottom:"4px",fontSize:"11px"},emptyState:{textAlign:"center",padding:"48px 24px",color:"#6b7280"},emptyStateIcon:{fontSize:"48px",marginBottom:"16px"},btn:{padding:"8px 16px",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},loadingSpinner:{display:"inline-block",width:"16px",height:"16px",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"16px",marginBottom:"24px"},statCard:{backgroundColor:"#fff",borderRadius:"12px",padding:"20px",border:"1px solid #e5e7eb",textAlign:"center"},statValue:{fontSize:"32px",fontWeight:"700",color:"#1f2937",marginBottom:"4px"},statLabel:{fontSize:"13px",color:"#6b7280",fontWeight:"500"},controlsBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},pollingIndicator:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#10b981"}};function Uv(){const[s,r]=g.useState({running:[],completed:[]}),[o,c]=g.useState(!0),[u,f]=g.useState(null),[h,b]=g.useState(!0);g.useEffect(()=>{if(y(),h){const C=setInterval(y,5e3);return()=>clearInterval(C)}},[h]);const y=async()=>{try{f(null);const C=await mt.listAllBatches();C.success?r({running:C.running_batches||[],completed:C.completed_batches||[]}):f(C.message||"Failed to load batches")}catch(C){f(C.message||"Failed to load batches")}finally{c(!1)}},p=()=>{b(!h)},v=()=>{const C=[...s.running,...s.completed],S=C.reduce((T,M)=>T+(M.people?.length||0),0),N=C.reduce((T,M)=>T+(M.people?.filter(D=>D.status==="completed").length||0),0),j=C.reduce((T,M)=>T+(M.people?.filter(D=>D.gallery_url).length||0),0);return{totalBatches:C.length,runningBatches:s.running.length,completedBatches:s.completed.length,totalPeople:S,completedPeople:N,totalGalleries:j}},x=C=>{switch(C){case"completed":return{bg:"#dcfce7",color:"#166534"};case"processing":return{bg:"#dbeafe",color:"#1d4ed8"};case"queued":return{bg:"#f3f4f6",color:"#666"};case"failed":return{bg:"#fee2e2",color:"#991b1b"};default:return{bg:"#f3f4f6",color:"#666"}}};if(o)return n.jsxs("div",{style:me.container,children:[n.jsxs("div",{style:me.header,children:[n.jsx("h1",{style:me.title,children:"Batch Processing"}),n.jsx("p",{style:me.subtitle,children:"Monitor SERP training batches"})]}),n.jsxs("div",{style:me.emptyState,children:[n.jsx("div",{style:me.loadingSpinner}),n.jsx("p",{style:{marginTop:"16px"},children:"Loading batches..."})]})]});const w=v();return n.jsxs("div",{style:me.container,children:[n.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
      `}),n.jsxs("div",{style:me.header,children:[n.jsx("h1",{style:me.title,children:"Batch Processing"}),n.jsx("p",{style:me.subtitle,children:"Monitor all automated training batches (Wikidata + SERP)"})]}),u&&n.jsx("div",{style:{...me.section,backgroundColor:"#fee2e2",borderColor:"#fca5a5",color:"#991b1b"},children:u}),!o&&(s.running.length>0||s.completed.length>0)&&n.jsxs("div",{style:me.statsGrid,children:[n.jsxs("div",{style:me.statCard,children:[n.jsx("div",{style:me.statValue,children:w.totalBatches}),n.jsx("div",{style:me.statLabel,children:"Total Batches"})]}),n.jsxs("div",{style:me.statCard,children:[n.jsx("div",{style:{...me.statValue,color:"#3b82f6"},children:w.runningBatches}),n.jsx("div",{style:me.statLabel,children:"Running"})]}),n.jsxs("div",{style:me.statCard,children:[n.jsx("div",{style:{...me.statValue,color:"#10b981"},children:w.completedBatches}),n.jsx("div",{style:me.statLabel,children:"Completed"})]}),n.jsxs("div",{style:me.statCard,children:[n.jsx("div",{style:me.statValue,children:w.totalPeople}),n.jsx("div",{style:me.statLabel,children:"Total People"})]}),n.jsxs("div",{style:me.statCard,children:[n.jsx("div",{style:{...me.statValue,color:"#10b981"},children:w.completedPeople}),n.jsx("div",{style:me.statLabel,children:"People Trained"})]}),n.jsxs("div",{style:me.statCard,children:[n.jsx("div",{style:{...me.statValue,color:"#8b5cf6"},children:w.totalGalleries}),n.jsx("div",{style:me.statLabel,children:"Galleries Available"})]})]}),!o&&(s.running.length>0||s.completed.length>0)&&n.jsxs("div",{style:me.controlsBar,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[h&&n.jsxs("div",{style:me.pollingIndicator,children:[n.jsx("div",{style:me.loadingSpinner}),n.jsx("span",{children:"Auto-updating every 5s"})]}),!h&&n.jsx("div",{style:{...me.pollingIndicator,color:"#6b7280"},children:n.jsx("span",{children:"Auto-update paused"})})]}),n.jsxs("div",{style:{display:"flex",gap:"8px"},children:[n.jsx("button",{onClick:p,style:{...me.btn,backgroundColor:h?"#ef4444":"#10b981",color:"#fff"},children:h?" Pause":" Resume"}),n.jsx("button",{onClick:y,disabled:o,style:{...me.btn,backgroundColor:"#3b82f6",color:"#fff"},children:" Refresh"})]})]}),s.running.length>0&&n.jsxs("div",{style:me.section,children:[n.jsxs("h2",{style:me.sectionTitle,children:[n.jsx("span",{children:""}),"Running Batches",n.jsxs("span",{style:{...me.badge,backgroundColor:"#dbeafe",color:"#1d4ed8",marginLeft:"auto"},children:[s.running.length," active"]})]}),s.running.map(C=>n.jsxs("div",{style:me.batchCard,children:[n.jsxs("div",{style:me.batchHeader,children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n.jsxs("span",{style:me.batchId,children:["Batch: ",C.batch_id?.substring(0,16)]}),n.jsx("span",{style:{...me.badge,backgroundColor:C.type==="wikidata"?"#8b5cf6":"#f59e0b",color:"#fff",fontSize:"10px"},children:C.type==="wikidata"?"WIKIDATA":"SERP"})]}),n.jsxs("span",{style:{...me.badge,backgroundColor:"#3b82f6",color:"#fff"},children:[C.completed||C.people?.filter(S=>S.status==="completed").length||0,"/",C.total||C.total_people||0," completed"]})]}),n.jsx("div",{style:me.progressBar,children:n.jsx("div",{style:{...me.progressFill,width:`${(C.completed||C.people?.filter(S=>S.status==="completed").length||0)/(C.total||C.total_people||1)*100}%`,backgroundColor:"#3b82f6"}})}),n.jsx("div",{style:me.peopleList,children:C.people?.map(S=>{const N=x(S.status);let j="";return S.photos_downloaded>0&&(S.photos_from_wikimedia>0&&S.photos_from_serp>0?j=` - ${S.photos_downloaded} images (Wikimedia: ${S.photos_from_wikimedia}, SERP: ${S.photos_from_serp})`:S.photos_from_wikimedia>0?j=` - ${S.photos_downloaded} images (Wikimedia: ${S.photos_from_wikimedia})`:S.photos_from_serp>0?j=` - ${S.photos_downloaded} images (SERP: ${S.photos_from_serp})`:j=` - ${S.photos_downloaded} images`),n.jsxs("div",{style:{display:"inline-block",marginRight:"8px",marginBottom:"4px"},children:[n.jsxs("span",{style:{...me.personTag,backgroundColor:N.bg,color:N.color},children:[S.full_name," (",S.status,")",j]}),S.gallery_url&&n.jsx("a",{href:`https://facerecognition.mpanel.app${S.gallery_url}`,target:"_blank",rel:"noopener noreferrer",style:{marginLeft:"6px",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",backgroundColor:"#3b82f6",color:"#fff",textDecoration:"none",display:"inline-block"},children:"View Gallery"})]},S.folder_name)})}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"8px"},children:["Started: ",new Date(C.started_at).toLocaleString()]})]},C.batch_id))]}),s.completed.length>0&&n.jsxs("div",{style:me.section,children:[n.jsxs("h2",{style:me.sectionTitle,children:[n.jsx("span",{children:""}),"Completed Batches",n.jsxs("span",{style:{...me.badge,backgroundColor:"#dcfce7",color:"#166534",marginLeft:"auto"},children:[s.completed.length," total"]})]}),s.completed.map(C=>n.jsxs("div",{style:me.batchCard,children:[n.jsxs("div",{style:me.batchHeader,children:[n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[n.jsx("span",{style:me.batchId,children:C.people?.map(S=>S.full_name).join(", ")||`Batch ${C.batch_id?.substring(0,8)}`}),n.jsx("span",{style:{...me.badge,backgroundColor:C.type==="wikidata"?"#8b5cf6":"#f59e0b",color:"#fff",fontSize:"10px"},children:C.type==="wikidata"?"WIKIDATA":"SERP"})]}),n.jsxs("div",{style:{fontSize:"12px",color:"#6b7280"},children:[C.total||C.total_people||C.people?.length||0," people processed"]})]}),n.jsx("span",{style:{...me.badge,backgroundColor:"#16a34a",color:"#fff"},children:"COMPLETED"})]}),C.people?.some(S=>S.gallery_url)&&n.jsx("div",{style:{marginTop:"12px",marginBottom:"8px"},children:C.people?.map(S=>S.gallery_url&&n.jsxs("a",{href:`https://facerecognition.mpanel.app${S.gallery_url}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",marginRight:"8px",marginBottom:"4px",padding:"4px 12px",borderRadius:"6px",fontSize:"12px",backgroundColor:"#3b82f6",color:"#fff",textDecoration:"none"},children:[" ",S.full_name," Gallery"]},S.folder_name))}),n.jsxs("div",{style:{fontSize:"11px",color:"#9ca3af"},children:["Completed: ",C.completed_at?new Date(C.completed_at).toLocaleString():"N/A"]})]},C.batch_id))]}),s.running.length===0&&s.completed.length===0&&n.jsx("div",{style:me.section,children:n.jsxs("div",{style:me.emptyState,children:[n.jsx("div",{style:me.emptyStateIcon,children:""}),n.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1f2937"},children:"No batches yet"}),n.jsx("p",{style:{margin:0,color:"#6b7280"},children:"Start SERP training from the Review & Deploy page to see batch processing here."})]})})]})}new Date().toISOString();const Ut={async getInfo(){try{return(await re.get("/api/video/info")).data}catch(s){return console.error("Failed to get video API info:",s),{success:!1,message:s.response?.data?.message||"Failed to get API info"}}},async uploadSync(s,r="serbia",o=3){try{const c=new FormData;return c.append("file",s),c.append("domain",r),c.append("interval_seconds",o),(await re.post("/api/video/upload",c,{headers:{"Content-Type":"multipart/form-data"},timeout:6e5})).data}catch(c){return console.error("Failed to upload video:",c),{success:!1,message:c.response?.data?.message||"Failed to upload video"}}},async uploadAsync(s,r="serbia",o=3){try{const c=new FormData;return c.append("file",s),c.append("domain",r),c.append("interval_seconds",o),(await re.post("/api/video/upload-async",c,{headers:{"Content-Type":"multipart/form-data"},timeout:3e5})).data}catch(c){return console.error("Failed to upload video:",c),{success:!1,message:c.response?.data?.message||"Failed to upload video"}}},async getStatus(s){try{const r=await re.get(`/api/video/status/${s}`);return r.status===202?{success:!1,video_id:s,status:"processing",message:"Video is still being processed"}:r.data}catch(r){return r.response?.status===404?{success:!1,video_id:s,status:"not_found",message:"Video not found"}:(console.error("Failed to get video status:",r),{success:!1,video_id:s,status:"error",message:r.response?.data?.message||"Failed to get video status"})}},validateFile(s){const r=[];if(!s)return r.push("No file selected"),{valid:!1,errors:r};const o=100,c=s.size/(1024*1024);c>o&&r.push(`File too large. Maximum size: ${o} MB (current: ${c.toFixed(2)} MB)`);const u=["mp4","avi","mov","mkv","webm","flv","wmv"],f=s.name.split(".").pop().toLowerCase();return u.includes(f)||r.push(`Invalid format. Allowed: ${u.join(", ")}`),{valid:r.length===0,errors:r}},validateInterval(s){return s<.1||s>60?{valid:!1,error:`Interval must be between ${.1} and 60 seconds`}:{valid:!0}},async getAllVideos(){try{return(await re.get("/api/storage/videos")).data}catch(s){return console.error("Failed to get videos list:",s),{success:!1,message:s.response?.data?.message||"Failed to get videos list",videos:[]}}},async deleteVideo(s){try{return(await re.delete(`/api/storage/videos/${s}`)).data}catch(r){return console.error("Failed to delete video:",r),{success:!1,message:r.response?.data?.message||"Failed to delete video"}}}};function Dp(){const[s,r]=g.useState(!1),[o,c]=g.useState(0),[u,f]=g.useState(null),h=g.useCallback(async(p,v="serbia",x=3)=>{const w=Ut.validateFile(p);if(!w.valid)return f(w.errors.join(", ")),{success:!1,message:w.errors.join(", ")};const C=Ut.validateInterval(x);if(!C.valid)return f(C.error),{success:!1,message:C.error};r(!0),f(null),c(0);try{const S=setInterval(()=>{c(j=>Math.min(j+10,90))},200),N=await Ut.uploadSync(p,v,x);if(clearInterval(S),c(100),!N.success)throw new Error(N.message||"Upload failed");return N}catch(S){return f(S.message||"Failed to upload video"),{success:!1,message:S.message||"Failed to upload video"}}finally{r(!1)}},[]),b=g.useCallback(async(p,v="serbia",x=3)=>{const w=Ut.validateFile(p);if(!w.valid)return f(w.errors.join(", ")),{success:!1,message:w.errors.join(", ")};const C=Ut.validateInterval(x);if(!C.valid)return f(C.error),{success:!1,message:C.error};r(!0),f(null),c(0);try{const S=setInterval(()=>{c(j=>Math.min(j+10,90))},100),N=await Ut.uploadAsync(p,v,x);if(clearInterval(S),c(100),!N.success)throw new Error(N.message||"Upload failed");return N}catch(S){return f(S.message||"Failed to upload video"),{success:!1,message:S.message||"Failed to upload video"}}finally{r(!1),setTimeout(()=>c(0),1e3)}},[]),y=g.useCallback(()=>{f(null)},[]);return{uploading:s,uploadProgress:o,error:u,uploadSync:h,uploadAsync:b,clearError:y}}function Bp(s,r=3e3,o=!1){const[c,u]=g.useState(null),[f,h]=g.useState(!1),[b,y]=g.useState(null),[p,v]=g.useState(!1),x=g.useRef(null),w=g.useCallback(async()=>{if(s){h(!0),y(null);try{const N=await Ut.getStatus(s);if(N.status==="processing")return u({...N,isProcessing:!0,isComplete:!1}),N;if(N.success&&N.status==="completed")return u({...N,isProcessing:!1,isComplete:!0}),S(),N;throw new Error(N.message||"Failed to get video status")}catch(N){const j=N.message||"Failed to get video status";throw y(j),S(),new Error(j)}finally{h(!1)}}},[s]),C=g.useCallback(()=>{if(!s)return;v(!0);const N=async()=>{try{(await w())?.status==="processing"?x.current=setTimeout(N,r):v(!1)}catch{v(!1)}};N()},[s,r,w]),S=g.useCallback(()=>{x.current&&(clearTimeout(x.current),x.current=null),v(!1)},[]);return g.useEffect(()=>(o&&s&&C(),()=>{S()}),[o,s,C,S]),g.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),{status:c,loading:f,error:b,isPolling:p,startPolling:C,stopPolling:S,refetch:w}}function Lv(){const[s,r]=g.useState(null),[o,c]=g.useState(null),[u,f]=g.useState("serbia"),[h,b]=g.useState(3),[y,p]=g.useState(null),[v,x]=g.useState(null),[w,C]=g.useState(!1),[S,N]=g.useState(null),{uploading:j,uploadProgress:T,error:M,uploadAsync:D,clearError:z}=Dp(),{status:E,loading:q,error:B,isPolling:W,startPolling:ee}=Bp(y,3e3,!1);g.useEffect(()=>{(async()=>{const ge=await Ut.getInfo();ge.success&&N(ge)})()},[]),g.useEffect(()=>{E&&E.isComplete&&E.success&&(x(E),p(null))},[E]);const Z=K=>{if(!K)return;const ge=Ut.validateFile(K);if(!ge.valid){alert(ge.errors.join(`
`));return}r(K),x(null),p(null),z(),c({name:K.name,size:(K.size/(1024*1024)).toFixed(2)+" MB",type:K.type})},H=K=>{K.preventDefault(),K.stopPropagation(),K.type==="dragenter"||K.type==="dragover"?C(!0):K.type==="dragleave"&&C(!1)},oe=K=>{K.preventDefault(),K.stopPropagation(),C(!1),K.dataTransfer.files&&K.dataTransfer.files[0]&&Z(K.dataTransfer.files[0])},pe=K=>{K.target.files&&K.target.files[0]&&Z(K.target.files[0])},Ae=async()=>{if(!s)return;const K=await D(s,u,h);K.success&&K.video_id&&(p(K.video_id),ee())},Me=()=>{r(null),c(null),x(null),p(null),z()},Q=K=>K>=70?"text-green-600":K>=40?"text-yellow-600":"text-red-600",ae=j||W||q;return n.jsxs("div",{className:"page-container",children:[n.jsx(Kt,{pageName:"video-recognition"}),n.jsx("h1",{children:"Video Face Recognition"}),n.jsxs("p",{className:"subtitle",children:["Upload a video to extract frames and recognize faces automatically. The system extracts 1 frame every ",h," seconds."]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{style:{marginTop:0},children:"Upload Video"}),n.jsxs("div",{className:`upload-zone ${w?"drag-active":""}`,onDragEnter:H,onDragLeave:H,onDragOver:H,onDrop:oe,style:{border:"2px dashed #cbd5e0",borderRadius:"8px",padding:"3rem",textAlign:"center",backgroundColor:w?"#f7fafc":"#ffffff",cursor:"pointer",transition:"all 0.2s"},children:[n.jsx("input",{type:"file",accept:"video/*",onChange:pe,style:{display:"none"},id:"video-file-input",disabled:ae}),s?n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("p",{children:n.jsx("strong",{children:o.name})}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096"},children:["Size: ",o.size]}),n.jsx("button",{onClick:Me,className:"btn btn-secondary",style:{marginTop:"1rem"},disabled:ae,children:"Choose Different Video"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsxs("label",{htmlFor:"video-file-input",style:{cursor:"pointer"},children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Click to upload"})," or drag and drop"]}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096",marginTop:"0.5rem"},children:["Supported formats: ",S?.supported_formats?.join(", ").toUpperCase()||"MP4, AVI, MOV, MKV, WebM, FLV, WMV"]}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096"},children:["Maximum file size: ",S?.max_file_size_mb||100," MB"]})]})]})]}),s&&!ae&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:n.jsx(Le,{content:"Number of seconds between each extracted frame. Lower values = more frames = longer processing time",position:"right",children:n.jsx("span",{children:"Frame Extraction Interval (seconds)"})})}),n.jsx("input",{type:"number",value:h,onChange:K=>b(parseFloat(K.target.value)),min:"0.1",max:"60",step:"0.5",className:"input-field",style:{width:"150px",marginRight:"1rem"}}),n.jsxs("span",{style:{fontSize:"0.9rem",color:"#718096"},children:["1 frame every ",h,"s"]})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:n.jsx(Le,{content:"Select which face database to use for recognition. Each domain has its own trained faces",position:"right",children:n.jsx("span",{children:"Recognition Domain"})})}),n.jsxs("select",{value:u,onChange:K=>f(K.target.value),className:"input-field",style:{width:"200px"},children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"bosnia",children:"Bosnia"})]})]}),n.jsx(Le,{content:"Upload video and start face recognition processing",position:"top",children:n.jsx("button",{onClick:Ae,className:"btn btn-primary",children:"Upload and Process Video"})})]}),j&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Uploading..."}),n.jsxs("span",{children:[T,"%"]})]}),n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-bar-fill",style:{width:`${T}%`}})})]}),W&&E&&n.jsx("div",{style:{marginTop:"2rem",padding:"1.5rem",backgroundColor:"#edf2f7",borderRadius:"8px"},children:n.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[n.jsx("div",{className:"spinner",style:{marginRight:"1rem"}}),n.jsxs("div",{children:[n.jsx("p",{style:{fontWeight:"500",margin:0},children:"Processing Video..."}),n.jsx("p",{style:{fontSize:"0.9rem",color:"#718096",margin:0},children:"This may take a few minutes. You can leave this page and come back later."})]})]})}),(M||B)&&n.jsx("div",{className:"error-message",style:{marginTop:"1rem"},children:M||B})]}),v&&v.success&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{children:"Recognition Statistics"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},children:[n.jsx(Le,{content:"Total number of frames extracted from the video",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Total Frames"}),n.jsx("p",{className:"stat-value",children:v.statistics.total_frames})]})}),n.jsx(Le,{content:"Number of frames where a face was successfully recognized",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Recognized"}),n.jsx("p",{className:"stat-value",style:{color:"#10b981"},children:v.statistics.recognized_frames})]})}),n.jsx(Le,{content:"Percentage of frames with recognized faces. Green (70%) = Excellent, Yellow (40-69%) = Moderate, Red (<40%) = Poor",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Recognition Rate"}),n.jsxs("p",{className:`stat-value ${Q(v.statistics.recognition_rate)}`,children:[v.statistics.recognition_rate.toFixed(1),"%"]})]})}),n.jsx(Le,{content:"Number of different people identified in the video",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Unique Persons"}),n.jsx("p",{className:"stat-value",children:v.statistics.unique_persons})]})})]}),v.statistics.persons_list.length>0&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsx("p",{style:{fontWeight:"500",marginBottom:"0.5rem"},children:"Detected Persons:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:v.statistics.persons_list.map((K,ge)=>n.jsx("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"20px",fontSize:"0.9rem"},children:K},ge))})]})]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{children:"System Performance"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},children:[n.jsx(Le,{content:"Total time taken to process all frames",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Processing Time"}),n.jsxs("p",{className:"stat-value",children:[v.performance.processing_time_seconds.toFixed(1),"s"]})]})}),n.jsx(Le,{content:"Number of frames processed per second by the recognition engine",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Frames Per Second"}),n.jsxs("p",{className:"stat-value",children:[v.performance.frames_per_second.toFixed(2)," FPS"]})]})}),n.jsx(Le,{content:"Average CPU utilization during video processing",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Avg CPU Usage"}),n.jsxs("p",{className:"stat-value",children:[v.performance.avg_cpu_percent.toFixed(1),"%"]})]})}),n.jsx(Le,{content:"Peak memory usage during video processing",position:"top",children:n.jsxs("div",{className:"stat-card",children:[n.jsx("p",{className:"stat-label",children:"Memory Used"}),n.jsxs("p",{className:"stat-value",children:[v.performance.memory_used_mb.toFixed(1)," MB"]})]})})]}),n.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsxs("p",{style:{fontSize:"0.9rem",margin:0},children:[n.jsx("strong",{children:"Video Info:"})," ",v.extraction_info.video_info.width,"x",v.extraction_info.video_info.height," @ ",v.extraction_info.video_info.fps," FPS, ",v.extraction_info.video_info.duration.toFixed(1),"s duration"]}),n.jsxs("p",{style:{fontSize:"0.9rem",margin:"0.5rem 0 0 0"},children:[n.jsx("strong",{children:"Extraction:"})," ",v.extraction_info.extracted_count," frames extracted from ",v.extraction_info.total_frames," total in ",v.extraction_info.extraction_time.toFixed(1),"s"]})]})]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("h3",{children:["Frame-by-Frame Results (",v.results.length," frames)"]}),n.jsx("div",{style:{maxHeight:"500px",overflowY:"auto",marginTop:"1.5rem"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Timestamp"}),n.jsx("th",{children:"Frame"}),n.jsx("th",{children:"Person"}),n.jsx("th",{children:"Confidence"}),n.jsx("th",{children:"Status"})]})}),n.jsx("tbody",{children:v.results.map((K,ge)=>n.jsxs("tr",{children:[n.jsxs("td",{children:[K.timestamp.toFixed(2),"s"]}),n.jsxs("td",{children:["#",K.frame_number]}),n.jsx("td",{children:K.recognized?K.person:n.jsx("em",{children:"Unknown"})}),n.jsx("td",{children:K.recognized?`${K.confidence.toFixed(1)}%`:"-"}),n.jsx("td",{children:n.jsx("span",{className:`badge ${K.recognized?"badge-success":"badge-secondary"}`,children:K.recognized?"Recognized":"Unknown"})})]},ge))})]})})]})]})]})}function qv(){const s=bn(),[r,o]=g.useState(null),[c,u]=g.useState(null),[f,h]=g.useState("serbia"),[b,y]=g.useState(3),[p,v]=g.useState(!1),{uploading:x,uploadProgress:w,error:C,uploadAsync:S,clearError:N}=Dp(),j=E=>{if(!E)return;const q=Ut.validateFile(E);if(!q.valid){alert(q.errors.join(`
`));return}o(E),N(),u({name:E.name,size:(E.size/(1024*1024)).toFixed(2)+" MB",type:E.type})},T=E=>{E.preventDefault(),E.stopPropagation(),E.type==="dragenter"||E.type==="dragover"?v(!0):E.type==="dragleave"&&v(!1)},M=E=>{E.preventDefault(),E.stopPropagation(),v(!1),E.dataTransfer.files&&E.dataTransfer.files[0]&&j(E.dataTransfer.files[0])},D=E=>{E.target.files&&E.target.files[0]&&j(E.target.files[0])},z=async()=>{if(!r)return;const E=await S(r,f,b);if(E.success&&E.video_id){const q=localStorage.getItem("videoRecognitionHistory"),B=q?JSON.parse(q):{completed:[],processing:[]},W={video_id:E.video_id,domain:f,status:"processing",addedAt:new Date().toISOString()};B.processing=[W,...B.processing],localStorage.setItem("videoRecognitionHistory",JSON.stringify(B)),s(`/video-recognition/results?video_id=${E.video_id}`)}};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Upload Video for Recognition"}),n.jsx(Kt,{topic:"video-upload"})]}),n.jsxs("div",{className:"card",children:[n.jsx("h3",{children:"Upload Video File"}),n.jsx("p",{style:{color:"#718096",marginBottom:"2rem"},children:"Upload a video file to extract faces and perform recognition. The video will be processed frame by frame using the ArcFace model."}),!r&&n.jsxs("div",{className:`upload-zone ${p?"drag-active":""}`,onDragEnter:T,onDragLeave:T,onDragOver:T,onDrop:M,onClick:()=>document.getElementById("videoFileInput").click(),children:[n.jsx("input",{id:"videoFileInput",type:"file",accept:"video/*,.mp4,.avi,.mov,.mkv",onChange:D,style:{display:"none"}}),n.jsx("div",{className:"upload-icon",children:""}),n.jsx("p",{className:"upload-text",children:"Drag and drop your video here, or click to browse"}),n.jsx("p",{className:"upload-hint",children:"Supported formats: MP4, AVI, MOV, MKV (Max 100MB)"})]}),r&&c&&!x&&n.jsxs("div",{className:"file-preview",children:[n.jsxs("div",{className:"file-info",children:[n.jsx("span",{className:"file-icon",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"file-name",children:c.name}),n.jsx("p",{className:"file-size",children:c.size})]})]}),n.jsx("button",{onClick:()=>o(null),className:"btn btn-secondary",children:"Remove"})]}),r&&!x&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:n.jsx(Le,{content:"How many seconds between extracted frames. Lower = more frames = longer processing",position:"right",children:n.jsx("span",{children:"Frame Extraction Interval"})})}),n.jsx("input",{type:"number",value:b,onChange:E=>y(parseFloat(E.target.value)),min:"0.1",max:"60",step:"0.5",className:"input-field",style:{width:"150px",marginRight:"1rem"}}),n.jsxs("span",{style:{fontSize:"0.9rem",color:"#718096"},children:["1 frame every ",b,"s"]})]}),n.jsxs("div",{style:{marginBottom:"1.5rem"},children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:n.jsx(Le,{content:"Select which face database to use for recognition",position:"right",children:n.jsx("span",{children:"Recognition Domain"})})}),n.jsxs("select",{value:f,onChange:E=>h(E.target.value),className:"input-field",style:{width:"200px"},children:[n.jsx("option",{value:"serbia",children:"Serbia (ArcFace - Fast)"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"bosnia",children:"Bosnia"})]})]}),n.jsx(Le,{content:"Upload video and start processing",position:"top",children:n.jsx("button",{onClick:z,className:"btn btn-primary",children:"Upload and Process Video"})})]}),x&&n.jsxs("div",{style:{marginTop:"2rem"},children:[n.jsxs("div",{style:{marginBottom:"0.5rem",display:"flex",justifyContent:"space-between"},children:[n.jsx("span",{children:"Uploading..."}),n.jsxs("span",{children:[w,"%"]})]}),n.jsx("div",{className:"progress-bar",children:n.jsx("div",{className:"progress-bar-fill",style:{width:`${w}%`}})})]}),C&&n.jsx("div",{className:"error-message",style:{marginTop:"1rem"},children:C})]})]})}function Hv({videoId:s,results:r,extractionInfo:o}){const c=g.useRef(null),[u,f]=g.useState(0),[h,b]=g.useState(!1),[y,p]=g.useState(null),[v,x]=g.useState(0),w=Zt.getToken(),C=r?.map(W=>W.faces&&Array.isArray(W.faces)?{frameNumber:W.frame_number,timestamp:W.timestamp,persons:W.faces.map(ee=>({name:ee.identity,confidence:ee.confidence}))}:W.recognized&&W.person?{frameNumber:W.frame_number,timestamp:W.timestamp,persons:[{name:W.person,confidence:W.confidence}]}:{frameNumber:W.frame_number,timestamp:W.timestamp,persons:[]})||[],S=o?.video_info||{},N=S.fps||25,j=S.interval_seconds||3,T=S.duration||1;g.useEffect(()=>{if(!c.current||C.length===0)return;const W=Math.floor(u/j),ee=C.find(Z=>Math.floor(Z.frameNumber/(j*N))===W);if(ee&&ee.persons.length>0){const Z=ee.persons.reduce((H,oe)=>oe.confidence>H.confidence?oe:H);(!y||y.name!==Z.name)&&(p(Z),x(Date.now()))}},[u,C,j,N,y]);const D=(y?Date.now()-v<1e3:!1)?y:null,z=()=>{c.current&&f(c.current.currentTime)},E=W=>{if(c.current){const ee=W/N;c.current.currentTime=ee}},B=(()=>{const W=[],ee={},Z=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];let H=0;return C.forEach(oe=>{if(oe.persons.length>0){const pe=oe.persons[0];ee[pe.name]||(ee[pe.name]=Z[H%Z.length],H++);const Ae=oe.frameNumber/N,Me=Ae/T*100;W.push({name:pe.name,timestamp:Ae,percentage:Me,color:ee[pe.name],confidence:pe.confidence})}}),W})();return n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",maxWidth:"900px",margin:"0 auto"},children:[n.jsxs("div",{style:{position:"relative",backgroundColor:"#000",borderRadius:"8px",overflow:"hidden",minHeight:"400px"},children:[n.jsxs("video",{ref:c,style:{width:"100%",display:"block",maxHeight:"500px"},onTimeUpdate:z,onPlay:()=>b(!0),onPause:()=>b(!1),controls:!0,children:[n.jsx("source",{src:`/api/storage/videos/${s}/stream?token=${encodeURIComponent(w)}`,type:"video/mp4"}),"Your browser does not support the video tag."]}),D&&n.jsx("div",{style:{position:"absolute",bottom:"60px",left:"50%",transform:"translateX(-50%)",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"white",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"1.1rem",fontWeight:"500",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",zIndex:10,animation:"fadeIn 0.3s ease-in"},children:n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.25rem"},children:[n.jsx("span",{children:D.name.replace(/_/g," ")}),n.jsxs("span",{style:{fontSize:"0.85rem",color:"#94a3b8"},children:[D.confidence.toFixed(1),"% confidence"]})]})})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{marginTop:0,marginBottom:"0.5rem",fontSize:"0.9rem",color:"#718096"},children:"Recognition Timeline"}),n.jsxs("div",{style:{position:"relative",height:"40px",backgroundColor:"#f1f5f9",borderRadius:"4px",overflow:"hidden"},children:[B.map((W,ee)=>n.jsx("div",{onClick:()=>E(W.timestamp*N),style:{position:"absolute",left:`${W.percentage}%`,top:0,width:"3px",height:"100%",backgroundColor:W.color,cursor:"pointer",transition:"transform 0.2s",zIndex:1},title:`${W.name.replace(/_/g," ")} (${W.confidence.toFixed(1)}%)`,onMouseEnter:Z=>Z.currentTarget.style.transform="scaleY(1.2)",onMouseLeave:Z=>Z.currentTarget.style.transform="scaleY(1)"},ee)),n.jsx("div",{style:{position:"absolute",left:`${u/T*100}%`,top:0,width:"2px",height:"100%",backgroundColor:"#ef4444",zIndex:2}})]}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",marginTop:"1rem"},children:Object.entries(B.reduce((W,ee)=>(W[ee.name]||(W[ee.name]={color:ee.color,count:0}),W[ee.name].count++,W),{})).map(([W,ee])=>n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("div",{style:{width:"12px",height:"12px",backgroundColor:ee.color,borderRadius:"2px"}}),n.jsxs("span",{style:{fontSize:"0.85rem",color:"#475569"},children:[W.replace(/_/g," ")," (",ee.count,")"]})]},W))})]}),n.jsx("div",{style:{fontSize:"0.85rem",color:"#718096",fontStyle:"italic"},children:" Tip: Click on timeline markers to jump to when each person appears. Names stay visible for at least 1 second."}),n.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateX(-50%) translateY(10px); }
          to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }
      `})]})}function Fv({video:s,onClose:r}){const[o,c]=g.useState("player");if(!s)return null;const u=j=>j>=70?"#10b981":j>=40?"#f59e0b":"#ef4444",f=j=>j?new Date(j).toLocaleString():"N/A",h=s.face_recognition||{},b=s.face_recognition===null&&s.processing_stage!=="complete",y=s.statistics||h.statistics||{},p=s.performance||h.performance||{},v=s.extraction_info||h.extraction_info||{},x=s.results||h.frame_results||[],w=h.tracking_results||{},C=w.identity_results||{},S=()=>{const j=C.confirmed_persons||{},T={};return Object.entries(j).forEach(([M,D])=>{T[M]={frame_count:D.total_frames||0,weighted_score:(D.avg_confidence||0)*(D.total_frames||0),avg_confidence:D.avg_confidence||0,best_confidence:D.avg_confidence||0,occurrence_rate:0}}),{primary_person:C.primary_person,filtered_persons:T,min_frame_occurrence:w.parameters?.min_track_length,use_weighted_voting:!0,persons_filtered_out:C.unresolved_tracks?.map(M=>M.top_candidate)||[],all_detected_persons:T,blacklisted_persons:[]}},N=s.multi_frame_voting||h.multi_frame_voting||(C.confirmed_persons?S():{});return n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"2rem"},onClick:r,children:n.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",maxWidth:"1200px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:j=>j.stopPropagation(),children:[n.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"start"},children:[n.jsxs("div",{children:[n.jsx("h2",{style:{margin:0},children:"Video Recognition Details"}),n.jsxs("p",{style:{color:"#718096",fontSize:"0.9rem",margin:"0.5rem 0 0 0"},children:["Video ID: ",n.jsx("code",{style:{fontSize:"0.85rem"},children:s.video_id})]})]}),n.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#718096",padding:"0.25rem 0.5rem"},children:""})]}),n.jsxs("div",{style:{padding:"0 1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",gap:"1rem"},children:[n.jsx("button",{onClick:()=>c("player"),style:{background:"none",border:"none",padding:"1rem 0.5rem",cursor:"pointer",borderBottom:o==="player"?"2px solid #3b82f6":"2px solid transparent",color:o==="player"?"#3b82f6":"#718096",fontWeight:o==="player"?"500":"normal"},children:" Video Player"}),n.jsx("button",{onClick:()=>c("overview"),style:{background:"none",border:"none",padding:"1rem 0.5rem",cursor:"pointer",borderBottom:o==="overview"?"2px solid #3b82f6":"2px solid transparent",color:o==="overview"?"#3b82f6":"#718096",fontWeight:o==="overview"?"500":"normal"},children:"Overview"}),n.jsx("button",{onClick:()=>c("voting"),style:{background:"none",border:"none",padding:"1rem 0.5rem",cursor:"pointer",borderBottom:o==="voting"?"2px solid #3b82f6":"2px solid transparent",color:o==="voting"?"#3b82f6":"#718096",fontWeight:o==="voting"?"500":"normal"},children:"Multi-Frame Voting"}),n.jsxs("button",{onClick:()=>c("frames"),style:{background:"none",border:"none",padding:"1rem 0.5rem",cursor:"pointer",borderBottom:o==="frames"?"2px solid #3b82f6":"2px solid transparent",color:o==="frames"?"#3b82f6":"#718096",fontWeight:o==="frames"?"500":"normal"},children:["Frame Results (",x.length,")"]})]}),n.jsxs("div",{style:{flex:1,overflow:"auto",padding:"1.5rem"},children:[b&&n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"8px",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.75rem"},children:[n.jsx("span",{style:{fontSize:"1.25rem"},children:""}),n.jsxs("div",{children:[n.jsx("strong",{style:{color:"#92400e"},children:"Face Recognition In Progress"}),n.jsx("p",{style:{margin:"0.25rem 0 0 0",color:"#78350f",fontSize:"0.9rem"},children:s.message||"Face recognition is still processing. Refresh to see updated results."})]})]}),o==="player"&&n.jsx(Hv,{videoId:s.video_id,results:x,extractionInfo:v}),o==="overview"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[n.jsxs("div",{children:[n.jsx("h3",{style:{marginTop:0},children:"Video Information"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Domain"}),n.jsx("p",{style:{fontWeight:"500",margin:"0.25rem 0 0 0"},children:s.domain||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Processed At"}),n.jsx("p",{style:{fontWeight:"500",margin:"0.25rem 0 0 0"},children:f(s.processed_at||s.completedAt)})]}),n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Duration"}),n.jsxs("p",{style:{fontWeight:"500",margin:"0.25rem 0 0 0"},children:[v.video_info?.duration?.toFixed(1)||"N/A","s"]})]}),n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Resolution"}),n.jsxs("p",{style:{fontWeight:"500",margin:"0.25rem 0 0 0"},children:[v.video_info?.width||"?","  ",v.video_info?.height||"?"]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{children:"Recognition Statistics"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Total Frames"}),n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:y.total_frames||0})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Recognized"}),n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0",color:"#10b981"},children:y.recognized_frames||0})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Recognition Rate"}),n.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0",color:u(y.recognition_rate||0)},children:[y.recognition_rate?.toFixed(1)||0,"%"]})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Unique Persons"}),n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:y.unique_persons||0})]})]}),y.persons_list&&y.persons_list.length>0&&n.jsxs("div",{style:{marginTop:"1rem"},children:[n.jsx("p",{style:{fontWeight:"500",marginBottom:"0.5rem"},children:"Detected Persons:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:y.persons_list.map((j,T)=>n.jsx("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"20px",fontSize:"0.9rem"},children:j},T))})]})]}),n.jsxs("div",{children:[n.jsx("h3",{children:"Performance Metrics"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Processing Time"}),n.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:[p.processing_time_seconds?.toFixed(1)||"N/A","s"]})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Frames Per Second"}),n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:p.frames_per_second?.toFixed(2)||"N/A"})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Avg CPU Usage"}),n.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:[p.avg_cpu_percent?.toFixed(1)||"N/A","%"]})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:"Memory Used"}),n.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:[p.memory_used_mb?.toFixed(0)||"N/A"," MB"]})]})]})]})]}),o==="voting"&&n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[n.jsxs("div",{children:[n.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:["Primary Person Detected",n.jsx(Le,{text:"The person most frequently and confidently detected across all frames"})]}),n.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#eff6ff",borderRadius:"8px",border:"2px solid #3b82f6"},children:[n.jsx("p",{style:{fontSize:"1.5rem",fontWeight:"600",margin:0,color:"#1e40af"},children:N.primary_person||"None detected"}),N.primary_person&&N.filtered_persons&&N.filtered_persons[N.primary_person]&&n.jsxs("div",{style:{marginTop:"0.5rem",color:"#475569",fontSize:"0.9rem"},children:[n.jsxs("div",{children:["Weighted Score: ",n.jsx("strong",{children:N.filtered_persons[N.primary_person].weighted_score?.toFixed(1)})]}),n.jsxs("div",{children:["Frames: ",n.jsx("strong",{children:N.filtered_persons[N.primary_person].frame_count})," / ",y.total_frames||0," ","(",(N.filtered_persons[N.primary_person].frame_count/(y.total_frames||1)*100).toFixed(1),"%)"]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{children:"Voting Configuration"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsxs("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:["Min Frame Occurrence",n.jsx(Le,{text:"Minimum number of frames a person must appear in to be included in results"})]}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:N.min_frame_occurrence||"N/A"})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f7fafc",borderRadius:"8px"},children:[n.jsxs("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:["Weighted Voting",n.jsx(Le,{text:"Uses squared confidence values to weight matches - prioritizes quality over quantity"})]}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"600",margin:"0.5rem 0 0 0"},children:s.use_weighted_voting!==!1?" Enabled":" Disabled"})]})]})]}),N.filtered_persons&&Object.keys(N.filtered_persons).length>0&&n.jsxs("div",{children:[n.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["All Confirmed Persons",n.jsx(Le,{text:"Persons who passed the minimum frame occurrence threshold and confidence requirements"})]}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Person"}),n.jsxs("th",{children:["Frames",n.jsx(Le,{text:"Number of frames where this person was detected"})]}),n.jsxs("th",{children:["Weighted Score",n.jsx(Le,{text:"Sum of squared confidence values - indicates detection quality"})]}),n.jsxs("th",{children:["Avg Confidence",n.jsx(Le,{text:"Average confidence across all detected frames"})]}),n.jsxs("th",{children:["Best Confidence",n.jsx(Le,{text:"Highest confidence value from any single frame"})]})]})}),n.jsx("tbody",{children:Object.entries(N.filtered_persons).sort((j,T)=>(T[1].weighted_score||0)-(j[1].weighted_score||0)).map(([j,T],M)=>n.jsxs("tr",{style:{backgroundColor:j===N.primary_person?"#eff6ff":"transparent"},children:[n.jsxs("td",{children:[n.jsx("strong",{children:j}),j===N.primary_person&&n.jsx("span",{style:{marginLeft:"0.5rem",fontSize:"0.75rem",color:"#3b82f6",fontWeight:"600"},children:"PRIMARY"})]}),n.jsx("td",{children:T.frame_count}),n.jsx("td",{children:n.jsx("strong",{children:T.weighted_score?.toFixed(1)})}),n.jsxs("td",{children:[T.avg_confidence?.toFixed(1),"%"]}),n.jsx("td",{children:n.jsxs("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:T.best_confidence>=70?"#10b981":T.best_confidence>=60?"#f59e0b":"#ef4444",color:"white",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500"},children:[T.best_confidence?.toFixed(1),"%"]})})]},M))})]})})]}),N.persons_filtered_out&&N.persons_filtered_out.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:["Filtered Out (Did Not Pass Threshold)",n.jsx(Le,{text:"Persons detected but did not appear in enough frames or with sufficient confidence"})]}),n.jsx("div",{style:{padding:"1rem",backgroundColor:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca"},children:n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:N.persons_filtered_out.map((j,T)=>{const M=N.all_detected_persons?.[j];return n.jsxs("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#fee2e2",color:"#991b1b",borderRadius:"20px",fontSize:"0.85rem",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[j,M&&n.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:["(",M.frame_count," frames)"]})]},T)})})})]}),N.blacklisted_persons&&N.blacklisted_persons.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#dc2626"},children:[" Blacklisted Historical Persons",n.jsx(Le,{text:"Historical figures removed from results as they cannot appear in modern videos"})]}),n.jsxs("div",{style:{padding:"1rem",backgroundColor:"#fef3c7",borderRadius:"8px",border:"2px solid #fbbf24"},children:[n.jsx("p",{style:{margin:"0 0 0.5rem 0",color:"#78350f",fontSize:"0.9rem"},children:"These persons were detected but removed because they are historical figures who died before modern video era:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:N.blacklisted_persons.map((j,T)=>{const M=N.all_detected_persons?.[j];return n.jsxs("span",{style:{padding:"0.5rem 1rem",backgroundColor:"#fde68a",color:"#78350f",borderRadius:"20px",fontSize:"0.85rem",fontWeight:"500",display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[j,M&&n.jsxs("span",{style:{fontSize:"0.75rem",opacity:.8},children:["(",M.frame_count," frames, ",M.weighted_score?.toFixed(1)," weighted score)"]})]},T)})})]})]})]}),o==="frames"&&n.jsxs("div",{children:[n.jsx("h3",{style:{marginTop:0},children:"Frame-by-Frame Results"}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Frame #"}),n.jsx("th",{children:"Timestamp"}),n.jsx("th",{children:"Person"}),n.jsx("th",{children:"Confidence"}),n.jsx("th",{children:"Status"})]})}),n.jsx("tbody",{children:x.map((j,T)=>n.jsxs("tr",{children:[n.jsx("td",{children:j.frame_number}),n.jsxs("td",{children:[j.timestamp?.toFixed(2),"s"]}),n.jsx("td",{children:j.recognized&&j.person?j.person:n.jsx("em",{children:"Unknown"})}),n.jsx("td",{children:j.recognized&&j.confidence?`${j.confidence.toFixed(1)}%`:"-"}),n.jsx("td",{children:n.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:j.recognized?"#10b981":"#718096",color:"white",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"500"},children:j.recognized?"Recognized":"Unknown"})})]},T))})]})})]})]}),n.jsx("div",{style:{padding:"1rem 1.5rem",borderTop:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end"},children:n.jsx("button",{onClick:r,className:"btn btn-primary",children:"Close"})})]})})}function Vv(){const[s]=z0(),r=s.get("video_id"),[o,c]=g.useState([]),[u,f]=g.useState([]),[h,b]=g.useState(null),[y,p]=g.useState(!1),[v,x]=g.useState(!1),{status:w,isPolling:C}=Bp(r,3e3,!!r),S=g.useCallback(async(z,E=[])=>{if(!z||z.length===0)return;p(!0);const q=[],B=[],W=new Set(E.map(ee=>ee.video_id));for(const ee of z)if(!W.has(ee.video_id))try{const Z=await Ut.getStatus(ee.video_id);Z.success&&Z.status==="completed"?W.has(ee.video_id)||(B.push({...Z,completedAt:Z.processed_at||new Date().toISOString()}),W.add(ee.video_id)):Z.status==="not_found"?console.warn(`Video ${ee.video_id} not found, removing from processing list`):q.push(ee)}catch(Z){console.error(`Failed to recheck video ${ee.video_id}:`,Z),q.push(ee)}B.length>0&&f(ee=>{const Z=[...B,...ee],H=new Set;return Z.filter(pe=>H.has(pe.video_id)?!1:(H.add(pe.video_id),!0)).slice(0,20)}),c(q),p(!1)},[]);g.useEffect(()=>{(async()=>{try{const E=await Ut.getAllVideos();if(E.success&&E.videos){const q=E.videos.filter(B=>B.results_available).map(B=>({video_id:B.video_id,domain:B.domain||"serbia",status:"completed",completedAt:B.uploaded_at,fromBackend:!0,statistics:B.statistics,performance:B.performance}));f(q)}}catch(E){console.error("Failed to load videos from backend:",E)}})()},[]),g.useEffect(()=>{const z=localStorage.getItem("videoRecognitionHistory");if(z)try{const q=JSON.parse(z).processing||[];c(q),q.length>0&&S(q,[])}catch(E){console.error("Failed to parse video history:",E)}x(!0)},[S]),g.useEffect(()=>{if(w&&w.isComplete&&w.success){if(!o.find(q=>q.video_id===w.video_id))return;c(q=>q.filter(B=>B.video_id!==w.video_id));const E={...w,completedAt:new Date().toISOString()};f(q=>{const B=[E,...q],W=new Set;return B.filter(Z=>W.has(Z.video_id)?!1:(W.add(Z.video_id),!0)).slice(0,20)})}},[w,o]),g.useEffect(()=>{try{const z=u.map(E=>({video_id:E.video_id,domain:E.domain,status:E.status,completedAt:E.completedAt,fromBackend:E.fromBackend}));localStorage.setItem("videoRecognitionHistory",JSON.stringify({completed:z,processing:o}))}catch(z){z.name==="QuotaExceededError"&&(console.warn("localStorage quota exceeded, clearing old data"),localStorage.removeItem("videoRecognitionHistory"))}},[u,o]);const N=z=>z>=70?"#10b981":z>=40?"#f59e0b":"#ef4444",j=z=>z?new Date(z).toLocaleString():"N/A",T=async z=>{if(confirm("Are you sure you want to delete this video? This will remove the video file, frames, and results permanently."))try{const E=await Ut.deleteVideo(z);E.success?f(q=>q.filter(B=>B.video_id!==z)):alert(`Failed to delete video: ${E.message}`)}catch(E){console.error("Error deleting video:",E),alert("Failed to delete video. Please try again.")}},M=()=>{confirm("Are you sure you want to clear all completed videos from history?")&&(f([]),localStorage.setItem("videoRecognitionHistory",JSON.stringify({completed:[],processing:o})))},D=async z=>{const E=z.face_recognition||{};if(z.results||z.multi_frame_voting||E.frame_results||E.tracking_results){b(z);return}try{const q=await Ut.getStatus(z.video_id);q.success?b({...z,...q}):alert("Failed to load video details. Please try again.")}catch(q){console.error("Error loading video details:",q),alert("Failed to load video details. Please try again.")}};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Video Recognition Results"}),n.jsx(Kt,{topic:"video-results"})]}),n.jsx("p",{style:{color:"#718096",marginBottom:"2rem"},children:"View processing status and results for your video recognition tasks."}),(o.length>0||r&&C)&&n.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[n.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("span",{className:"spinner",style:{width:"20px",height:"20px"}}),"Currently Processing (",o.length||(r&&C?1:0),")"]}),n.jsxs("div",{style:{marginTop:"1.5rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[r&&C&&!o.find(z=>z.video_id===r)&&n.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f7fafc",borderRadius:"8px",border:"2px solid #e2e8f0"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsxs("p",{style:{fontWeight:"500",margin:0},children:["Video ID: ",r]}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096",margin:"0.25rem 0 0 0"},children:["Started: ",j(new Date().toISOString())]})]}),n.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"500"},children:"Processing"})]}),w&&w.isProcessing&&n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.9rem",color:"#718096",margin:"0.5rem 0"},children:" Processing frames... This may take several minutes depending on video length."}),n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:" You can leave this page and come back later. Processing continues in the background."})]})]}),o.map(z=>n.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f7fafc",borderRadius:"8px",border:"2px solid #e2e8f0"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsxs("p",{style:{fontWeight:"500",margin:0},children:["Video ID: ",z.video_id]}),n.jsxs("p",{style:{fontSize:"0.9rem",color:"#718096",margin:"0.25rem 0 0 0"},children:["Started: ",j(z.addedAt)]})]}),n.jsx("span",{style:{padding:"0.25rem 0.75rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"12px",fontSize:"0.85rem",fontWeight:"500"},children:"Processing"})]}),z.video_id===r&&w&&w.isProcessing&&n.jsxs("div",{children:[n.jsx("p",{style:{fontSize:"0.9rem",color:"#718096",margin:"0.5rem 0"},children:" Processing frames... This may take several minutes depending on video length."}),n.jsx("p",{style:{fontSize:"0.85rem",color:"#718096",margin:0},children:" You can leave this page and come back later. Processing continues in the background."})]})]},z.video_id))]})]}),o.length===0&&n.jsxs("div",{className:"card",style:{marginBottom:"2rem",textAlign:"center",padding:"2rem"},children:[n.jsx("p",{style:{color:"#718096",marginBottom:"1rem"},children:"No videos currently processing"}),n.jsx(Ge,{to:"/video-recognition/upload",className:"btn btn-primary",children:"Upload New Video"})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsxs("h3",{style:{margin:0},children:["Completed Videos (",u.length,")"]}),u.length>0&&n.jsx("button",{onClick:M,className:"btn btn-secondary",style:{fontSize:"0.9rem"},children:"Clear History"})]}),u.length===0?n.jsx("p",{style:{color:"#718096",textAlign:"center",padding:"2rem 0"},children:"No completed videos yet. Upload a video to get started."}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Video ID"}),n.jsx("th",{children:"Completed"}),n.jsx("th",{children:"Domain"}),n.jsx("th",{children:"Frames"}),n.jsx("th",{children:"Recognition Rate"}),n.jsx("th",{children:"Persons Found"}),n.jsx("th",{children:"Processing Time"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:u.map((z,E)=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx(Le,{content:z.video_id,position:"top",children:n.jsxs("code",{style:{fontSize:"0.85rem"},children:[z.video_id.substring(0,12),"..."]})})}),n.jsx("td",{style:{fontSize:"0.9rem"},children:j(z.completedAt)}),n.jsx("td",{children:n.jsx("span",{style:{padding:"0.25rem 0.5rem",backgroundColor:"#e2e8f0",borderRadius:"4px",fontSize:"0.85rem",fontWeight:"500"},children:z.domain||"N/A"})}),n.jsx("td",{children:n.jsx(Le,{content:`${z.statistics?.recognized_frames||0} recognized out of ${z.statistics?.total_frames||0} total`,position:"top",children:n.jsx("span",{children:z.statistics?.total_frames||0})})}),n.jsx("td",{children:n.jsxs("span",{style:{color:N(z.statistics?.recognition_rate||0),fontWeight:"500"},children:[z.statistics?.recognition_rate?.toFixed(1)||0,"%"]})}),n.jsx("td",{children:n.jsx(Le,{content:z.statistics?.persons_list?.length>0?z.statistics.persons_list.join(", "):"No persons recognized",position:"top",children:n.jsx("span",{style:{fontWeight:"500"},children:z.statistics?.unique_persons||0})})}),n.jsxs("td",{children:[z.performance?.processing_time_seconds?.toFixed(1)||"N/A","s"]}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx(Le,{content:"View detailed results",position:"top",children:n.jsx("button",{onClick:()=>D(z),className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"0.25rem 0.75rem"},children:"Details"})}),n.jsx(Le,{content:"Remove from history",position:"top",children:n.jsx("button",{onClick:()=>T(z.video_id),className:"btn btn-secondary",style:{fontSize:"0.85rem",padding:"0.25rem 0.75rem"},children:"Remove"})})]})})]},`${z.video_id}-${E}`))})]})})]}),u.length>0&&n.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:n.jsx(Ge,{to:"/video-recognition/upload",className:"btn btn-primary",children:"Upload Another Video"})}),h&&n.jsx(Fv,{video:h,onClose:()=>b(null)})]})}const gn={async getStorageStats(){try{return(await re.get("/api/storage/stats")).data}catch(s){return console.error("Failed to get storage stats:",s),{success:!1,message:s.response?.data?.message||"Failed to get storage stats"}}},async getVideos(){try{return(await re.get("/api/storage/videos")).data}catch(s){return console.error("Failed to get videos list:",s),{success:!1,message:s.response?.data?.message||"Failed to get videos list"}}},async deleteVideo(s){try{return(await re.delete(`/api/storage/videos/${s}`)).data}catch(r){return console.error(`Failed to delete video ${s}:`,r),{success:!1,message:r.response?.data?.message||"Failed to delete video"}}},async cleanupOldVideos(s){try{return(await re.post("/api/storage/cleanup",{days:s})).data}catch(r){return console.error("Failed to cleanup videos:",r),{success:!1,message:r.response?.data?.message||"Failed to cleanup videos"}}},formatSize(s){return s<1?`${(s*1024).toFixed(2)} KB`:s<1024?`${s.toFixed(2)} MB`:`${(s/1024).toFixed(2)} GB`},formatDuration(s){if(!s)return"N/A";const r=Math.floor(s/3600),o=Math.floor(s%3600/60),c=Math.floor(s%60);return r>0?`${r}:${String(o).padStart(2,"0")}:${String(c).padStart(2,"0")}`:`${o}:${String(c).padStart(2,"0")}`},formatDate(s){if(!s)return"N/A";try{return new Date(s).toLocaleString()}catch{return s}}};function Gv(){const[s,r]=g.useState(null),[o,c]=g.useState([]),[u,f]=g.useState(!0),[h,b]=g.useState(null),[y,p]=g.useState(null),[v,x]=g.useState(30),[w,C]=g.useState(!1),[S,N]=g.useState(null);g.useEffect(()=>{j()},[]);const j=async()=>{f(!0),b(null);try{const E=await gn.getStorageStats();E.success?(r(E),c(E.videos||[])):b(E.message||"Failed to load storage data")}catch(E){b(E.message||"Failed to load storage data")}finally{f(!1)}},T=async(E,q)=>{if(confirm(`Are you sure you want to delete "${q}"?

This will remove:
- Video file
- All extracted frames
- Recognition results

This action cannot be undone.`)){p(E),b(null);try{const B=await gn.deleteVideo(E);B.success?(await j(),alert(`Successfully deleted video: ${q}`)):b(B.message||"Failed to delete video")}catch(B){b(B.message||"Failed to delete video")}finally{p(null)}}},M=async()=>{if(confirm(`Are you sure you want to delete all videos older than ${v} days?

This action cannot be undone.`)){C(!0),b(null),N(null);try{const E=await gn.cleanupOldVideos(v);E.success?(N(E),await j()):b(E.message||"Cleanup failed")}catch(E){b(E.message||"Cleanup failed")}finally{C(!1)}}},z=(()=>{if(!s||!s.disk_usage)return"normal";const E=s.disk_usage.total_mb;return E>5e3?"critical":E>2e3?"warning":"normal"})();return n.jsxs("div",{className:"page-container",children:[n.jsx(Kt,{pageName:"storage-management"}),n.jsx("h1",{children:"Storage Management"}),n.jsx("p",{className:"subtitle",children:"Manage video storage, monitor disk usage, and cleanup old files."}),h&&n.jsx("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:h}),u?n.jsxs("div",{className:"loading-state",style:{marginTop:"3rem"},children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading storage data..."})]}):s&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("h3",{style:{marginTop:0,display:"flex",alignItems:"center",gap:"0.5rem"},children:["Storage Overview",z==="critical"&&n.jsx("span",{style:{color:"#dc2626"},children:" Storage Full"}),z==="warning"&&n.jsx("span",{style:{color:"#f59e0b"},children:" High Usage"})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem",marginTop:"1.5rem"},children:[n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Total Videos"}),n.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2d3748",margin:0},children:s.total_videos})]}),n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Total Size"}),n.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:"#2d3748",margin:0},children:gn.formatSize(s.total_size_mb)})]}),n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Video Files"}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#3b82f6",margin:0},children:gn.formatSize(s.disk_usage.videos_mb)})]}),n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Extracted Frames"}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#10b981",margin:0},children:gn.formatSize(s.disk_usage.frames_mb)})]}),n.jsxs("div",{style:{padding:"1rem",background:"#f7fafc",borderRadius:"8px"},children:[n.jsx("p",{style:{fontSize:"0.875rem",color:"#718096",margin:"0 0 0.5rem 0"},children:"Results Data"}),n.jsx("p",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#8b5cf6",margin:0},children:gn.formatSize(s.disk_usage.results_mb)})]})]})]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsx("h3",{style:{marginTop:0},children:"Cleanup Old Videos"}),n.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"flex-end",flexWrap:"wrap"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"},children:"Delete videos older than:"}),n.jsxs("select",{value:v,onChange:E=>x(parseInt(E.target.value)),className:"input-field",style:{width:"200px"},disabled:w,children:[n.jsx("option",{value:7,children:"7 days"}),n.jsx("option",{value:14,children:"14 days"}),n.jsx("option",{value:30,children:"30 days"}),n.jsx("option",{value:60,children:"60 days"}),n.jsx("option",{value:90,children:"90 days"})]})]}),n.jsx(Le,{content:"Delete all videos older than the selected number of days. This action cannot be undone.",position:"top",children:n.jsx("button",{onClick:M,disabled:w,className:"btn btn-primary",style:{background:"#dc2626",borderColor:"#dc2626"},children:w?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner",style:{width:"1rem",height:"1rem",marginRight:"0.5rem"}}),"Cleaning up..."]}):n.jsx(n.Fragment,{children:" Cleanup Old Videos"})})})]}),S&&n.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px"},children:[n.jsx("p",{style:{fontWeight:"500",margin:"0 0 0.5rem 0",color:"#166534"},children:" Cleanup Complete"}),n.jsxs("p",{style:{margin:"0 0 0.5rem 0",color:"#166534"},children:["Deleted ",S.videos_deleted," video(s) older than ",S.days_threshold," days"]}),n.jsxs("p",{style:{margin:0,color:"#166534"},children:["Freed ",gn.formatSize(S.size_freed_mb)," of disk space"]})]})]}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("h3",{style:{marginTop:0},children:["Stored Videos (",o.length,")"]}),o.length===0?n.jsxs("div",{style:{padding:"3rem",textAlign:"center",color:"#718096"},children:[n.jsx("p",{style:{fontSize:"3rem",margin:"0 0 1rem 0"},children:""}),n.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"500",margin:0},children:"No videos stored"}),n.jsx("p",{style:{fontSize:"0.875rem",margin:"0.5rem 0 0 0"},children:"Upload videos from the Video Recognition page"})]}):n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"table",style:{width:"100%",marginTop:"1rem"},children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Filename"}),n.jsx("th",{children:"Upload Date"}),n.jsx("th",{children:"Size"}),n.jsx("th",{children:"Duration"}),n.jsx("th",{children:"Frames"}),n.jsx("th",{children:"Status"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:o.map(E=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsx(Le,{content:E.video_id,position:"top",children:n.jsx("span",{style:{fontFamily:"monospace",fontSize:"0.875rem"},children:E.filename})})}),n.jsx("td",{style:{fontSize:"0.875rem"},children:gn.formatDate(E.uploaded_at)}),n.jsx("td",{style:{fontSize:"0.875rem"},children:gn.formatSize(E.size_mb)}),n.jsx("td",{style:{fontSize:"0.875rem"},children:gn.formatDuration(E.duration_seconds)}),n.jsx("td",{style:{fontSize:"0.875rem",textAlign:"center"},children:E.frames_extracted||0}),n.jsx("td",{children:E.results_available?n.jsx("span",{className:"badge badge-success",children:"Processed"}):n.jsx("span",{className:"badge badge-secondary",children:"Pending"})}),n.jsx("td",{children:n.jsx("button",{onClick:()=>T(E.video_id,E.filename),disabled:y===E.video_id,className:"btn btn-secondary",style:{padding:"0.25rem 0.75rem",fontSize:"0.875rem",background:"#dc2626",borderColor:"#dc2626",color:"white"},children:y===E.video_id?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner",style:{width:"0.75rem",height:"0.75rem"}}),"Deleting..."]}):" Delete"})})]},E.video_id))})]})})]}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:" Storage Management"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Video Files:"})," Original uploaded video files"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Extracted Frames:"})," JPEG images extracted from videos for recognition"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Results Data:"})," JSON files containing recognition results"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Delete:"})," Removes video, all frames, and results (cannot be undone)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Cleanup:"})," Automatically deletes videos older than specified days"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Storage Warning:"})," System shows warnings when storage exceeds 2GB"]})]})]})]})]})}const yt={async getTrainingQueue(s="serbia"){return(await re.get("/api/training/smart/queue",{params:{domain:s}})).data},async addToQueue(s,r="serbia",o="medium",c=null,u=null){return(await re.post("/api/training/smart/queue/add",{person_name:s,domain:r,priority:o,wikidata_id:c,recognition_score:u})).data},async removeFromQueue(s,r="serbia"){return(await re.post("/api/training/smart/queue/remove",{person_name:s,domain:r})).data},async updatePriority(s,r,o="serbia",c=!1){return(await re.post("/api/training/smart/queue/priority",{person_name:s,priority:r,domain:o,move_to_top:c})).data},async startSmartCycle(s){return(await re.post("/api/training/smart/run",{domain:s.domain||"serbia",discover_new:s.discover_new!==!1,benchmark_existing:s.benchmark_existing!==!1,max_new_discoveries:s.max_new_discoveries||10,max_training_per_run:s.max_training_per_run||5,images_per_person:s.images_per_person||20},{timeout:1e4})).data},async getSmartTrainingRuns(s="serbia"){try{console.log(" [Service] Calling /api/training/smart/runs with domain:",s);const r=await re.get("/api/training/smart/runs",{params:{domain:s,limit:50}});return console.log(" [Service] Response status:",r.status),console.log(" [Service] Response data:",r.data),r.data}catch(r){throw console.error(" [Service] Error calling API:",r.message),console.error(" [Service] Error response:",r.response?.data),r}},async benchmarkPerson(s,r="serbia",o=20){return(await re.post("/api/training/benchmark/person",{person_name:s,domain:r,num_images:o},{timeout:18e4})).data},async benchmarkBatch(s,r="serbia",o=10){return(await re.post("/api/training/benchmark/batch",{people:s,domain:r,num_images_per_person:o},{timeout:3e5})).data},async benchmarkAndQueue(s,r="serbia",o=null,c=20){return(await re.post("/api/training/benchmark/and-queue",{person_name:s,domain:r,wikidata_id:o,num_images:c},{timeout:18e4})).data},async getBenchmarkCandidates(s="serbia",r=80){return(await re.get("/api/training/benchmark/candidates",{params:{domain:s,min_score:r}})).data},async discoverTrending(s="serbia",r=20){return(await re.get("/api/training/discover/trending",{params:{country:s,max_results:r},timeout:6e4})).data},async getTopCelebrities(s="serbia",r=50){return(await re.get("/api/training/discover/top",{params:{country:s,limit:r},timeout:6e4})).data},async searchCelebrity(s,r=null){const o={q:s};return r&&(o.country=r),(await re.get("/api/training/discover/search",{params:o,timeout:4e4})).data},async getDashboardStats(s="serbia"){try{const[r,o]=await Promise.all([this.getTrainingQueue(s),this.getBenchmarkCandidates(s,80)]),c=r.queue||[],u=o.candidates||[];return{success:!0,stats:{queue_size:r.queue_size||0,high_priority:c.filter(f=>f.priority==="high").length,medium_priority:c.filter(f=>f.priority==="medium").length,low_priority:c.filter(f=>f.priority==="low").length,candidates_needing_training:u.length,avg_recognition_score:u.length>0?Math.round(u.reduce((f,h)=>f+(h.recognition_score||0),0)/u.length):null},queue:c,candidates:u}}catch(r){return{success:!1,error:r.message,stats:{queue_size:0,high_priority:0,medium_priority:0,low_priority:0,candidates_needing_training:0,avg_recognition_score:null}}}}};function Op({priority:s}){const r=()=>{switch(s){case"high":return"";case"medium":return"";case"low":return"";default:return""}};return n.jsxs("span",{className:`priority-badge ${s||"medium"}`,children:[n.jsx("span",{children:r()}),n.jsx("span",{children:s||"medium"})]})}function td({score:s,size:r=80}){const o=Math.min(Math.max(s||0,0),100),c=(r-8)/2,u=2*Math.PI*c,f=u-o/100*u,h=()=>o>=80?"score-high":o>=50?"score-medium":"score-low";return n.jsxs("div",{className:"score-gauge",style:{width:r,height:r},children:[n.jsxs("svg",{width:r,height:r,children:[n.jsx("circle",{className:"gauge-bg",cx:r/2,cy:r/2,r:c}),n.jsx("circle",{className:`gauge-fill ${h()}`,cx:r/2,cy:r/2,r:c,strokeDasharray:u,strokeDashoffset:f})]}),n.jsx("div",{className:"score-gauge-label",children:Math.round(o)})]})}function Qv({person:s,showScore:r=!1,onRemove:o,onBenchmark:c,onTrain:u}){const f=h=>{if(!h)return"Never";try{const b=new Date(h),p=new Date-b,v=Math.floor(p/(1e3*60*60));if(v<1)return"Just now";if(v<24)return`${v}h ago`;const x=Math.floor(v/24);return x<7?`${x}d ago`:b.toLocaleDateString()}catch{return h}};return n.jsxs("div",{className:"person-card",children:[n.jsxs("div",{className:"person-card-header",children:[s.image_url&&n.jsx("img",{src:s.image_url,alt:s.person_name||s.name,className:"person-card-image",onError:h=>{h.target.style.display="none"}}),n.jsxs("div",{className:"person-card-info",children:[n.jsx("h3",{className:"person-card-name",children:s.person_name||s.name}),n.jsx("p",{className:"person-card-meta",children:s.description||s.occupation||"Celebrity"}),s.priority&&n.jsx(Op,{priority:s.priority})]}),r&&s.recognition_score!==void 0&&n.jsx(td,{score:s.recognition_score,size:64})]}),r&&n.jsxs("div",{className:"person-card-stats",children:[n.jsxs("div",{className:"person-card-stat",children:[n.jsx("div",{className:"person-card-stat-label",children:"Recognition"}),n.jsx("div",{className:"person-card-stat-value",children:s.recognition_score!==void 0?`${s.recognition_score}%`:"N/A"})]}),n.jsxs("div",{className:"person-card-stat",children:[n.jsx("div",{className:"person-card-stat-label",children:"Last Checked"}),n.jsx("div",{className:"person-card-stat-value",style:{fontSize:"0.875rem"},children:f(s.last_benchmark||s.added_at)})]})]}),n.jsxs("div",{className:"person-card-actions",children:[c&&n.jsx("button",{className:"btn btn-secondary",onClick:()=>c(s),title:"Run recognition benchmark",children:" Benchmark"}),u&&n.jsx("button",{className:"btn btn-primary",onClick:()=>u(s),title:"Train this person",children:" Train"}),o&&n.jsx("button",{className:"btn btn-danger",onClick:()=>o(s),title:"Remove from queue",style:{marginLeft:"auto"},children:""})]})]})}function Mp({isOpen:s,onClose:r,onSuccess:o}){const[c,u]=g.useState(""),[f,h]=g.useState("medium"),[b,y]=g.useState(""),[p,v]=g.useState("serbia"),[x,w]=g.useState(!1),[C,S]=g.useState(null),[N,j]=g.useState([]),[T,M]=g.useState(!1),D=async B=>{if(!B||B.length<2){j([]);return}M(!0),S(null);try{const W=await yt.searchCelebrity(B);W.success?j(W.results||[]):S(W.error||"Search failed")}catch(W){console.error("Search error:",W),j([])}finally{M(!1)}},z=B=>{u(B.full_name||B.name),y(B.wikidata_id||""),j([])},E=async B=>{if(B.preventDefault(),!c.trim()){S("Person name is required");return}w(!0),S(null);try{const W=await yt.addToQueue(c,p,f,b||null);W.success?(o&&o(W),q()):S(W.error||"Failed to add to queue")}catch(W){S(W.message||"Failed to add to queue")}finally{w(!1)}},q=()=>{u(""),h("medium"),y(""),j([]),S(null),r()};return s?n.jsx("div",{className:"modal-overlay",onClick:q,children:n.jsxs("div",{className:"modal-content",onClick:B=>B.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Add Person to Training Queue"}),n.jsx("button",{className:"modal-close",onClick:q,children:""})]}),n.jsxs("form",{onSubmit:E,children:[n.jsxs("div",{className:"modal-body",children:[C&&n.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:C}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"personName",className:"form-label",children:"Person Name *"}),n.jsx("input",{type:"text",id:"personName",className:"form-input",value:c,onChange:B=>{u(B.target.value),D(B.target.value)},placeholder:"Search by name...",required:!0}),T&&n.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#6b7280"},children:"Searching Wikidata..."}),N.length>0&&n.jsx("div",{style:{marginTop:"0.5rem",border:"1px solid #e5e7eb",borderRadius:"8px",maxHeight:"200px",overflowY:"auto"},children:N.map((B,W)=>n.jsxs("div",{onClick:()=>z(B),style:{padding:"0.75rem",cursor:"pointer",borderBottom:W<N.length-1?"1px solid #e5e7eb":"none"},onMouseEnter:ee=>{ee.currentTarget.style.background="#f9fafb"},onMouseLeave:ee=>{ee.currentTarget.style.background="transparent"},children:[n.jsx("div",{style:{fontWeight:600},children:B.full_name||B.name}),B.description&&n.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:B.description})]},W))})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"priority",className:"form-label",children:"Priority"}),n.jsxs("select",{id:"priority",className:"form-select",value:f,onChange:B=>h(B.target.value),children:[n.jsx("option",{value:"high",children:" High"}),n.jsx("option",{value:"medium",children:" Medium"}),n.jsx("option",{value:"low",children:" Low"})]})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"wikidataId",className:"form-label",children:"Wikidata ID (Optional)"}),n.jsx("input",{type:"text",id:"wikidataId",className:"form-input",value:b,onChange:B=>y(B.target.value),placeholder:"e.g., Q12345"}),n.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#6b7280"},children:"Automatically filled if you select from search results"})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"domain",className:"form-label",children:"Domain"}),n.jsxs("select",{id:"domain",className:"form-select",value:p,onChange:B=>v(B.target.value),children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"})]})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:q,disabled:x,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:x||!c.trim(),children:x?"Adding...":"Add to Queue"})]})]})]})}):null}function Yv({isOpen:s,onClose:r,onSuccess:o}){const[c,u]=g.useState({domain:"serbia",discover_new:!0,benchmark_existing:!0,max_new_discoveries:10,max_training_per_run:5,images_per_person:20}),[f,h]=g.useState(!1),[b,y]=g.useState(null),p=async x=>{x.preventDefault(),h(!0),y(null);try{const w=await yt.startSmartCycle(c);w.success?(o&&o(w),v()):y(w.error||"Failed to start smart training")}catch(w){y(w.message||"Failed to start smart training")}finally{h(!1)}},v=()=>{y(null),r()};return s?n.jsx("div",{className:"modal-overlay",onClick:v,children:n.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Run Smart Training Cycle"}),n.jsx("button",{className:"modal-close",onClick:v,children:""})]}),n.jsxs("form",{onSubmit:p,children:[n.jsxs("div",{className:"modal-body",children:[b&&n.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:b}),n.jsxs("div",{style:{background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem"},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:"0.5rem"},children:"How it works:"}),n.jsxs("ol",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",lineHeight:1.6},children:[n.jsx("li",{children:"Discovers trending celebrities (if enabled)"}),n.jsx("li",{children:"Benchmarks existing trained people (if enabled)"}),n.jsx("li",{children:"Builds priority queue based on recognition scores"}),n.jsx("li",{children:"Trains top priority people automatically"})]})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"domain",className:"form-label",children:"Domain"}),n.jsxs("select",{id:"domain",className:"form-select",value:c.domain,onChange:x=>u({...c,domain:x.target.value}),children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"})]})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:c.discover_new,onChange:x=>u({...c,discover_new:x.target.checked})}),n.jsx("span",{children:"Discover new celebrities"})]}),n.jsx("div",{style:{marginLeft:"1.75rem",fontSize:"0.875rem",color:"#6b7280"},children:"Search for trending/hot celebrities in the selected country"})]}),c.discover_new&&n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem",marginLeft:"1.75rem"},children:[n.jsx("label",{htmlFor:"maxDiscoveries",className:"form-label",children:"Max New Discoveries"}),n.jsx("input",{type:"number",id:"maxDiscoveries",className:"form-input",min:"1",max:"50",value:c.max_new_discoveries,onChange:x=>u({...c,max_new_discoveries:parseInt(x.target.value)})})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:c.benchmark_existing,onChange:x=>u({...c,benchmark_existing:x.target.checked})}),n.jsx("span",{children:"Benchmark existing people"})]}),n.jsx("div",{style:{marginLeft:"1.75rem",fontSize:"0.875rem",color:"#6b7280"},children:"Re-test already trained people to detect quality drift"})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"maxTraining",className:"form-label",children:"Max People to Train This Run"}),n.jsx("input",{type:"number",id:"maxTraining",className:"form-input",min:"1",max:"20",value:c.max_training_per_run,onChange:x=>u({...c,max_training_per_run:parseInt(x.target.value)})}),n.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#6b7280"},children:"Prevents overwhelming the system with too many training jobs"})]}),n.jsxs("div",{className:"form-group",style:{marginBottom:"1.5rem"},children:[n.jsx("label",{htmlFor:"imagesPerPerson",className:"form-label",children:"Target Images Per Person"}),n.jsx("input",{type:"number",id:"imagesPerPerson",className:"form-input",min:"5",max:"100",value:c.images_per_person,onChange:x=>u({...c,images_per_person:parseInt(x.target.value)})}),n.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.875rem",color:"#6b7280"},children:"Number of images to collect and validate for training"})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:v,disabled:f,children:"Cancel"}),n.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f,children:f?"Starting...":" Run Smart Training"})]})]})]})}):null}function Pv(){const{user:s}=Wn(),[r,o]=g.useState(!0),[c,u]=g.useState(!1),[f,h]=g.useState(!1),[b,y]=g.useState(null),[p,v]=g.useState(!1),[x,w]=g.useState(null),[C,S]=g.useState(!0),N=s?.domain||"serbia",j=g.useCallback(async()=>{v(!0);try{const B=await yt.getDashboardStats(N);y(B),w(null)}catch(B){w(B.message)}finally{v(!1)}},[N]);g.useEffect(()=>{j()},[j]),g.useEffect(()=>{if(!r)return;const B=setInterval(j,1e4);return()=>clearInterval(B)},[j,r]);const T=j,M=()=>{r?(o(!1),S(!1)):(o(!0),S(!0))},D=()=>{T()},z=()=>{alert("Smart training cycle started! Check the History page for progress."),T()},E=b?.stats||{},q=b?.queue||[];return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Smart Training Dashboard"}),n.jsxs("p",{className:"subtitle",children:["Self-improving face recognition training system - ",n.jsx("strong",{children:N})]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[C&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#10b981",fontSize:"0.875rem"},children:[n.jsx("span",{className:"spinner",style:{width:"16px",height:"16px",borderWidth:"2px"}}),n.jsx("span",{children:"Auto-refresh: ON"})]}),!C&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280",fontSize:"0.875rem"},children:[n.jsx("span",{children:""}),n.jsx("span",{children:"Auto-refresh: OFF"})]}),n.jsx("button",{className:"btn",onClick:M,style:{background:C?"#ef4444":"#10b981",color:"white",border:"none"},children:C?" Pause":" Resume"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>h(!0),children:" Run Smart Training"})]})]}),x&&n.jsx("div",{className:"alert alert-error",children:x}),n.jsxs("div",{className:"stats-grid",children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Queue Size"}),n.jsx("div",{className:"stat-value",children:p?"...":E.queue_size||0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"High Priority"}),n.jsx("div",{className:"stat-value",children:p?"...":E.high_priority||0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Avg Recognition"}),n.jsx("div",{className:"stat-value",children:p?"...":E.avg_recognition_score?`${E.avg_recognition_score}%`:"N/A"})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Need Training"}),n.jsx("div",{className:"stat-value",children:p?"...":E.candidates_needing_training||0})]})]})]}),n.jsxs("div",{className:"dashboard-columns",children:[n.jsxs("div",{className:"section",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[n.jsx("h2",{children:"Training Queue"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>u(!0),children:"+ Add Person"})]}),p?n.jsx("div",{className:"text-muted",children:"Loading queue..."}):q.length===0?n.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"12px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("p",{children:"No people in training queue"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>u(!0),style:{marginTop:"1rem"},children:"Add First Person"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:q.slice(0,5).map((B,W)=>n.jsx(Qv,{person:B,showScore:B.recognition_score!==void 0},W))}),q.length>5&&n.jsxs(Ge,{to:"/training/queue",className:"btn btn-secondary",style:{marginTop:"1rem",display:"block",textAlign:"center"},children:["View All (",q.length," people)"]})]})]}),n.jsxs("div",{className:"section",children:[n.jsx("h2",{children:"Quick Actions"}),n.jsxs("div",{className:"actions-grid-compact",children:[n.jsxs(Ge,{to:"/training/discovery",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Discover Celebrities"}),n.jsx("p",{children:"Find trending celebrities to train"})]})]}),n.jsxs(Ge,{to:"/training/benchmarks",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Benchmark Results"}),n.jsx("p",{children:"View recognition quality scores"})]})]}),n.jsxs(Ge,{to:"/training/queue",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Manage Queue"}),n.jsx("p",{children:"View and edit training queue"})]})]}),n.jsxs(Ge,{to:"/training/history",className:"action-card-compact",children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Training History"}),n.jsx("p",{children:"View past training runs"})]})]}),n.jsxs("button",{onClick:()=>h(!0),className:"action-card-compact",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",cursor:"pointer"},children:[n.jsx("div",{className:"action-icon",children:""}),n.jsxs("div",{children:[n.jsx("h3",{children:"Run Smart Training"}),n.jsx("p",{children:"Start automated training cycle"})]})]})]}),n.jsxs("div",{style:{marginTop:"2rem",background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",padding:"1rem"},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:"0.5rem",color:"#1e40af"},children:" How Smart Training Works"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#1e3a8a",lineHeight:1.6},children:[n.jsx("li",{children:"Discovers trending celebrities automatically"}),n.jsx("li",{children:"Benchmarks recognition quality (0-100%)"}),n.jsx("li",{children:"Queues people with low scores for training"}),n.jsx("li",{children:"Trains using P18 + SERP image validation"}),n.jsx("li",{children:"Re-tests periodically to detect drift"})]})]})]})]}),n.jsx(Mp,{isOpen:c,onClose:()=>u(!1),onSuccess:D}),n.jsx(Yv,{isOpen:f,onClose:()=>h(!1),onSuccess:z})]})}function Xv(){const{user:s}=Wn(),[r,o]=g.useState(!1),[c,u]=g.useState("all"),[f,h]=g.useState(null),[b,y]=g.useState(!1),[p,v]=g.useState(null),[x,w]=g.useState(new Set),[C,S]=g.useState(!1),N=s?.domain||"serbia",j=g.useCallback(async()=>{y(!0),v(null);try{const H=await yt.getTrainingQueue(N);h(H)}catch(H){v(H.message)}finally{y(!1)}},[N]);g.useEffect(()=>{j()},[j]);const T=j,M=f?.queue||[],D=c==="all"?M:M.filter(H=>H.priority===c),z=H=>{w(oe=>{const pe=new Set(oe);return pe.has(H)?pe.delete(H):pe.add(H),pe})},E=()=>{const H=D.map(oe=>oe.person_name);w(new Set(H))},q=()=>{w(new Set)},B=D.length>0&&D.every(H=>x.has(H.person_name)),W=async H=>{if(confirm(`Remove ${H.person_name} from queue?`))try{await yt.removeFromQueue(H.person_name,N),T()}catch(oe){alert(`Failed to remove: ${oe.message}`)}},ee=async H=>{try{await yt.updatePriority(H.person_name,"high",N,!0),T()}catch(oe){alert(`Failed to move to top: ${oe.message}`)}},Z=async()=>{if(x.size===0)return;const H=x.size;if(confirm(`Remove ${H} selected people from queue?`)){S(!0);try{const oe=Array.from(x),pe=5;for(let Ae=0;Ae<oe.length;Ae+=pe){const Me=oe.slice(Ae,Ae+pe);await Promise.all(Me.map(Q=>yt.removeFromQueue(Q,N)))}w(new Set),T()}catch(oe){alert(`Failed to remove some people: ${oe.message}`),T()}finally{S(!1)}}};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Training Queue Management"}),n.jsxs("p",{className:"subtitle",children:["Manage people waiting for training - ",n.jsx("strong",{children:N})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:T,disabled:b,children:b?"Loading...":"Refresh"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>o(!0),children:"+ Add Person"})]})]}),p&&n.jsx("div",{className:"alert alert-error",children:p}),n.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsxs("button",{className:`btn ${c==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>u("all"),children:["All (",M.length,")"]}),n.jsxs("button",{className:`btn ${c==="high"?"btn-primary":"btn-secondary"}`,onClick:()=>u("high"),children:["High (",M.filter(H=>H.priority==="high").length,")"]}),n.jsxs("button",{className:`btn ${c==="medium"?"btn-primary":"btn-secondary"}`,onClick:()=>u("medium"),children:["Medium (",M.filter(H=>H.priority==="medium").length,")"]}),n.jsxs("button",{className:`btn ${c==="low"?"btn-primary":"btn-secondary"}`,onClick:()=>u("low"),children:["Low (",M.filter(H=>H.priority==="low").length,")"]})]}),D.length>0&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem 1rem",background:x.size>0?"#fef3c7":"#f3f4f6",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.5rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:B,onChange:()=>B?q():E(),style:{width:"18px",height:"18px"}}),n.jsx("span",{style:{fontWeight:500},children:B?"Deselect All":"Select All"})]}),x.size>0&&n.jsxs("span",{style:{color:"#92400e",fontWeight:600},children:[x.size," selected"]})]}),x.size>0&&n.jsx("button",{className:"btn btn-danger",onClick:Z,disabled:C,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:C?"Removing...":`Remove ${x.size} Selected`})]}),b&&!f?n.jsx("div",{className:"text-muted",children:"Loading queue..."}):D.length===0?n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:c==="all"?"No people in queue":`No ${c} priority people`}),n.jsx("p",{children:"Add people to start training"})]}):n.jsx("div",{className:"queue-table-container",children:n.jsxs("table",{className:"queue-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{style:{width:"40px"}}),n.jsx("th",{children:"Person"}),n.jsx("th",{children:"Priority"}),n.jsx("th",{children:"Source"}),n.jsx("th",{children:"Recognition Score"}),n.jsx("th",{children:"Added"}),n.jsx("th",{children:"Actions"})]})}),n.jsx("tbody",{children:D.map((H,oe)=>n.jsxs("tr",{style:{background:x.has(H.person_name)?"#fef9c3":void 0},children:[n.jsx("td",{children:n.jsx("input",{type:"checkbox",checked:x.has(H.person_name),onChange:()=>z(H.person_name),style:{width:"18px",height:"18px",cursor:"pointer"}})}),n.jsxs("td",{children:[n.jsx("div",{style:{fontWeight:600},children:H.person_name}),H.wikidata_id&&n.jsx("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:H.wikidata_id})]}),n.jsx("td",{children:n.jsx(Op,{priority:H.priority})}),n.jsx("td",{children:H.source||"manual"}),n.jsx("td",{children:H.recognition_score!==void 0&&H.recognition_score!==null?`${H.recognition_score}%`:"N/A"}),n.jsx("td",{style:{fontSize:"0.875rem"},children:H.added_at?new Date(H.added_at).toLocaleDateString():"N/A"}),n.jsx("td",{children:n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>ee(H),style:{padding:"0.5rem 0.75rem",fontSize:"0.875rem"},title:"Move to absolute top of queue",children:" Top"}),n.jsx("button",{className:"btn btn-danger",onClick:()=>W(H),style:{padding:"0.5rem 1rem"},children:"Remove"})]})})]},oe))})]})}),n.jsx(Mp,{isOpen:r,onClose:()=>o(!1),onSuccess:()=>T()})]})}function Wv(){const[s,r]=g.useState([]),[o,c]=g.useState(!1),[u,f]=g.useState(null),[h,b]=g.useState(80),[y,p]=g.useState(!1),[v,x]=g.useState(""),[w,C]=g.useState(null),[S,N]=g.useState(!1),j=async()=>{c(!0),f(null);try{const z=await yt.getBenchmarkCandidates("serbia",h);z.success?r(z.candidates||[]):f(z.error||"Failed to load candidates")}catch(z){f(z.message)}finally{c(!1)}},T=async z=>{if(confirm(`Benchmark ${z.person_name}? This may take 1-2 minutes.`)){c(!0);try{const E=await yt.benchmarkPerson(z.person_name,"serbia",10);E.success?(alert(`Benchmark complete! Score: ${E.benchmark.recognition_score}%`),j()):alert(`Benchmark failed: ${E.error}`)}catch(E){alert(`Error: ${E.message}`)}finally{c(!1)}}},M=async()=>{if(!v.trim()){alert("Please enter a person name");return}N(!0),C(null);try{const z=await yt.benchmarkPerson(v.trim(),"serbia",10);z.success?C(z.benchmark):alert(`Benchmark failed: ${z.error}`)}catch(z){alert(`Error: ${z.message}`)}finally{N(!1)}},D=async()=>{if(w)try{await yt.addToQueue(w.person_name,"serbia",w.training_priority||"medium",null,w.recognition_score),alert(`Added ${w.person_name} to training queue!`),p(!1),x(""),C(null)}catch(z){alert(`Failed to add to queue: ${z.message}`)}};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Benchmark Results"}),n.jsx("p",{className:"subtitle",children:"Recognition quality scores for trained people"})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[n.jsx("button",{className:"btn btn-primary",onClick:()=>p(!0),children:" Benchmark Person"}),n.jsx("button",{className:"btn btn-secondary",onClick:j,disabled:o,children:o?"Loading...":" Refresh"})]})]}),u&&n.jsx("div",{className:"alert alert-error",children:u}),n.jsxs("div",{style:{marginBottom:"2rem"},children:[n.jsx("label",{htmlFor:"minScore",className:"form-label",children:"Show people with score below:"}),n.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[n.jsx("input",{type:"range",id:"minScore",min:"0",max:"100",step:"5",value:h,onChange:z=>b(parseInt(z.target.value)),style:{flex:1,maxWidth:"300px"}}),n.jsxs("span",{style:{fontWeight:600,fontSize:"1.125rem"},children:[h,"%"]}),n.jsx("button",{className:"btn btn-primary",onClick:j,children:"Apply Filter"})]})]}),!s.length&&!o&&n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"No benchmark data yet"}),n.jsx("p",{children:"Click Refresh to load benchmark results"})]}),s.length>0&&n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"1.5rem"},children:s.map((z,E)=>n.jsxs("div",{className:"person-card",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("h3",{className:"person-card-name",children:z.person_name}),n.jsxs("p",{className:"person-card-meta",children:["Last checked: ",z.last_benchmark?new Date(z.last_benchmark).toLocaleDateString():"N/A"]})]}),n.jsx(td,{score:z.recognition_score,size:64})]}),n.jsxs("div",{className:"person-card-stats",children:[n.jsxs("div",{className:"person-card-stat",children:[n.jsx("div",{className:"person-card-stat-label",children:"Score"}),n.jsxs("div",{className:"person-card-stat-value",children:[z.recognition_score,"%"]})]}),n.jsxs("div",{className:"person-card-stat",children:[n.jsx("div",{className:"person-card-stat-label",children:"Priority"}),n.jsx("div",{className:"person-card-stat-value",style:{fontSize:"0.875rem"},children:z.training_priority})]})]}),n.jsx("div",{style:{marginTop:"1rem"},children:n.jsx("button",{className:"btn btn-secondary",onClick:()=>T(z),disabled:o,style:{width:"100%"},children:" Re-benchmark"})})]},E))}),y&&n.jsx("div",{className:"modal-overlay",onClick:()=>!S&&p(!1),children:n.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),style:{maxWidth:"500px"},children:[n.jsxs("div",{className:"modal-header",children:[n.jsx("h2",{children:"Benchmark Person"}),n.jsx("button",{className:"modal-close",onClick:()=>p(!1),disabled:S,children:""})]}),n.jsxs("div",{className:"modal-body",children:[n.jsx("p",{style:{marginBottom:"1rem",color:"#6b7280"},children:"Test recognition quality for a specific person. Downloads test images from Google and runs them through face recognition."}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{className:"form-label",children:"Person Name"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"e.g., Ana Ivanovic",value:v,onChange:z=>x(z.target.value),onKeyPress:z=>z.key==="Enter"&&M(),disabled:S})]}),S&&n.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[n.jsx("div",{className:"spinner",style:{margin:"0 auto 1rem"}}),n.jsx("p",{children:"Running benchmark... This may take 1-2 minutes"}),n.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:"Downloading test images and running recognition"})]}),w&&n.jsxs("div",{style:{marginTop:"1.5rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsx("h3",{style:{margin:0},children:w.person_name}),n.jsx(td,{score:w.recognition_score,size:64})]}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",textTransform:"uppercase"},children:"Images Tested"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600},children:w.num_images_downloaded})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",textTransform:"uppercase"},children:"Recognized Correctly"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600},children:w.num_recognized_correctly})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",textTransform:"uppercase"},children:"Recognition Score"}),n.jsxs("div",{style:{fontSize:"1.25rem",fontWeight:600,color:w.recognition_score>=80?"#10b981":w.recognition_score>=50?"#f59e0b":"#ef4444"},children:[w.recognition_score,"%"]})]}),n.jsxs("div",{children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",textTransform:"uppercase"},children:"Training Priority"}),n.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600},children:w.training_priority})]})]}),w.details&&w.details.some(z=>z.recognized&&!z.recognized_correctly)&&n.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#fef3c7",borderRadius:"6px",border:"1px solid #fcd34d"},children:[n.jsx("div",{style:{fontWeight:600,color:"#92400e",marginBottom:"0.5rem"},children:" Suspicious Matches Detected"}),n.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#78350f"},children:w.details.filter(z=>z.recognized&&!z.recognized_correctly).map((z,E)=>n.jsxs("li",{children:['Recognized as "',n.jsx("strong",{children:z.recognized_as}),'" instead of "',w.person_name,'"',z.confidence&&` (${z.confidence.toFixed(1)}% confidence)`]},E))})]}),w.needs_training&&n.jsx("button",{className:"btn btn-primary",onClick:D,style:{width:"100%",marginTop:"1rem"},children:"+ Add to Training Queue"}),!w.needs_training&&n.jsx("div",{style:{marginTop:"1rem",padding:"0.75rem",background:"#d1fae5",borderRadius:"6px",textAlign:"center",color:"#065f46"},children:" Recognition quality is good - no training needed"})]})]}),n.jsxs("div",{className:"modal-footer",children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>{p(!1),x(""),C(null)},disabled:S,children:"Close"}),!w&&n.jsx("button",{className:"btn btn-primary",onClick:M,disabled:S||!v.trim(),children:S?"Running...":" Run Benchmark"}),w&&n.jsx("button",{className:"btn btn-primary",onClick:()=>{C(null),x("")},children:"Test Another Person"})]})]})})]})}function $v(){const[s,r]=g.useState("trending"),[o,c]=g.useState([]),[u,f]=g.useState(!1),[h,b]=g.useState(null),[y,p]=g.useState("serbia"),[v,x]=g.useState(""),[w,C]=g.useState(new Set),S=async()=>{f(!0),b(null),c([]);try{let T;s==="trending"?T=await yt.discoverTrending(y,20):s==="top"?T=await yt.getTopCelebrities(y,50):s==="search"&&v&&(T=await yt.searchCelebrity(v,y)),T?.success?c(T.celebrities||T.results||[]):b(T?.error||"Discovery failed")}catch(T){b(T.message)}finally{f(!1)}},N=async T=>{try{await yt.addToQueue(T.name||T.full_name,"serbia","medium",T.wikidata_id),alert(`Added ${T.name||T.full_name} to queue!`)}catch(M){alert(`Failed: ${M.message}`)}},j=async()=>{if(w.size===0){alert("No celebrities selected");return}const T=o.filter((M,D)=>w.has(D));for(const M of T)try{await yt.addToQueue(M.name||M.full_name,"serbia","medium",M.wikidata_id)}catch(D){console.error(`Failed to add ${M.name}:`,D)}alert(`Added ${T.length} people to queue!`),C(new Set)};return n.jsxs("div",{className:"page-container",children:[n.jsx("h1",{children:"Celebrity Discovery"}),n.jsx("p",{className:"subtitle",children:"Find trending celebrities to train"}),h&&n.jsx("div",{className:"alert alert-error",children:h}),n.jsxs("div",{className:"tabs-container",children:[n.jsxs("div",{className:"tabs-list",children:[n.jsx("button",{className:`tab-button ${s==="trending"?"active":""}`,onClick:()=>r("trending"),children:" Trending"}),n.jsx("button",{className:`tab-button ${s==="top"?"active":""}`,onClick:()=>r("top"),children:" Top Celebrities"}),n.jsx("button",{className:`tab-button ${s==="search"?"active":""}`,onClick:()=>r("search"),children:" Search"})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"2rem"},children:[n.jsxs("select",{className:"form-select",value:y,onChange:T=>p(T.target.value),style:{flex:"0 0 200px"},children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"croatia",children:"Croatia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"}),n.jsx("option",{value:"usa",children:"USA"}),n.jsx("option",{value:"uk",children:"UK"})]}),s==="search"&&n.jsx("input",{type:"text",className:"form-input",placeholder:"Search by name...",value:v,onChange:T=>x(T.target.value),onKeyPress:T=>T.key==="Enter"&&S(),style:{flex:1}}),n.jsx("button",{className:"btn btn-primary",onClick:S,disabled:u||s==="search"&&!v,children:u?"Discovering...":" Discover"}),w.size>0&&n.jsxs("button",{className:"btn btn-success",onClick:j,children:["Add Selected (",w.size,")"]})]})]}),u?n.jsx("div",{className:"text-muted",children:"Discovering celebrities..."}):o.length===0?n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"No results yet"}),n.jsx("p",{children:"Click Discover to find celebrities"})]}):n.jsx("div",{className:"celebrity-grid",children:o.map((T,M)=>n.jsxs("div",{className:"celebrity-card",children:[n.jsxs("div",{className:"celebrity-card-image-container",children:[T.image_url&&n.jsx("img",{src:T.image_url,alt:T.name||T.full_name,className:"celebrity-card-image",onError:D=>{D.target.style.display="none"}}),T.score&&n.jsx("div",{className:"celebrity-card-score",children:T.score})]}),n.jsxs("div",{className:"celebrity-card-content",children:[n.jsx("h3",{className:"celebrity-card-name",children:T.name||T.full_name}),n.jsx("p",{className:"celebrity-card-description",children:T.description||T.occupation||"Celebrity"}),n.jsxs("div",{className:"celebrity-card-footer",children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",flex:1},children:[n.jsx("input",{type:"checkbox",checked:w.has(M),onChange:D=>{const z=new Set(w);D.target.checked?z.add(M):z.delete(M),C(z)}}),n.jsx("span",{style:{fontSize:"0.875rem"},children:"Select"})]}),n.jsx("button",{className:"btn btn-primary",onClick:()=>N(T),style:{padding:"0.5rem 1rem"},children:"+ Queue"})]})]})]},M))})]})}const Zv=["serbia","slovenia"];function Kv(){const[s,r]=g.useState([]),[o,c]=g.useState(!1),[u,f]=g.useState(null),[h,b]=g.useState(null),[y,p]=g.useState("all"),v=g.useCallback(async()=>{c(!0),f(null);try{const N=(await Promise.all(Zv.map(async j=>{try{const T=await yt.getSmartTrainingRuns(j);return T.success&&T.runs?T.runs.map(M=>({...M,domain:j})):[]}catch(T){return console.warn(`Failed to fetch ${j} history:`,T.message),[]}}))).flat().sort((j,T)=>{const M=new Date(j.started_at||0);return new Date(T.started_at||0)-M});r(N)}catch(S){console.error("Error loading history:",S),f(S.message)}finally{c(!1)}},[]);g.useEffect(()=>{v()},[v]);const x=y==="all"?s:s.filter(S=>S.domain===y),w=s.filter(S=>S.domain==="serbia").length,C=s.filter(S=>S.domain==="slovenia").length;return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Training History"}),n.jsx("p",{className:"subtitle",children:"Past smart training cycles and results"})]}),n.jsx("button",{className:"btn btn-primary",onClick:v,disabled:o,children:o?"Loading...":" Refresh"})]}),u&&n.jsx("div",{className:"alert alert-error",children:u}),n.jsxs("div",{style:{marginBottom:"2rem",display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsxs("button",{className:`btn ${y==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>p("all"),children:["All (",s.length,")"]}),n.jsxs("button",{className:`btn ${y==="serbia"?"btn-primary":"btn-secondary"}`,onClick:()=>p("serbia"),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Serbia (",w,")"]}),n.jsxs("button",{className:`btn ${y==="slovenia"?"btn-primary":"btn-secondary"}`,onClick:()=>p("slovenia"),style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[" Slovenia (",C,")"]})]}),!o&&x.length===0&&n.jsxs("div",{style:{background:"white",padding:"4rem 2rem",borderRadius:"12px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"No Training History Yet"}),n.jsx("p",{style:{marginBottom:"1.5rem"},children:y==="all"?"Smart training runs will appear here once the automated training cycle runs.":`No training runs found for ${y}.`}),n.jsxs("div",{style:{background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"8px",padding:"1.5rem",maxWidth:"600px",margin:"0 auto",textAlign:"left"},children:[n.jsx("div",{style:{fontWeight:600,marginBottom:"0.75rem",color:"#1e40af"},children:" Smart Training Schedule:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#1e3a8a",lineHeight:1.8},children:[n.jsx("li",{children:" Slovenia runs at 2:00 AM daily"}),n.jsx("li",{children:" Serbia runs at 3:00 AM daily"}),n.jsx("li",{children:"Results appear here after each run completes"})]})]})]}),x.length>0&&n.jsx("div",{className:"history-timeline",children:x.map((S,N)=>n.jsxs("div",{className:"history-item",children:[n.jsxs("div",{className:"history-item-content",onClick:()=>b(h===`${S.domain}-${S.run_id}`?null:`${S.domain}-${S.run_id}`),style:{cursor:"pointer"},children:[n.jsxs("div",{className:"history-item-header",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"history-item-title",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("span",{style:{fontSize:"1.2rem"},children:S.domain==="serbia"?"":""}),n.jsx("span",{style:{textTransform:"capitalize"},children:S.domain}),n.jsxs("span",{style:{color:"#6b7280",fontWeight:400},children:["#",S.run_id]})]}),n.jsx("div",{className:"history-item-time",children:S.started_at?new Date(S.started_at).toLocaleString():"N/A"})]}),n.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[n.jsx("div",{style:{padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",background:S.status==="completed"?"#d1fae5":"#fef3c7",color:S.status==="completed"?"#065f46":"#92400e"},children:S.status}),n.jsx("span",{style:{fontSize:"1.2rem"},children:h===`${S.domain}-${S.run_id}`?"":""})]})]}),n.jsxs("div",{className:"history-item-stats",children:[S.discovery&&n.jsxs("div",{className:"history-item-stat",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:[S.discovery.discovered," discovered, ",S.discovery.queued," queued"]})]}),S.benchmark&&n.jsxs("div",{className:"history-item-stat",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:[S.benchmark.benchmarked," tested"]})]}),S.training&&n.jsxs("div",{className:"history-item-stat",children:[n.jsx("span",{children:""}),n.jsxs("span",{children:[S.training.successful,"/",S.training.attempted," trained"]})]})]}),S.error&&n.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.75rem",background:"#fee2e2",borderRadius:"6px",fontSize:"0.875rem",color:"#991b1b"},children:["Error: ",S.error]})]}),h===`${S.domain}-${S.run_id}`&&n.jsxs("div",{style:{borderTop:"1px solid #e5e7eb",padding:"1.5rem",background:"#f9fafb"},children:[S.training&&S.training.people&&S.training.people.length>0&&n.jsxs("div",{style:{marginBottom:"2rem"},children:[n.jsxs("h4",{style:{marginBottom:"1rem",color:"#111827",fontWeight:600},children:[" Training Report (",S.training.successful," successful, ",S.training.failed," failed)"]}),n.jsx("div",{style:{background:"white",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#f3f4f6",borderBottom:"1px solid #e5e7eb"},children:[n.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:600},children:"Person"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:600},children:"Images"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:600},children:"Status"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:600},children:"Error"})]})}),n.jsx("tbody",{children:S.training.people.map((j,T)=>n.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb",background:T%2===0?"white":"#f9fafb"},children:[n.jsx("td",{style:{padding:"0.75rem"},children:j.name}),n.jsx("td",{style:{padding:"0.75rem",textAlign:"center",fontWeight:600},children:j.images_accepted||0}),n.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:n.jsx("span",{style:{display:"inline-block",padding:"0.25rem 0.75rem",borderRadius:"6px",fontSize:"0.75rem",fontWeight:600,background:j.success?"#d1fae5":"#fee2e2",color:j.success?"#065f46":"#991b1b"},children:j.success?" Success":" Failed"})}),n.jsx("td",{style:{padding:"0.75rem",fontSize:"0.875rem",color:"#6b7280"},children:j.error?j.error:"-"})]},T))})]})})]}),S.benchmark&&S.benchmark.people&&S.benchmark.people.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{style:{marginBottom:"1rem",color:"#111827",fontWeight:600},children:[" Benchmark Results (",S.benchmark.benchmarked," tested)"]}),n.jsx("div",{style:{background:"white",borderRadius:"8px",overflow:"hidden",border:"1px solid #e5e7eb"},children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{background:"#f3f4f6",borderBottom:"1px solid #e5e7eb"},children:[n.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:600},children:"Person"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:600},children:"Recognition Score"}),n.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:600},children:"Queued"})]})}),n.jsx("tbody",{children:S.benchmark.people.map((j,T)=>n.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb",background:T%2===0?"white":"#f9fafb"},children:[n.jsx("td",{style:{padding:"0.75rem"},children:j.name}),n.jsxs("td",{style:{padding:"0.75rem",textAlign:"center",fontWeight:600},children:[(j.recognition_score||0).toFixed(2),"%"]}),n.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:j.queued?" Yes":" No"})]},T))})]})})]}),n.jsx("div",{style:{marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e5e7eb"},children:n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",fontSize:"0.875rem"},children:[n.jsxs("div",{children:[n.jsx("div",{style:{color:"#6b7280",marginBottom:"0.25rem"},children:"Started"}),n.jsx("div",{style:{fontWeight:600},children:new Date(S.started_at).toLocaleString()})]}),n.jsxs("div",{children:[n.jsx("div",{style:{color:"#6b7280",marginBottom:"0.25rem"},children:"Completed"}),n.jsx("div",{style:{fontWeight:600},children:S.completed_at?new Date(S.completed_at).toLocaleString():"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{style:{color:"#6b7280",marginBottom:"0.25rem"},children:"Duration"}),n.jsx("div",{style:{fontWeight:600},children:S.started_at&&S.completed_at?`${Math.round((new Date(S.completed_at)-new Date(S.started_at))/6e4)} minutes`:"N/A"})]})]})})]})]},`${S.domain}-${S.run_id}-${N}`))})]})}function Jv(){const[s,r]=g.useState(""),[o,c]=g.useState([]),[u,f]=g.useState(null),[h,b]=g.useState(""),[y,p]=g.useState([]),[v,x]=g.useState(!1),[w,C]=g.useState(!1),[S,N]=g.useState(null),[j,T]=g.useState(null);g.useEffect(()=>{M()},[]),g.useEffect(()=>{s&&D(s)},[s]);const M=async()=>{try{x(!0);const Z=await re.get("/api/training/rejected-faces/dates");if(Z.data.success){c(Z.data.dates);const H=new Date().toISOString().split("T")[0];Z.data.dates.includes(H)?r(H):Z.data.dates.length>0&&r(Z.data.dates[0])}}catch(Z){N("Failed to load rejection dates"),console.error(Z)}finally{x(!1)}},D=async Z=>{try{x(!0),N(null);const H=await re.get(`/api/training/rejected-faces?date=${Z}`);H.data.success&&(f(H.data.summary),b(""),p([]))}catch(H){N("Failed to load rejection summary"),console.error(H)}finally{x(!1)}},z=async Z=>{if(!(!Z||!s))try{C(!0),N(null);const H=await re.get(`/api/training/rejected-faces/${s}/${encodeURIComponent(Z)}/images`);H.data.success&&p(H.data.images)}catch(H){N("Failed to load images"),console.error(H)}finally{C(!1)}},E=Z=>{b(Z),z(Z)},q=Z=>({no_face_detected:"#e53e3e",face_too_small:"#dd6b20",face_blurry:"#d69e2e",multiple_faces:"#805ad5",multiple_invalid:"#d53f8c",low_confidence:"#3182ce",no_eyes_detected:"#38a169",download_failed:"#718096",invalid_image_format:"#4a5568"})[Z]||"#718096",B=Z=>({no_face_detected:"No Face",face_too_small:"Too Small",face_blurry:"Blurry",multiple_faces:"Multiple Faces",multiple_invalid:"Invalid Faces",low_confidence:"Low Confidence",no_eyes_detected:"No Eyes",download_failed:"Download Failed",invalid_image_format:"Invalid Format"})[Z]||Z,W=Z=>{T(Z)},ee=()=>{T(null)};return n.jsxs("div",{className:"page-container",children:[n.jsx(Kt,{pageName:"rejected-faces"}),n.jsx("h1",{children:"Rejected Faces Gallery"}),n.jsx("p",{className:"subtitle",children:"Review images that failed quality validation during training."}),n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"date-select",children:"Select Date"}),n.jsxs("select",{id:"date-select",className:"form-input",value:s,onChange:Z=>r(Z.target.value),style:{fontSize:"1rem",padding:"0.75rem"},children:[n.jsx("option",{value:"",children:"-- Select a date --"}),o.map(Z=>n.jsx("option",{value:Z,children:Z},Z))]})]}),u&&n.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#f7fafc",borderRadius:"0.5rem"},children:[n.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:n.jsxs("h3",{style:{margin:0},children:["Total Rejections: ",u.total_rejections]})}),u.by_reason&&Object.keys(u.by_reason).length>0&&n.jsxs("div",{style:{marginBottom:"1rem"},children:[n.jsx("h4",{style:{marginBottom:"0.5rem",color:"#4a5568"},children:"By Reason:"}),n.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:Object.entries(u.by_reason).map(([Z,H])=>n.jsxs("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"9999px",background:q(Z),color:"white",fontSize:"0.875rem",fontWeight:"500"},children:[B(Z),": ",H]},Z))})]}),u.by_person&&Object.keys(u.by_person).length>0&&n.jsxs("div",{children:[n.jsxs("h4",{style:{marginBottom:"0.5rem",color:"#4a5568"},children:["By Person (",Object.keys(u.by_person).length," people):"]}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem",maxHeight:"300px",overflowY:"auto"},children:Object.entries(u.by_person).sort((Z,H)=>H[1]-Z[1]).map(([Z,H])=>n.jsxs("button",{onClick:()=>E(Z),style:{padding:"0.5rem 1rem",borderRadius:"0.5rem",border:h===Z?"2px solid #667eea":"1px solid #e2e8f0",background:h===Z?"#ebf4ff":"white",cursor:"pointer",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Z}),n.jsx("span",{style:{background:"#e53e3e",color:"white",padding:"0.125rem 0.5rem",borderRadius:"9999px",fontSize:"0.75rem",marginLeft:"0.5rem",flexShrink:0},children:H})]},Z))})]})]})]}),S&&n.jsx("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:S}),h&&n.jsxs("div",{className:"card",style:{marginTop:"2rem"},children:[n.jsxs("h2",{style:{marginBottom:"1rem"},children:["Rejected Images: ",h]}),w?n.jsxs("div",{className:"loading-state",children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading images..."})]}):y.length>0?n.jsx("div",{className:"gallery-grid",children:y.map((Z,H)=>n.jsxs("div",{className:"gallery-item",children:[n.jsx("img",{src:`data:image/jpeg;base64,${Z.image_base64}`,alt:`Rejected - ${Z.reason}`,onClick:()=>W(Z),loading:"lazy"}),n.jsx("div",{className:"gallery-item-overlay",children:n.jsx("button",{className:"gallery-action-btn view-btn",onClick:()=>W(Z),title:"View full size",children:"View"})}),n.jsx("div",{className:"gallery-item-info",children:n.jsx("span",{style:{padding:"0.125rem 0.5rem",borderRadius:"0.25rem",background:q(Z.reason),color:"white",fontSize:"0.75rem"},children:B(Z.reason)})})]},H))}):n.jsxs("div",{className:"empty-state",children:[n.jsx("div",{className:"empty-icon",children:"Images not stored"}),n.jsx("h3",{children:"No Images Available"}),n.jsx("p",{children:"Images may have been cleaned up or not stored for this person."})]})]}),v&&!u&&n.jsxs("div",{className:"loading-state",style:{marginTop:"3rem"},children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading rejection data..."})]}),!v&&!u&&s&&n.jsxs("div",{className:"empty-state",style:{marginTop:"3rem"},children:[n.jsx("div",{className:"empty-icon",children:"No rejections"}),n.jsx("h3",{children:"No Rejections Found"}),n.jsx("p",{children:"No rejected faces recorded for this date."})]}),!s&&!v&&n.jsxs("div",{className:"empty-state",style:{marginTop:"3rem"},children:[n.jsx("div",{className:"empty-icon",children:"Calendar"}),n.jsx("h3",{children:"Select a Date"}),n.jsx("p",{children:"Choose a date above to view rejected faces."})]}),j&&n.jsx("div",{className:"lightbox",onClick:ee,children:n.jsxs("div",{className:"lightbox-content",onClick:Z=>Z.stopPropagation(),children:[n.jsx("button",{className:"lightbox-close",onClick:ee,children:"Close"}),n.jsx("img",{src:`data:image/jpeg;base64,${j.image_base64}`,alt:j.filename||"Rejected image"}),n.jsxs("div",{className:"lightbox-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Reason:"})," ",B(j.reason)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Filename:"})," ",j.filename]})]})]})}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:"About Rejected Faces"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Blurry:"})," Laplacian variance too low (threshold: 100 for images, 75 for video)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Too Small:"})," Face region smaller than minimum size (70x70 pixels)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Low Confidence:"})," Detection confidence below 95%"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Multiple Faces:"})," Ambiguous identity - multiple valid faces detected"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"No Eyes:"})," Eye landmarks not detected properly"]}),n.jsx("li",{children:"Images are kept for 7 days then automatically cleaned up"})]})]})]})}const Iv={domain:"serbia",scanned_at:new Date().toISOString(),total_persons:5e3,total_candidates:8,summary:{typos:2,duplicates:3,spelling_variants:2,nicknames:1},candidates:[{source_id:1,source_name:"Kevin Durent",source_embeddings:20,target_id:2,target_name:"Kevin Durant",target_embeddings:45,type:"SPELLING_VARIANT",reason:'Serbian "durent" vs English "durant"',suggestion:'Merge "Kevin Durent" into "Kevin Durant"',action:"MERGE"},{source_id:3,source_name:"Kobi Brajant",source_embeddings:15,target_id:4,target_name:"Kobe Bryant",target_embeddings:50,type:"SPELLING_VARIANT",reason:"Serbian spelling variant",suggestion:"Merge into English spelling",action:"MERGE"}]},El={async getCandidates(s="serbia"){try{return(await re.get("/api/training/merge-candidates",{params:{domain:s}})).data.data}catch(r){return console.warn("Using mock merge candidates:",r.message),Iv}},async scanForCandidates(s="serbia"){try{return(await re.post("/api/training/merge-candidates/scan",{domain:s})).data.data}catch(r){throw console.error("Error scanning for candidates:",r),r}},async executeAction(s,r,o="serbia",c=null,u=!1){try{return(await re.post(`/api/training/merge-candidates/${s}/action`,{domain:o,action:r,new_name:c,swap_direction:u})).data}catch(f){throw console.error("Error executing action:",f),f}},async mergePersons(s,r,o="serbia"){try{return(await re.post("/api/training/merge-persons",{source_person:s,target_person:r,domain:o})).data}catch(c){throw console.error("Error merging persons:",c),c}},async getPersonPreview(s,r="serbia"){try{return(await re.get("/api/training/person-preview",{params:{name:s,domain:r}})).data}catch(o){throw console.error("Error getting person preview:",o),o}}};function ej({type:s}){const o={TYPO:{bg:"#fee2e2",color:"#dc2626",label:"Typo"},DUPLICATE:{bg:"#fef3c7",color:"#d97706",label:"Duplicate"},SPELLING_VARIANT:{bg:"#dbeafe",color:"#2563eb",label:"Spelling"},NICKNAME:{bg:"#f3e8ff",color:"#7c3aed",label:"Nickname"}}[s]||{bg:"#f3f4f6",color:"#6b7280",label:s};return n.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",fontWeight:600,backgroundColor:o.bg,color:o.color},children:o.label})}function La({action:s,onClick:r,disabled:o,loading:c,small:u}){const f={MERGE:{bg:"#10b981",hover:"#059669",icon:""},RENAME:{bg:"#3b82f6",hover:"#2563eb",icon:""},DELETE:{bg:"#ef4444",hover:"#dc2626",icon:""},SKIP:{bg:"#6b7280",hover:"#4b5563",icon:""}},h=f[s]||f.SKIP;return n.jsxs("button",{onClick:r,disabled:o||c,style:{padding:u?"0.375rem 0.5rem":"0.5rem 0.75rem",borderRadius:"6px",border:"none",backgroundColor:h.bg,color:"white",cursor:o?"not-allowed":"pointer",opacity:o?.5:1,fontSize:u?"0.75rem":"0.875rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:[c?"...":h.icon," ",s]})}function tj(){const{user:s}=Wn(),r=s?.domain||"serbia",[o,c]=g.useState(null),[u,f]=g.useState(!1),[h,b]=g.useState(!1),[y,p]=g.useState(null),[v,x]=g.useState(new Set),[w,C]=g.useState(null),[S,N]=g.useState(null),[j,T]=g.useState(""),[M,D]=g.useState("all"),[z,E]=g.useState(new Set),[q,B]=g.useState(null),[W,ee]=g.useState({current:0,total:0}),Z=g.useCallback(async()=>{f(!0),p(null);try{const U=await El.getCandidates(r);c(U)}catch(U){p(U.message)}finally{f(!1)}},[r]);g.useEffect(()=>{Z()},[Z]);const H=async()=>{b(!0),p(null);try{const U=await El.scanForCandidates(r);c(U),x(new Set),E(new Set)}catch(U){p(U.message)}finally{b(!1)}},oe=async(U,Y,te=null,ce=!1)=>{C(U);try{await El.executeAction(U,Y,r,te,ce),x(ye=>new Set([...ye,U])),E(ye=>{const we=new Set(ye);return we.delete(U),we}),N(null),T("")}catch(ye){alert(`Failed to execute ${Y}: ${ye.message}`)}finally{C(null)}},pe=async U=>{if(z.size===0)return;const Y=Array.from(z).sort((te,ce)=>ce-te);B(U),ee({current:0,total:Y.length});for(let te=0;te<Y.length;te++){const ce=Y[te];ee({current:te+1,total:Y.length});try{await El.executeAction(ce,U,r),x(ye=>new Set([...ye,ce]))}catch(ye){console.error(`Failed to ${U} candidate ${ce}:`,ye)}}E(new Set),B(null)},Ae=(U,Y)=>{N(U),T(Y)},Me=U=>{E(Y=>{const te=new Set(Y);return te.has(U)?te.delete(U):te.add(U),te})},Q=()=>{const U=ge.map((Y,te)=>K.indexOf(ge[te])).filter(Y=>!v.has(Y));E(new Set(U))},ae=()=>{E(new Set)},K=o?.candidates||[],ge=M==="all"?K:K.filter(U=>U.type===M),je=ge.filter((U,Y)=>{const te=K.indexOf(U);return!v.has(te)}),R=je.length>0&&je.every(U=>{const Y=K.indexOf(U);return z.has(Y)});return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Merge Candidates"}),n.jsxs("p",{className:"subtitle",children:["Review and resolve duplicate or similar person entries - ",n.jsx("strong",{children:r})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:Z,disabled:u,children:u?"Loading...":"Refresh"}),n.jsx("button",{className:"btn btn-primary",onClick:H,disabled:h,children:h?"Scanning...":"Scan Database"})]})]}),y&&n.jsx("div",{className:"alert alert-error",children:y}),o&&n.jsxs("div",{className:"stats-grid",style:{marginBottom:"1.5rem"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Total Persons"}),n.jsx("div",{className:"stat-value",children:o.total_persons?.toLocaleString()||0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Candidates Found"}),n.jsx("div",{className:"stat-value",children:o.total_candidates||0})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Processed"}),n.jsx("div",{className:"stat-value",children:v.size})]})]}),n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Remaining"}),n.jsx("div",{className:"stat-value",children:je.length})]})]})]}),o?.summary&&n.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[n.jsxs("button",{className:`btn ${M==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>D("all"),children:["All (",o.total_candidates,")"]}),o.summary.typos>0&&n.jsxs("button",{className:`btn ${M==="TYPO"?"btn-primary":"btn-secondary"}`,onClick:()=>D("TYPO"),children:["Typos (",o.summary.typos,")"]}),o.summary.duplicates>0&&n.jsxs("button",{className:`btn ${M==="DUPLICATE"?"btn-primary":"btn-secondary"}`,onClick:()=>D("DUPLICATE"),children:["Duplicates (",o.summary.duplicates,")"]}),o.summary.spelling_variants>0&&n.jsxs("button",{className:`btn ${M==="SPELLING_VARIANT"?"btn-primary":"btn-secondary"}`,onClick:()=>D("SPELLING_VARIANT"),children:["Spelling (",o.summary.spelling_variants,")"]}),o.summary.nicknames>0&&n.jsxs("button",{className:`btn ${M==="NICKNAME"?"btn-primary":"btn-secondary"}`,onClick:()=>D("NICKNAME"),children:["Nicknames (",o.summary.nicknames,")"]})]}),je.length>0&&n.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem 1rem",background:z.size>0?"#fef3c7":"#f3f4f6",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.5rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[n.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[n.jsx("input",{type:"checkbox",checked:R,onChange:()=>R?ae():Q(),style:{width:"18px",height:"18px"}}),n.jsx("span",{style:{fontWeight:500},children:R?"Deselect All":"Select All"})]}),z.size>0&&n.jsxs("span",{style:{color:"#92400e",fontWeight:600},children:[z.size," selected"]})]}),z.size>0&&!q&&n.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[n.jsx(La,{action:"MERGE",onClick:()=>pe("MERGE"),small:!0}),n.jsx(La,{action:"SKIP",onClick:()=>pe("SKIP"),small:!0}),n.jsx(La,{action:"DELETE",onClick:()=>{confirm(`Delete ${z.size} selected persons?`)&&pe("DELETE")},small:!0})]}),q&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("span",{className:"spinner",style:{width:"16px",height:"16px"}}),n.jsxs("span",{children:[q,"ing ",W.current,"/",W.total,"..."]})]})]}),o?.scanned_at&&n.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem"},children:["Last scan: ",new Date(o.scanned_at).toLocaleString()]}),u&&!o?n.jsx("div",{className:"text-muted",children:"Loading candidates..."}):o?je.length===0?n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"All candidates processed!"}),n.jsx("p",{children:"No more merge candidates to review"}),n.jsx("button",{className:"btn btn-primary",onClick:H,style:{marginTop:"1rem"},children:"Scan for new candidates"})]}):n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:ge.map(U=>{const Y=K.indexOf(U),te=v.has(Y),ce=z.has(Y);return te?null:n.jsx("div",{style:{background:ce?"#fef9c3":"white",borderRadius:"12px",padding:"1rem",border:ce?"2px solid #fbbf24":"1px solid #e5e7eb"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"0.75rem"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[n.jsx("input",{type:"checkbox",checked:ce,onChange:()=>Me(Y),style:{width:"18px",height:"18px",marginTop:"2px",cursor:"pointer"}}),n.jsxs("div",{children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[n.jsx(ej,{type:U.type}),n.jsxs("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["#",Y+1]})]}),n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem",flexWrap:"wrap"},children:[n.jsx("span",{style:{fontWeight:600,color:"#dc2626"},children:U.source_name}),n.jsxs("span",{style:{color:"#9ca3af",fontSize:"0.875rem"},children:["(",U.source_embeddings,")"]}),U.target_name&&n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{color:"#6b7280"},children:""}),n.jsx("span",{style:{fontWeight:600,color:"#10b981"},children:U.target_name}),n.jsxs("span",{style:{color:"#9ca3af",fontSize:"0.875rem"},children:["(",U.target_embeddings,")"]})]})]}),n.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:U.reason})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.375rem",flexWrap:"wrap",alignItems:"center"},children:[U.target_name&&n.jsxs(n.Fragment,{children:[n.jsx(La,{action:"MERGE",onClick:()=>oe(Y,"MERGE"),loading:w===Y,disabled:w!==null||q!==null,small:!0}),n.jsx("button",{onClick:()=>oe(Y,"MERGE",null,!0),disabled:w!==null||q!==null,title:`Merge "${U.target_name}" into "${U.source_name}" instead`,style:{padding:"0.375rem 0.5rem",borderRadius:"6px",border:"1px solid #10b981",backgroundColor:"white",color:"#10b981",cursor:w!==null?"not-allowed":"pointer",opacity:w!==null?.5:1,fontSize:"0.75rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:n.jsx("span",{style:{transform:"scaleX(-1)"},children:""})})]}),n.jsx(La,{action:"RENAME",onClick:()=>Ae(Y,U.source_name),loading:w===Y,disabled:w!==null||q!==null,small:!0}),n.jsx(La,{action:"DELETE",onClick:()=>{confirm(`Delete "${U.source_name}"?`)&&oe(Y,"DELETE")},loading:w===Y,disabled:w!==null||q!==null,small:!0}),n.jsx(La,{action:"SKIP",onClick:()=>oe(Y,"SKIP"),loading:w===Y,disabled:w!==null||q!==null,small:!0})]})]})},Y)})}):n.jsxs("div",{style:{background:"white",padding:"3rem",borderRadius:"12px",textAlign:"center",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:""}),n.jsx("h3",{children:"No scan results yet"}),n.jsx("p",{children:'Click "Scan Database" to detect merge candidates'})]}),S!==null&&n.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",width:"90%",maxWidth:"400px"},children:[n.jsx("h3",{style:{marginBottom:"1rem"},children:"Rename Person"}),n.jsx("input",{type:"text",value:j,onChange:U=>T(U.target.value),placeholder:"Enter new name",style:{width:"100%",padding:"0.75rem",borderRadius:"6px",border:"1px solid #d1d5db",marginBottom:"1rem",fontSize:"1rem"},autoFocus:!0}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>{N(null),T("")},children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:()=>oe(S,"RENAME",j),disabled:!j.trim(),children:"Rename"})]})]})})]})}function Yh({title:s,person:r,onSelect:o,persons:c,loading:u,domain:f,color:h}){const[b,y]=g.useState(null),[p,v]=g.useState(!1);return g.useEffect(()=>{if(!r){y(null);return}(async()=>{v(!0);try{const w=await El.getPersonPreview(r,f);w.success&&y(w.data)}catch(w){console.error("Failed to load preview:",w)}finally{v(!1)}})()},[r,f]),n.jsxs("div",{style:{flex:1,background:"white",borderRadius:"12px",padding:"1.5rem",border:`2px solid ${h}`,minWidth:"300px"},children:[n.jsx("h3",{style:{color:h,marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:s}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{children:"Select Person"}),n.jsxs("select",{className:"form-input",value:r||"",onChange:x=>o(x.target.value||null),disabled:u,style:{fontSize:"1rem"},children:[n.jsx("option",{value:"",children:"-- Select a person --"}),c.map((x,w)=>n.jsxs("option",{value:x.name,children:[x.display_name||x.name," (",x.image_count||x.embedding_count||0," images)"]},w))]})]}),r&&n.jsx("div",{style:{marginTop:"1rem"},children:p?n.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:"Loading preview..."}):b?n.jsxs(n.Fragment,{children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[n.jsx("span",{style:{fontWeight:600,fontSize:"1.1rem"},children:b.person_name}),n.jsxs("span",{style:{background:h+"20",color:h,padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.875rem",fontWeight:600},children:[b.image_count," images"]})]}),b.preview_images&&b.preview_images.length>0?n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"0.5rem"},children:b.preview_images.map((x,w)=>n.jsx("div",{style:{aspectRatio:"1",borderRadius:"8px",overflow:"hidden",background:"#f3f4f6"},children:n.jsx("img",{src:`https://facerecognition.mpanel.app${x.url}`,alt:`Preview ${w+1}`,style:{width:"100%",height:"100%",objectFit:"cover"},loading:"lazy"})},w))}):n.jsx("div",{style:{padding:"2rem",textAlign:"center",background:"#f9fafb",borderRadius:"8px",color:"#6b7280"},children:"No preview images available"})]}):null})]})}function nj(){const{user:s}=Wn(),[r,o]=g.useState(s?.domain||"serbia"),[c,u]=g.useState([]),[f,h]=g.useState(!1),[b,y]=g.useState(!1),[p,v]=g.useState(null),[x,w]=g.useState(null),[C,S]=g.useState(null),[N,j]=g.useState(null),[T,M]=g.useState(""),D=g.useCallback(async()=>{h(!0);try{const B=await xt.getTrainingProgress(r,"production",1,2e3,null);B.success&&u(B.data.folders||[])}catch(B){v(B.message)}finally{h(!1)}},[r]);g.useEffect(()=>{D()},[D]);const z=T?c.filter(B=>(B.name||"").toLowerCase().includes(T.toLowerCase())||(B.display_name||"").toLowerCase().includes(T.toLowerCase())):c,E=async()=>{if(!C||!N){v("Please select both source and target persons");return}if(C===N){v("Source and target must be different persons");return}const B=`Are you sure you want to merge "${C}" into "${N}"?

This will:
- Move all images from "${C}" to "${N}"
- Transfer all face embeddings
- Delete the "${C}" entry

This action cannot be undone.`;if(confirm(B)){y(!0),v(null),w(null);try{const W=await El.mergePersons(C,N,r);W.success?(w(`Successfully merged "${C}" into "${N}". ${W.embeddings_moved||0} embeddings moved, ${W.files_renamed||0} files renamed.`),S(null),j(null),D()):v(W.error||"Merge failed")}catch(W){v(W.response?.data?.error||W.message||"Merge failed")}finally{y(!1)}}},q=()=>{const B=C;S(N),j(B)};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Manual Merge Tool"}),n.jsx("p",{className:"subtitle",children:"Merge two persons into one - select source (will be deleted) and target (will keep)"})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[n.jsxs("select",{className:"form-input",value:r,onChange:B=>{o(B.target.value),S(null),j(null)},style:{width:"auto"},children:[n.jsx("option",{value:"serbia",children:"Serbia"}),n.jsx("option",{value:"slovenia",children:"Slovenia"})]}),n.jsx("button",{className:"btn btn-secondary",onClick:D,disabled:f,children:f?"Loading...":"Refresh"})]})]}),p&&n.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:p}),x&&n.jsx("div",{className:"alert alert-success",style:{marginBottom:"1rem",background:"#d1fae5",color:"#065f46",padding:"1rem",borderRadius:"8px"},children:x}),n.jsx("div",{className:"card",style:{marginBottom:"1.5rem"},children:n.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[n.jsx("label",{children:"Search Persons"}),n.jsx("input",{type:"text",className:"form-input",placeholder:"Type to filter persons...",value:T,onChange:B=>M(B.target.value)}),T&&n.jsxs("div",{style:{marginTop:"0.5rem",color:"#6b7280",fontSize:"0.875rem"},children:["Found ",z.length," of ",c.length," persons"]})]})}),n.jsxs("div",{style:{display:"flex",gap:"1.5rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[n.jsx(Yh,{title:"Source Person (will be deleted)",person:C,onSelect:S,persons:z.filter(B=>B.name!==N),loading:f,domain:r,color:"#dc2626"}),n.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:n.jsx("button",{className:"btn",onClick:q,disabled:!C&&!N,style:{background:"#6b7280",color:"white",border:"none",borderRadius:"50%",width:"48px",height:"48px",fontSize:"1.25rem",cursor:!C&&!N?"not-allowed":"pointer",opacity:!C&&!N?.5:1},title:"Swap source and target",children:""})}),n.jsx(Yh,{title:"Target Person (will keep)",person:N,onSelect:j,persons:z.filter(B=>B.name!==C),loading:f,domain:r,color:"#10b981"})]}),C&&N&&n.jsxs("div",{className:"card",style:{background:"linear-gradient(135deg, #fef3c7, #fde68a)",border:"2px solid #f59e0b"},children:[n.jsx("h3",{style:{marginBottom:"1rem",color:"#92400e"},children:"Merge Preview"}),n.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[n.jsxs("div",{style:{background:"#fee2e2",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid #fecaca"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#dc2626",marginBottom:"0.25rem"},children:"Source (delete)"}),n.jsx("div",{style:{fontWeight:600},children:C})]}),n.jsx("div",{style:{fontSize:"2rem",color:"#92400e"},children:""}),n.jsxs("div",{style:{background:"#d1fae5",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[n.jsx("div",{style:{fontSize:"0.75rem",color:"#10b981",marginBottom:"0.25rem"},children:"Target (keep)"}),n.jsx("div",{style:{fontWeight:600},children:N})]})]}),n.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",marginBottom:"1rem"},children:[n.jsx("h4",{style:{marginBottom:"0.5rem"},children:"What will happen:"}),n.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem",color:"#4b5563"},children:[n.jsxs("li",{children:['All images from "',C,'" will be renamed to "',N,'"']}),n.jsxs("li",{children:['All face embeddings will be transferred to "',N,'"']}),n.jsxs("li",{children:['The person entry "',C,'" will be deleted from the database']}),n.jsx("li",{style:{color:"#dc2626",fontWeight:500},children:"This action cannot be undone"})]})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[n.jsx("button",{className:"btn btn-secondary",onClick:()=>{S(null),j(null)},children:"Cancel"}),n.jsx("button",{className:"btn btn-primary",onClick:E,disabled:b,style:{background:"#10b981",minWidth:"200px"},children:b?"Merging...":"Merge Persons"})]})]}),n.jsxs("div",{className:"info-box",style:{marginTop:"2rem"},children:[n.jsx("h4",{children:"How to use the Manual Merge Tool"}),n.jsxs("ul",{style:{marginTop:"1rem",paddingLeft:"1.5rem"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Source Person:"})," The person entry that will be merged and deleted"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Target Person:"})," The person entry that will receive all images and embeddings"]}),n.jsx("li",{children:"Use the search box to quickly find persons by name"}),n.jsx("li",{children:"Preview images are shown to help you confirm you're selecting the right persons"}),n.jsx("li",{children:"Click the swap button to reverse source and target"}),n.jsx("li",{children:"All image files will be renamed and embeddings transferred automatically"})]})]})]})}function aj(){const{user:s}=Wn(),r=s?.domain||"serbia",[o,c]=g.useState([]),[u,f]=g.useState(!0),[h,b]=g.useState(null),[y,p]=g.useState(!1),[v,x]=g.useState(null),[w,C]=g.useState([]),[S,N]=g.useState(30),[j,T]=g.useState(30),M=g.useCallback(async()=>{try{const q=await xt.getSmartQueue(r);q.success&&c(q.queue||[])}catch(q){console.error("Error fetching queue:",q)}},[r]),D=g.useCallback(async()=>{try{const q=await xt.getTrainingRuns(r,10);q.success&&C(q.runs||[])}catch(q){console.error("Error fetching runs:",q)}},[r]);g.useEffect(()=>{(async()=>{f(!0),await Promise.all([M(),D()]),f(!1)})()},[M,D]);const z=async()=>{p(!0),b(null),x(null);try{const q=await xt.startBatchTraining({domain:r,maxTraining:S,imagesPerPerson:j,discoverNew:!1,benchmarkExisting:!1});q.success?(x(`Training started! Processing up to ${S} persons with ${j} images each.`),setTimeout(D,2e3)):b(q.error||"Failed to start training")}catch(q){b(q.message||"Failed to start training")}finally{p(!1)}},E={high:o.filter(q=>q.priority==="high"),medium:o.filter(q=>q.priority==="medium"),low:o.filter(q=>q.priority==="low")};return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"dashboard-header",children:[n.jsxs("div",{children:[n.jsx("h1",{children:"Batch Training"}),n.jsxs("p",{className:"subtitle",children:["Train multiple persons from the queue - ",n.jsx("strong",{children:r})]})]}),n.jsx("button",{className:"btn btn-secondary",onClick:()=>{M(),D()},disabled:u,children:u?"Loading...":"Refresh"})]}),h&&n.jsx("div",{className:"alert alert-error",children:h}),v&&n.jsx("div",{className:"alert alert-success",children:v}),n.jsxs("div",{className:"stats-grid",style:{marginBottom:"1.5rem"},children:[n.jsxs("div",{className:"stat-card",children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Total in Queue"}),n.jsx("div",{className:"stat-value",children:o.length})]})]}),n.jsxs("div",{className:"stat-card",style:{borderLeft:"4px solid #ef4444"},children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"High Priority"}),n.jsx("div",{className:"stat-value",children:E.high.length})]})]}),n.jsxs("div",{className:"stat-card",style:{borderLeft:"4px solid #f59e0b"},children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Medium Priority"}),n.jsx("div",{className:"stat-value",children:E.medium.length})]})]}),n.jsxs("div",{className:"stat-card",style:{borderLeft:"4px solid #22c55e"},children:[n.jsx("div",{className:"stat-icon",children:""}),n.jsxs("div",{className:"stat-content",children:[n.jsx("div",{className:"stat-label",children:"Low Priority"}),n.jsx("div",{className:"stat-value",children:E.low.length})]})]})]}),n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[n.jsx("h3",{style:{marginBottom:"1rem"},children:"Start Batch Training"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Max Persons to Train"}),n.jsxs("select",{value:S,onChange:q=>N(Number(q.target.value)),style:{width:"100%",padding:"0.75rem",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"1rem"},children:[n.jsx("option",{value:10,children:"10 persons"}),n.jsx("option",{value:20,children:"20 persons"}),n.jsx("option",{value:30,children:"30 persons"}),n.jsx("option",{value:50,children:"50 persons"}),n.jsx("option",{value:100,children:"100 persons"})]})]}),n.jsxs("div",{children:[n.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500},children:"Images per Person"}),n.jsxs("select",{value:j,onChange:q=>T(Number(q.target.value)),style:{width:"100%",padding:"0.75rem",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"1rem"},children:[n.jsx("option",{value:20,children:"20 images"}),n.jsx("option",{value:30,children:"30 images"}),n.jsx("option",{value:40,children:"40 images"}),n.jsx("option",{value:50,children:"50 images"})]})]})]}),n.jsxs("div",{style:{background:"#f3f4f6",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem"},children:[n.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:[n.jsx("strong",{children:"Estimated:"})," Training ",Math.min(S,o.length)," persons"," ","with ",j," images each = ~",Math.min(S,o.length)*j," total images"]}),n.jsxs("div",{style:{fontSize:"0.875rem",color:"#6b7280",marginTop:"0.25rem"},children:[n.jsx("strong",{children:"Time:"})," ~",Math.ceil(Math.min(S,o.length)*.5)," - ",Math.ceil(Math.min(S,o.length)*1)," minutes"]})]}),n.jsx("button",{onClick:z,disabled:y||o.length===0,style:{width:"100%",padding:"1rem",borderRadius:"8px",border:"none",backgroundColor:o.length===0?"#9ca3af":"#10b981",color:"white",fontSize:"1rem",fontWeight:600,cursor:o.length===0?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:y?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"spinner",style:{width:"20px",height:"20px"}}),"Starting Training..."]}):o.length===0?"No persons in queue":n.jsxs(n.Fragment,{children:[n.jsx("span",{style:{fontSize:"1.25rem"},children:""}),"Start Training (",Math.min(S,o.length)," persons)"]})})]}),w.length>0&&n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem",marginBottom:"1.5rem"},children:[n.jsx("h3",{style:{marginBottom:"1rem"},children:"Recent Training Runs"}),n.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.slice(0,5).map((q,B)=>n.jsxs("div",{style:{padding:"0.75rem",background:"#f9fafb",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.5rem"},children:[n.jsxs("div",{children:[n.jsx("span",{style:{fontWeight:500},children:q.run_id||"Unknown"}),n.jsx("span",{style:{color:"#6b7280",marginLeft:"0.5rem",fontSize:"0.875rem"},children:q.started_at?new Date(q.started_at).toLocaleString():""})]}),n.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[q.training?.successful!==void 0&&n.jsxs("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",backgroundColor:"#dcfce7",color:"#16a34a"},children:[q.training.successful," trained"]}),q.training?.failed>0&&n.jsxs("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",backgroundColor:"#fee2e2",color:"#dc2626"},children:[q.training.failed," failed"]})]})]},q.run_id||B))})]}),n.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"1.5rem"},children:[n.jsxs("h3",{style:{marginBottom:"1rem"},children:["Queue Preview (First ",Math.min(20,o.length),")"]}),u?n.jsx("div",{className:"text-muted",children:"Loading queue..."}):o.length===0?n.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:[n.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:""}),n.jsx("p",{children:"Training queue is empty"}),n.jsx("p",{style:{fontSize:"0.875rem"},children:"Run a benchmark to add persons needing training"})]}):n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"0.5rem"},children:o.slice(0,20).map((q,B)=>n.jsxs("div",{style:{padding:"0.75rem",background:"#f9fafb",borderRadius:"6px",borderLeft:`3px solid ${q.priority==="high"?"#ef4444":q.priority==="medium"?"#f59e0b":"#22c55e"}`},children:[n.jsx("div",{style:{fontWeight:500,marginBottom:"0.25rem"},children:q.person_name}),n.jsxs("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:["Score: ",q.recognition_score?.toFixed(0)||"N/A","%"," | ",q.priority," priority"]})]},q.person_name||B))}),o.length>20&&n.jsxs("div",{style:{textAlign:"center",marginTop:"1rem",color:"#6b7280",fontSize:"0.875rem"},children:["... and ",o.length-20," more"]})]})]})}function lj(){const[s,r]=g.useState([]),[o,c]=g.useState(!0),[u,f]=g.useState(null),[h,b]=g.useState(null),y=async()=>{try{c(!0);const x=await re.get("/training/queue-failed",{params:{domain:"serbia"}});x.data.success?r(x.data.data.failed||[]):f(x.data.error||"Failed to fetch failed entries")}catch(x){f(x.message||"Error fetching failed queue entries")}finally{c(!1)}};g.useEffect(()=>{y()},[]);const p=async(x,w)=>{try{b(x);const C=await re.post("/training/queue-retry",{domain:"serbia",file_name:x});C.data.success?r(S=>S.filter(N=>N.file_name!==x)):alert(`Failed to retry: ${C.data.error}`)}catch(C){alert(`Error retrying ${w}: ${C.message}`)}finally{b(null)}},v=x=>x?new Date(x).toLocaleString():"N/A";return n.jsxs("div",{className:"page-container",children:[n.jsxs("div",{className:"page-header",children:[n.jsx("h1",{children:"Failed Queue Entries"}),n.jsx("p",{className:"subtitle",children:"Training attempts that failed (e.g., no SERP consensus)"})]}),n.jsx("div",{className:"card",style:{marginBottom:"1.5rem"},children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsxs("span",{style:{fontWeight:"500"},children:["Total failed: ",s.length]}),n.jsx("button",{className:"btn",onClick:y,disabled:o,children:o?"Refreshing...":"Refresh"})]})}),u&&n.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem"},children:u}),o&&s.length===0?n.jsxs("div",{className:"loading-state",children:[n.jsx("span",{className:"spinner",style:{width:"2rem",height:"2rem"}}),n.jsx("p",{children:"Loading failed entries..."})]}):s.length===0?n.jsx("div",{className:"card",style:{textAlign:"center",padding:"3rem"},children:n.jsx("p",{style:{color:"#38a169",fontSize:"1.125rem"},children:"No failed entries! All queue items processed successfully."})}):n.jsx("div",{className:"card",children:n.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[n.jsx("thead",{children:n.jsxs("tr",{style:{borderBottom:"2px solid #e2e8f0"},children:[n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Person"}),n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Error"}),n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Priority"}),n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Source"}),n.jsx("th",{style:{textAlign:"left",padding:"0.75rem",fontWeight:"600"},children:"Processed At"}),n.jsx("th",{style:{textAlign:"center",padding:"0.75rem",fontWeight:"600"},children:"Action"})]})}),n.jsx("tbody",{children:s.map((x,w)=>n.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0",backgroundColor:w%2===0?"#f7fafc":"white"},children:[n.jsx("td",{style:{padding:"0.75rem",fontWeight:"500"},children:x.person_name}),n.jsx("td",{style:{padding:"0.75rem",color:"#e53e3e"},children:x.error||"Unknown error"}),n.jsx("td",{style:{padding:"0.75rem"},children:n.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.875rem",backgroundColor:x.priority==="high"?"#fed7d7":x.priority==="medium"?"#feebc8":"#e2e8f0",color:x.priority==="high"?"#c53030":x.priority==="medium"?"#c05621":"#4a5568"},children:x.priority||"normal"})}),n.jsx("td",{style:{padding:"0.75rem",color:"#718096"},children:x.source||"N/A"}),n.jsx("td",{style:{padding:"0.75rem",color:"#718096",fontSize:"0.875rem"},children:v(x.processed_at)}),n.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:n.jsx("button",{className:"btn",onClick:()=>p(x.file_name,x.person_name),disabled:h===x.file_name,style:{backgroundColor:"#3182ce",color:"white",border:"none",padding:"0.375rem 0.75rem",fontSize:"0.875rem"},children:h===x.file_name?"Retrying...":"Retry"})})]},x.file_name||w))})]})}),n.jsxs("div",{className:"card",style:{marginTop:"1.5rem",backgroundColor:"#fffbeb"},children:[n.jsx("h3",{style:{marginBottom:"0.75rem",color:"#92400e"},children:"Why do entries fail?"}),n.jsxs("ul",{style:{paddingLeft:"1.5rem",color:"#78350f",lineHeight:"1.8"},children:[n.jsxs("li",{children:[n.jsx("strong",{children:"No SERP consensus:"})," Not enough matching faces found in search results (need 5+ images of the same person)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"No faces detected:"})," Search results contained images without detectable faces."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Download failures:"})," Unable to download enough images from search results."]})]}),n.jsxs("p",{style:{marginTop:"1rem",color:"#78350f"},children:["Click ",n.jsx("strong",{children:"Retry"})," to reset the entry to pending status and attempt training again in the next batch."]})]})]})}function sj(){return n.jsx(q0,{children:n.jsx(L0,{children:n.jsx(F0,{children:n.jsxs(C0,{basename:"/training",children:[n.jsx(X0,{}),n.jsx(Y0,{}),n.jsx(P0,{}),n.jsxs(n0,{children:[n.jsx(Ee,{path:"/login",element:n.jsx(W0,{})}),n.jsxs(Ee,{element:n.jsx(V0,{children:n.jsx(G0,{})}),children:[n.jsx(Ee,{path:"/dashboard",element:n.jsx(Cv,{})}),n.jsx(Ee,{path:"/workflow",element:n.jsx(Ev,{})}),n.jsx(Ee,{path:"/queue-management",element:n.jsx(Av,{})}),n.jsx(Ee,{path:"/generate",element:n.jsx($t,{to:"/workflow",replace:!0})}),n.jsx(Ee,{path:"/queue",element:n.jsx($t,{to:"/workflow",replace:!0})}),n.jsx(Ee,{path:"/progress",element:n.jsx($t,{to:"/workflow",replace:!0})}),n.jsx(Ee,{path:"/gallery",element:n.jsx(kv,{})}),n.jsx(Ee,{path:"/test",element:n.jsx(zv,{})}),n.jsx(Ee,{path:"/training",element:n.jsx(Pv,{})}),n.jsx(Ee,{path:"/training/generate",element:n.jsx(Bv,{})}),n.jsx(Ee,{path:"/training/queue",element:n.jsx(Xv,{})}),n.jsx(Ee,{path:"/training/batches",element:n.jsx(Uv,{})}),n.jsx(Ee,{path:"/training/batch/:batchId",element:n.jsx(Qh,{})}),n.jsx(Ee,{path:"/training/review",element:n.jsx(Mv,{})}),n.jsx(Ee,{path:"/training/benchmarks",element:n.jsx(Wv,{})}),n.jsx(Ee,{path:"/training/merge-candidates",element:n.jsx(tj,{})}),n.jsx(Ee,{path:"/training/manual-merge",element:n.jsx(nj,{})}),n.jsx(Ee,{path:"/training/batch",element:n.jsx(aj,{})}),n.jsx(Ee,{path:"/training/discovery",element:n.jsx($v,{})}),n.jsx(Ee,{path:"/training/history",element:n.jsx(Kv,{})}),n.jsx(Ee,{path:"/training/automated/generate",element:n.jsx($t,{to:"/training/generate",replace:!0})}),n.jsx(Ee,{path:"/training/automated/batch/:batchId",element:n.jsx(Qh,{})}),n.jsx(Ee,{path:"/training/automated/review",element:n.jsx($t,{to:"/training/review",replace:!0})}),n.jsx(Ee,{path:"/training/automated/batches",element:n.jsx($t,{to:"/training/batches",replace:!0})}),n.jsx(Ee,{path:"/smart-training",element:n.jsx($t,{to:"/training",replace:!0})}),n.jsx(Ee,{path:"/smart-training/queue",element:n.jsx($t,{to:"/training/queue",replace:!0})}),n.jsx(Ee,{path:"/smart-training/benchmarks",element:n.jsx($t,{to:"/training/benchmarks",replace:!0})}),n.jsx(Ee,{path:"/smart-training/discovery",element:n.jsx($t,{to:"/training/discovery",replace:!0})}),n.jsx(Ee,{path:"/smart-training/history",element:n.jsx($t,{to:"/training/history",replace:!0})}),n.jsx(Ee,{path:"/video-recognition",element:n.jsx(Lv,{})}),n.jsx(Ee,{path:"/video-recognition/upload",element:n.jsx(qv,{})}),n.jsx(Ee,{path:"/video-recognition/results",element:n.jsx(Vv,{})}),n.jsx(Ee,{path:"/storage-management",element:n.jsx(Gv,{})}),n.jsx(Ee,{path:"/rejected-faces",element:n.jsx(Jv,{})}),n.jsx(Ee,{path:"/training/failed",element:n.jsx(lj,{})}),n.jsx(Ee,{path:"/",element:n.jsx($t,{to:"/dashboard",replace:!0})})]}),n.jsx(Ee,{path:"*",element:n.jsx($t,{to:"/dashboard",replace:!0})})]})]})})})})}oy.createRoot(document.getElementById("root")).render(n.jsx(g.StrictMode,{children:n.jsx(sj,{})}));
